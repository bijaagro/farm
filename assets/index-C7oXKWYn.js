var jn=t=>{throw TypeError(t)};var Wr=(t,s,r)=>s.has(t)||jn("Cannot "+r);var B=(t,s,r)=>(Wr(t,s,"read from private field"),r?r.call(t):s.get(t)),pe=(t,s,r)=>s.has(t)?jn("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),le=(t,s,r,a)=>(Wr(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),Ae=(t,s,r)=>(Wr(t,s,"access private method"),r);var Js=(t,s,r,a)=>({set _(n){le(t,s,n,r)},get _(){return B(t,s,a)}});import{r as i,c as dt,b as io,u as je,j as e,B as nd,P as ge,d as Hs,e as Ve,f as se,g as ze,V as lo,a as od,h as id,i as co,k as ga,l as uo,o as G,v as ld,m as jr,D as ho,C as mo,n as po,p as cd,A as xo,q as go,S as dd,T as fo,I as ud,s as vo,t as yo,w as hd,x as jo,y as md,L as bo,z as wo,E as pd,F as xd,G as No,H as gd,J as fd,O as fa,K as Co,M as va,N as ya,Q as ja,U as ba,W as So,X as ko,Y as Do,Z as To,_ as Eo,$ as vd,a0 as br,a1 as Po,a2 as Ao,a3 as yd,a4 as jd,a5 as bd,a6 as wd,a7 as Ro,a8 as Nd,a9 as wa,aa as Cd,ab as ra,ac as Mo,ad as Sd,ae as Io,af as Fo,ag as kd}from"./ui-gHwHf7P0.js";import{c as Oo,R as is,B as Dd,C as _o,X as Lo,Y as Bo,T as ls,a as Td,P as dr,b as ur,d as hr,L as Ed,e as bn}from"./charts-Dgkiq-0N.js";import{a as Pd}from"./vendor-BtP0CW_r.js";import{L as gt,u as Ad,B as Rd,R as Md,a as Bt}from"./router-nbYLg2kR.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const Id=1,Fd=1e6;let qr=0;function Od(){return qr=(qr+1)%Number.MAX_SAFE_INTEGER,qr.toString()}const Yr=new Map,wn=t=>{if(Yr.has(t))return;const s=setTimeout(()=>{Yr.delete(t),Rs({type:"REMOVE_TOAST",toastId:t})},Fd);Yr.set(t,s)},_d=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Id)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?wn(r):t.toasts.forEach(a=>{wn(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},lr=[];let cr={toasts:[]};function Rs(t){cr=_d(cr,t),lr.forEach(s=>{s(cr)})}function Ld({...t}){const s=Od(),r=n=>Rs({type:"UPDATE_TOAST",toast:{...n,id:s}}),a=()=>Rs({type:"DISMISS_TOAST",toastId:s});return Rs({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||a()}}}),{id:s,dismiss:a,update:r}}function Ye(){const[t,s]=i.useState(cr);return i.useEffect(()=>(lr.push(s),()=>{const r=lr.indexOf(s);r>-1&&lr.splice(r,1)}),[t]),{...t,toast:Ld,dismiss:r=>Rs({type:"DISMISS_TOAST",toastId:r})}}var Na="ToastProvider",[Ca,Bd,$d]=io("Toast"),[$o,Wg]=dt("Toast",[$d]),[zd,wr]=$o(Na),zo=t=>{const{__scopeToast:s,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:l}=t,[c,m]=i.useState(null),[p,x]=i.useState(0),d=i.useRef(!1),g=i.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Na}\`. Expected non-empty \`string\`.`),e.jsx(Ca.Provider,{scope:s,children:e.jsx(zd,{scope:s,label:r,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:m,onToastAdd:i.useCallback(()=>x(h=>h+1),[]),onToastRemove:i.useCallback(()=>x(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:g,children:l})})};zo.displayName=Na;var Vo="ToastViewport",Vd=["F8"],aa="toast.viewportPause",na="toast.viewportResume",Ko=i.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:a=Vd,label:n="Notifications ({hotkey})",...o}=t,l=wr(Vo,r),c=Bd(r),m=i.useRef(null),p=i.useRef(null),x=i.useRef(null),d=i.useRef(null),g=je(s,d,l.onViewportChange),h=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=l.toastCount>0;i.useEffect(()=>{const f=N=>{var D;a.length!==0&&a.every(T=>N[T]||N.code===T)&&((D=d.current)==null||D.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[a]),i.useEffect(()=>{const f=m.current,N=d.current;if(y&&f&&N){const C=()=>{if(!l.isClosePausedRef.current){const j=new CustomEvent(aa);N.dispatchEvent(j),l.isClosePausedRef.current=!0}},D=()=>{if(l.isClosePausedRef.current){const j=new CustomEvent(na);N.dispatchEvent(j),l.isClosePausedRef.current=!1}},T=j=>{!f.contains(j.relatedTarget)&&D()},b=()=>{f.contains(document.activeElement)||D()};return f.addEventListener("focusin",C),f.addEventListener("focusout",T),f.addEventListener("pointermove",C),f.addEventListener("pointerleave",b),window.addEventListener("blur",C),window.addEventListener("focus",D),()=>{f.removeEventListener("focusin",C),f.removeEventListener("focusout",T),f.removeEventListener("pointermove",C),f.removeEventListener("pointerleave",b),window.removeEventListener("blur",C),window.removeEventListener("focus",D)}}},[y,l.isClosePausedRef]);const u=i.useCallback(({tabbingDirection:f})=>{const C=c().map(D=>{const T=D.ref.current,b=[T,...tu(T)];return f==="forwards"?b:b.reverse()});return(f==="forwards"?C.reverse():C).flat()},[c]);return i.useEffect(()=>{const f=d.current;if(f){const N=C=>{var b,j,_;const D=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!D){const w=document.activeElement,P=C.shiftKey;if(C.target===f&&P){(b=p.current)==null||b.focus();return}const E=u({tabbingDirection:P?"backwards":"forwards"}),F=E.findIndex(A=>A===w);Qr(E.slice(F+1))?C.preventDefault():P?(j=p.current)==null||j.focus():(_=x.current)==null||_.focus()}};return f.addEventListener("keydown",N),()=>f.removeEventListener("keydown",N)}},[c,u]),e.jsxs(nd,{ref:m,role:"region","aria-label":n.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&e.jsx(oa,{ref:p,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"forwards"});Qr(f)}}),e.jsx(Ca.Slot,{scope:r,children:e.jsx(ge.ol,{tabIndex:-1,...o,ref:g})}),y&&e.jsx(oa,{ref:x,onFocusFromOutsideViewport:()=>{const f=u({tabbingDirection:"backwards"});Qr(f)}})]})});Ko.displayName=Vo;var Uo="ToastFocusProxy",oa=i.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=t,o=wr(Uo,r);return e.jsx(lo,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=o.viewport)!=null&&p.contains(c))&&a()}})});oa.displayName=Uo;var Gs="Toast",Kd="toast.swipeStart",Ud="toast.swipeMove",Hd="toast.swipeCancel",Gd="toast.swipeEnd",Ho=i.forwardRef((t,s)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:o,...l}=t,[c,m]=Hs({prop:a,defaultProp:n??!0,onChange:o,caller:Gs});return e.jsx(Ve,{present:r||c,children:e.jsx(Yd,{open:c,...l,ref:s,onClose:()=>m(!1),onPause:ze(t.onPause),onResume:ze(t.onResume),onSwipeStart:se(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,p=>{const{x,y:d}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:se(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,p=>{const{x,y:d}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),m(!1)})})})});Ho.displayName=Gs;var[Wd,qd]=$o(Gs,{onClose(){}}),Yd=i.forwardRef((t,s)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:o,onClose:l,onEscapeKeyDown:c,onPause:m,onResume:p,onSwipeStart:x,onSwipeMove:d,onSwipeCancel:g,onSwipeEnd:h,...y}=t,u=wr(Gs,r),[f,N]=i.useState(null),C=je(s,A=>N(A)),D=i.useRef(null),T=i.useRef(null),b=n||u.duration,j=i.useRef(0),_=i.useRef(b),w=i.useRef(0),{onToastAdd:P,onToastRemove:K}=u,X=ze(()=>{var q;(f==null?void 0:f.contains(document.activeElement))&&((q=u.viewport)==null||q.focus()),l()}),E=i.useCallback(A=>{!A||A===1/0||(window.clearTimeout(w.current),j.current=new Date().getTime(),w.current=window.setTimeout(X,A))},[X]);i.useEffect(()=>{const A=u.viewport;if(A){const q=()=>{E(_.current),p==null||p()},Z=()=>{const L=new Date().getTime()-j.current;_.current=_.current-L,window.clearTimeout(w.current),m==null||m()};return A.addEventListener(aa,Z),A.addEventListener(na,q),()=>{A.removeEventListener(aa,Z),A.removeEventListener(na,q)}}},[u.viewport,b,m,p,E]),i.useEffect(()=>{o&&!u.isClosePausedRef.current&&E(b)},[o,b,u.isClosePausedRef,E]),i.useEffect(()=>(P(),()=>K()),[P,K]);const F=i.useMemo(()=>f?Zo(f):null,[f]);return u.viewport?e.jsxs(e.Fragment,{children:[F&&e.jsx(Qd,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),e.jsx(Wd,{scope:r,onClose:X,children:od.createPortal(e.jsx(Ca.ItemSlot,{scope:r,children:e.jsx(id,{asChild:!0,onEscapeKeyDown:se(c,()=>{u.isFocusedToastEscapeKeyDownRef.current||X(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":u.swipeDirection,...y,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,A=>{A.key==="Escape"&&(c==null||c(A.nativeEvent),A.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:se(t.onPointerDown,A=>{A.button===0&&(D.current={x:A.clientX,y:A.clientY})}),onPointerMove:se(t.onPointerMove,A=>{if(!D.current)return;const q=A.clientX-D.current.x,Z=A.clientY-D.current.y,L=!!T.current,z=["left","right"].includes(u.swipeDirection),I=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,ne=z?I(0,q):0,S=z?0:I(0,Z),k=A.pointerType==="touch"?10:2,M={x:ne,y:S},V={originalEvent:A,delta:M};L?(T.current=M,er(Ud,d,V,{discrete:!1})):Nn(M,u.swipeDirection,k)?(T.current=M,er(Kd,x,V,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(q)>k||Math.abs(Z)>k)&&(D.current=null)}),onPointerUp:se(t.onPointerUp,A=>{const q=T.current,Z=A.target;if(Z.hasPointerCapture(A.pointerId)&&Z.releasePointerCapture(A.pointerId),T.current=null,D.current=null,q){const L=A.currentTarget,z={originalEvent:A,delta:q};Nn(q,u.swipeDirection,u.swipeThreshold)?er(Gd,h,z,{discrete:!0}):er(Hd,g,z,{discrete:!0}),L.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),Qd=t=>{const{__scopeToast:s,children:r,...a}=t,n=wr(Gs,s),[o,l]=i.useState(!1),[c,m]=i.useState(!1);return Jd(()=>l(!0)),i.useEffect(()=>{const p=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:e.jsx(co,{asChild:!0,children:e.jsx(lo,{...a,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",r]})})})},Xd="ToastTitle",Go=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(ge.div,{...a,ref:s})});Go.displayName=Xd;var Zd="ToastDescription",Wo=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(ge.div,{...a,ref:s})});Wo.displayName=Zd;var qo="ToastAction",Yo=i.forwardRef((t,s)=>{const{altText:r,...a}=t;return r.trim()?e.jsx(Xo,{altText:r,asChild:!0,children:e.jsx(Sa,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${qo}\`. Expected non-empty \`string\`.`),null)});Yo.displayName=qo;var Qo="ToastClose",Sa=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t,n=qd(Qo,r);return e.jsx(Xo,{asChild:!0,children:e.jsx(ge.button,{type:"button",...a,ref:s,onClick:se(t.onClick,n.onClose)})})});Sa.displayName=Qo;var Xo=i.forwardRef((t,s)=>{const{__scopeToast:r,altText:a,...n}=t;return e.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:s})});function Zo(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),eu(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const l=a.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...Zo(a))}}),s}function er(t,s,r,{discrete:a}){const n=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?uo(n,o):n.dispatchEvent(o)}var Nn=(t,s,r=0)=>{const a=Math.abs(t.x),n=Math.abs(t.y),o=a>n;return s==="left"||s==="right"?o&&a>r:!o&&n>r};function Jd(t=()=>{}){const s=ze(t);ga(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[s])}function eu(t){return t.nodeType===t.ELEMENT_NODE}function tu(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Qr(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var su=zo,Jo=Ko,ei=Ho,ti=Go,si=Wo,ri=Yo,ai=Sa;const Cn=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sn=Oo,Nr=(t,s)=>r=>{var a;if((s==null?void 0:s.variants)==null)return Sn(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=s,l=Object.keys(n).map(p=>{const x=r==null?void 0:r[p],d=o==null?void 0:o[p];if(x===null)return null;const g=Cn(x)||Cn(d);return n[p][g]}),c=r&&Object.entries(r).reduce((p,x)=>{let[d,g]=x;return g===void 0||(p[d]=g),p},{}),m=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((p,x)=>{let{class:d,className:g,...h}=x;return Object.entries(h).every(y=>{let[u,f]=y;return Array.isArray(f)?f.includes({...o,...c}[u]):{...o,...c}[u]===f})?[...p,d,g]:p},[]);return Sn(t,l,m,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ni=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var au={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=i.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:l,...c},m)=>i.createElement("svg",{ref:m,...au,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:ni("lucide",n),...c},[...l.map(([p,x])=>i.createElement(p,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(t,s)=>{const r=i.forwardRef(({className:a,...n},o)=>i.createElement(nu,{ref:o,iconNode:s,className:ni(`lucide-${ru(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=J("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=J("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=J("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=J("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=J("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=J("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=J("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=J("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=J("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=J("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=J("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=J("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=J("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=J("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=J("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=J("Rabbit",[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=J("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=J("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=J("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=J("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=J("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=J("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=J("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=J("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=J("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=J("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=J("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=J("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ta="-",ku=t=>{const s=Tu(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:l=>{const c=l.split(Ta);return c[0]===""&&c.length!==1&&c.shift(),ui(c,s)||Du(l)},getConflictingClassGroupIds:(l,c)=>{const m=r[l]||[];return c&&a[l]?[...m,...a[l]]:m}}},ui=(t,s)=>{var l;if(t.length===0)return s.classGroupId;const r=t[0],a=s.nextPart.get(r),n=a?ui(t.slice(1),a):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(Ta);return(l=s.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},Pn=/^\[(.+)\]$/,Du=t=>{if(Pn.test(t)){const s=Pn.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Tu=t=>{const{theme:s,prefix:r}=t,a={nextPart:new Map,validators:[]};return Pu(Object.entries(t.classGroups),r).forEach(([o,l])=>{la(l,a,o,s)}),a},la=(t,s,r,a)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:An(s,n);o.classGroupId=r;return}if(typeof n=="function"){if(Eu(n)){la(n(a),s,r,a);return}s.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,l])=>{la(l,An(s,o),r,a)})})},An=(t,s)=>{let r=t;return s.split(Ta).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},Eu=t=>t.isThemeGetter,Pu=(t,s)=>s?t.map(([r,a])=>{const n=a.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[s+l,c])):o);return[r,n]}):t,Au=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,a=new Map;const n=(o,l)=>{r.set(o,l),s++,s>t&&(s=0,a=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=a.get(o))!==void 0)return n(o,l),l},set(o,l){r.has(o)?r.set(o,l):n(o,l)}}},hi="!",Ru=t=>{const{separator:s,experimentalParseClassName:r}=t,a=s.length===1,n=s[0],o=s.length,l=c=>{const m=[];let p=0,x=0,d;for(let f=0;f<c.length;f++){let N=c[f];if(p===0){if(N===n&&(a||c.slice(f,f+o)===s)){m.push(c.slice(x,f)),x=f+o;continue}if(N==="/"){d=f;continue}}N==="["?p++:N==="]"&&p--}const g=m.length===0?c:c.substring(x),h=g.startsWith(hi),y=h?g.substring(1):g,u=d&&d>x?d-x:void 0;return{modifiers:m,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:u}};return r?c=>r({className:c,parseClassName:l}):l},Mu=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(a=>{a[0]==="["?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s},Iu=t=>({cache:Au(t.cacheSize),parseClassName:Ru(t),...ku(t)}),Fu=/\s+/,Ou=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=s,o=[],l=t.trim().split(Fu);let c="";for(let m=l.length-1;m>=0;m-=1){const p=l[m],{modifiers:x,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:h}=r(p);let y=!!h,u=a(y?g.substring(0,h):g);if(!u){if(!y){c=p+(c.length>0?" "+c:c);continue}if(u=a(g),!u){c=p+(c.length>0?" "+c:c);continue}y=!1}const f=Mu(x).join(":"),N=d?f+hi:f,C=N+u;if(o.includes(C))continue;o.push(C);const D=n(u,y);for(let T=0;T<D.length;++T){const b=D[T];o.push(N+b)}c=p+(c.length>0?" "+c:c)}return c};function _u(){let t=0,s,r,a="";for(;t<arguments.length;)(s=arguments[t++])&&(r=mi(s))&&(a&&(a+=" "),a+=r);return a}const mi=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=mi(t[a]))&&(r&&(r+=" "),r+=s);return r};function Lu(t,...s){let r,a,n,o=l;function l(m){const p=s.reduce((x,d)=>d(x),t());return r=Iu(p),a=r.cache.get,n=r.cache.set,o=c,c(m)}function c(m){const p=a(m);if(p)return p;const x=Ou(m,r);return n(m,x),x}return function(){return o(_u.apply(null,arguments))}}const ve=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},pi=/^\[(?:([a-z-]+):)?(.+)\]$/i,Bu=/^\d+\/\d+$/,$u=new Set(["px","full","screen"]),zu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ku=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Uu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mt=t=>ds(t)||$u.has(t)||Bu.test(t),Nt=t=>ks(t,"length",Ju),ds=t=>!!t&&!Number.isNaN(Number(t)),Jr=t=>ks(t,"number",ds),Es=t=>!!t&&Number.isInteger(Number(t)),Gu=t=>t.endsWith("%")&&ds(t.slice(0,-1)),ce=t=>pi.test(t),Ct=t=>zu.test(t),Wu=new Set(["length","size","percentage"]),qu=t=>ks(t,Wu,xi),Yu=t=>ks(t,"position",xi),Qu=new Set(["image","url"]),Xu=t=>ks(t,Qu,th),Zu=t=>ks(t,"",eh),Ps=()=>!0,ks=(t,s,r)=>{const a=pi.exec(t);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):r(a[2]):!1},Ju=t=>Vu.test(t)&&!Ku.test(t),xi=()=>!1,eh=t=>Uu.test(t),th=t=>Hu.test(t),sh=()=>{const t=ve("colors"),s=ve("spacing"),r=ve("blur"),a=ve("brightness"),n=ve("borderColor"),o=ve("borderRadius"),l=ve("borderSpacing"),c=ve("borderWidth"),m=ve("contrast"),p=ve("grayscale"),x=ve("hueRotate"),d=ve("invert"),g=ve("gap"),h=ve("gradientColorStops"),y=ve("gradientColorStopPositions"),u=ve("inset"),f=ve("margin"),N=ve("opacity"),C=ve("padding"),D=ve("saturate"),T=ve("scale"),b=ve("sepia"),j=ve("skew"),_=ve("space"),w=ve("translate"),P=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",ce,s],E=()=>[ce,s],F=()=>["",mt,Nt],A=()=>["auto",ds,ce],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ce],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>[ds,ce];return{cacheSize:500,separator:":",theme:{colors:[Ps],spacing:[mt,Nt],blur:["none","",Ct,ce],brightness:S(),borderColor:[t],borderRadius:["none","","full",Ct,ce],borderSpacing:E(),borderWidth:F(),contrast:S(),grayscale:I(),hueRotate:S(),invert:I(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[Gu,Nt],inset:X(),margin:X(),opacity:S(),padding:E(),saturate:S(),scale:S(),sepia:I(),skew:S(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Ct]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ce]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Es,ce]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Es,ce]}],"grid-cols":[{"grid-cols":[Ps]}],"col-start-end":[{col:["auto",{span:["full",Es,ce]},ce]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Ps]}],"row-start-end":[{row:["auto",{span:[Es,ce]},ce]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,s]}],"min-w":[{"min-w":[ce,s,"min","max","fit"]}],"max-w":[{"max-w":[ce,s,"none","full","min","max","fit","prose",{screen:[Ct]},Ct]}],h:[{h:[ce,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Ct,Nt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jr]}],"font-family":[{font:[Ps]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",ds,Jr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mt,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mt,Nt]}],"underline-offset":[{"underline-offset":["auto",mt,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Yu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Z()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[mt,ce]}],"outline-w":[{outline:[mt,Nt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[mt,Nt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ct,Zu]}],"shadow-color":[{shadow:[Ps]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Ct,ce]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[d]}],saturate:[{saturate:[D]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Es,ce]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mt,Nt,Jr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rh=Lu(sh);function Y(...t){return rh(Oo(t))}const ah=su,gi=i.forwardRef(({className:t,...s},r)=>e.jsx(Jo,{ref:r,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));gi.displayName=Jo.displayName;const nh=Nr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fi=i.forwardRef(({className:t,variant:s,...r},a)=>e.jsx(ei,{ref:a,className:Y(nh({variant:s}),t),...r}));fi.displayName=ei.displayName;const oh=i.forwardRef(({className:t,...s},r)=>e.jsx(ri,{ref:r,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));oh.displayName=ri.displayName;const vi=i.forwardRef(({className:t,...s},r)=>e.jsx(ai,{ref:r,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ns,{className:"h-4 w-4"})}));vi.displayName=ai.displayName;const yi=i.forwardRef(({className:t,...s},r)=>e.jsx(ti,{ref:r,className:Y("text-sm font-semibold",t),...s}));yi.displayName=ti.displayName;const ji=i.forwardRef(({className:t,...s},r)=>e.jsx(si,{ref:r,className:Y("text-sm opacity-90",t),...s}));ji.displayName=si.displayName;function ih(){const{toasts:t}=Ye();return e.jsxs(ah,{children:[t.map(function({id:s,title:r,description:a,action:n,...o}){return e.jsxs(fi,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(yi,{children:r}),a&&e.jsx(ji,{children:a})]}),n,e.jsx(vi,{})]},s)}),e.jsx(gi,{})]})}var sr={},Rn;function lh(){if(Rn)return sr;Rn=1;var t=Pd();return sr.createRoot=t.createRoot,sr.hydrateRoot=t.hydrateRoot,sr}var ch=lh(),Mn=["light","dark"],dh="(prefers-color-scheme: dark)",uh=i.createContext(void 0),hh={setTheme:t=>{},themes:[]},mh=()=>{var t;return(t=i.useContext(uh))!=null?t:hh};i.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:a,enableColorScheme:n,defaultTheme:o,value:l,attrs:c,nonce:m})=>{let p=o==="system",x=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=n?Mn.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(y,u=!1,f=!0)=>{let N=l?l[y]:y,C=u?y+"|| ''":`'${N}'`,D="";return n&&f&&!u&&Mn.includes(y)&&(D+=`d.style.colorScheme = '${y}';`),r==="class"?u||N?D+=`c.add(${C})`:D+="null":N&&(D+=`d[s](n,${C})`),D},h=t?`!function(){${x}${g(t)}}()`:a?`!function(){try{${x}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${p})){var t='${dh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}${p?"":"else{"+g(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${s}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${d}}catch(t){}}();`;return i.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:h}})});var ph=t=>{switch(t){case"success":return fh;case"info":return yh;case"warning":return vh;case"error":return jh;default:return null}},xh=Array(12).fill(0),gh=({visible:t,className:s})=>G.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},xh.map((r,a)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),fh=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vh=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yh=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jh=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bh=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wh=()=>{let[t,s]=G.useState(document.hidden);return G.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},ca=1,Nh=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:r,...a}=t,n=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ca++,o=this.toasts.find(c=>c.id===n),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(c=>c.id===n?(this.publish({...c,...t,id:n,title:r}),{...c,...t,id:n,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let a=t instanceof Promise?t:t(),n=r!==void 0,o,l=a.then(async m=>{if(o=["resolve",m],G.isValidElement(m))n=!1,this.create({id:r,type:"default",message:m});else if(Sh(m)&&!m.ok){n=!1;let p=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description;this.create({id:r,type:"error",message:p,description:x})}else if(s.success!==void 0){n=!1;let p=typeof s.success=="function"?await s.success(m):s.success,x=typeof s.description=="function"?await s.description(m):s.description;this.create({id:r,type:"success",message:p,description:x})}}).catch(async m=>{if(o=["reject",m],s.error!==void 0){n=!1;let p=typeof s.error=="function"?await s.error(m):s.error,x=typeof s.description=="function"?await s.description(m):s.description;this.create({id:r,type:"error",message:p,description:x})}}).finally(()=>{var m;n&&(this.dismiss(r),r=void 0),(m=s.finally)==null||m.call(s)}),c=()=>new Promise((m,p)=>l.then(()=>o[0]==="reject"?p(o[1]):m(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,s)=>{let r=(s==null?void 0:s.id)||ca++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$e=new Nh,Ch=(t,s)=>{let r=(s==null?void 0:s.id)||ca++;return $e.addToast({title:t,...s,id:r}),r},Sh=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kh=Ch,Dh=()=>$e.toasts,Th=()=>$e.getActiveToasts();Object.assign(kh,{success:$e.success,info:$e.info,warning:$e.warning,error:$e.error,custom:$e.custom,message:$e.message,promise:$e.promise,dismiss:$e.dismiss,loading:$e.loading},{getHistory:Dh,getToasts:Th});function Eh(t,{insertAt:s}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}Eh(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rr(t){return t.label!==void 0}var Ph=3,Ah="32px",Rh="16px",In=4e3,Mh=356,Ih=14,Fh=20,Oh=200;function et(...t){return t.filter(Boolean).join(" ")}function _h(t){let[s,r]=t.split("-"),a=[];return s&&a.push(s),r&&a.push(r),a}var Lh=t=>{var s,r,a,n,o,l,c,m,p,x,d;let{invert:g,toast:h,unstyled:y,interacting:u,setHeights:f,visibleToasts:N,heights:C,index:D,toasts:T,expanded:b,removeToast:j,defaultRichColors:_,closeButton:w,style:P,cancelButtonStyle:K,actionButtonStyle:X,className:E="",descriptionClassName:F="",duration:A,position:q,gap:Z,loadingIcon:L,expandByDefault:z,classNames:I,icons:ne,closeButtonAriaLabel:S="Close toast",pauseWhenPageIsHidden:k}=t,[M,V]=G.useState(null),[oe,ae]=G.useState(null),[v,O]=G.useState(!1),[re,Se]=G.useState(!1),[Ot,ss]=G.useState(!1),[Xs,Kr]=G.useState(!1),[Ur,Ce]=G.useState(!1),[Pe,ht]=G.useState(0),[Ds,pn]=G.useState(0),Ts=G.useRef(h.duration||A||In),xn=G.useRef(null),_t=G.useRef(null),Qc=D===0,Xc=D+1<=N,Ke=h.type,rs=h.dismissible!==!1,Zc=h.className||"",Jc=h.descriptionClassName||"",Zs=G.useMemo(()=>C.findIndex(ie=>ie.toastId===h.id)||0,[C,h.id]),ed=G.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:w},[h.closeButton,w]),gn=G.useMemo(()=>h.duration||A||In,[h.duration,A]),Hr=G.useRef(0),as=G.useRef(0),fn=G.useRef(0),ns=G.useRef(null),[td,sd]=q.split("-"),vn=G.useMemo(()=>C.reduce((ie,fe,ye)=>ye>=Zs?ie:ie+fe.height,0),[C,Zs]),yn=wh(),rd=h.invert||g,Gr=Ke==="loading";as.current=G.useMemo(()=>Zs*Z+vn,[Zs,vn]),G.useEffect(()=>{Ts.current=gn},[gn]),G.useEffect(()=>{O(!0)},[]),G.useEffect(()=>{let ie=_t.current;if(ie){let fe=ie.getBoundingClientRect().height;return pn(fe),f(ye=>[{toastId:h.id,height:fe,position:h.position},...ye]),()=>f(ye=>ye.filter(Xe=>Xe.toastId!==h.id))}},[f,h.id]),G.useLayoutEffect(()=>{if(!v)return;let ie=_t.current,fe=ie.style.height;ie.style.height="auto";let ye=ie.getBoundingClientRect().height;ie.style.height=fe,pn(ye),f(Xe=>Xe.find(Ze=>Ze.toastId===h.id)?Xe.map(Ze=>Ze.toastId===h.id?{...Ze,height:ye}:Ze):[{toastId:h.id,height:ye,position:h.position},...Xe])},[v,h.title,h.description,f,h.id]);let jt=G.useCallback(()=>{Se(!0),ht(as.current),f(ie=>ie.filter(fe=>fe.toastId!==h.id)),setTimeout(()=>{j(h)},Oh)},[h,j,f,as]);G.useEffect(()=>{if(h.promise&&Ke==="loading"||h.duration===1/0||h.type==="loading")return;let ie;return b||u||k&&yn?(()=>{if(fn.current<Hr.current){let fe=new Date().getTime()-Hr.current;Ts.current=Ts.current-fe}fn.current=new Date().getTime()})():Ts.current!==1/0&&(Hr.current=new Date().getTime(),ie=setTimeout(()=>{var fe;(fe=h.onAutoClose)==null||fe.call(h,h),jt()},Ts.current)),()=>clearTimeout(ie)},[b,u,h,Ke,k,yn,jt]),G.useEffect(()=>{h.delete&&jt()},[jt,h.delete]);function ad(){var ie,fe,ye;return ne!=null&&ne.loading?G.createElement("div",{className:et(I==null?void 0:I.loader,(ie=h==null?void 0:h.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Ke==="loading"},ne.loading):L?G.createElement("div",{className:et(I==null?void 0:I.loader,(fe=h==null?void 0:h.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":Ke==="loading"},L):G.createElement(gh,{className:et(I==null?void 0:I.loader,(ye=h==null?void 0:h.classNames)==null?void 0:ye.loader),visible:Ke==="loading"})}return G.createElement("li",{tabIndex:0,ref:_t,className:et(E,Zc,I==null?void 0:I.toast,(s=h==null?void 0:h.classNames)==null?void 0:s.toast,I==null?void 0:I.default,I==null?void 0:I[Ke],(r=h==null?void 0:h.classNames)==null?void 0:r[Ke]),"data-sonner-toast":"","data-rich-colors":(a=h.richColors)!=null?a:_,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":v,"data-promise":!!h.promise,"data-swiped":Ur,"data-removed":re,"data-visible":Xc,"data-y-position":td,"data-x-position":sd,"data-index":D,"data-front":Qc,"data-swiping":Ot,"data-dismissible":rs,"data-type":Ke,"data-invert":rd,"data-swipe-out":Xs,"data-swipe-direction":oe,"data-expanded":!!(b||z&&v),style:{"--index":D,"--toasts-before":D,"--z-index":T.length-D,"--offset":`${re?Pe:as.current}px`,"--initial-height":z?"auto":`${Ds}px`,...P,...h.style},onDragEnd:()=>{ss(!1),V(null),ns.current=null},onPointerDown:ie=>{Gr||!rs||(xn.current=new Date,ht(as.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(ss(!0),ns.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,fe,ye,Xe;if(Xs||!rs)return;ns.current=null;let Ze=Number(((ie=_t.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bt=Number(((fe=_t.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((ye=xn.current)==null?void 0:ye.getTime()),Je=M==="x"?Ze:bt,wt=Math.abs(Je)/Lt;if(Math.abs(Je)>=Fh||wt>.11){ht(as.current),(Xe=h.onDismiss)==null||Xe.call(h,h),ae(M==="x"?Ze>0?"right":"left":bt>0?"down":"up"),jt(),Kr(!0),Ce(!1);return}ss(!1),V(null)},onPointerMove:ie=>{var fe,ye,Xe,Ze;if(!ns.current||!rs||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;let bt=ie.clientY-ns.current.y,Lt=ie.clientX-ns.current.x,Je=(ye=t.swipeDirections)!=null?ye:_h(q);!M&&(Math.abs(Lt)>1||Math.abs(bt)>1)&&V(Math.abs(Lt)>Math.abs(bt)?"x":"y");let wt={x:0,y:0};M==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&bt<0||Je.includes("bottom")&&bt>0)&&(wt.y=bt):M==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Lt<0||Je.includes("right")&&Lt>0)&&(wt.x=Lt),(Math.abs(wt.x)>0||Math.abs(wt.y)>0)&&Ce(!0),(Xe=_t.current)==null||Xe.style.setProperty("--swipe-amount-x",`${wt.x}px`),(Ze=_t.current)==null||Ze.style.setProperty("--swipe-amount-y",`${wt.y}px`)}},ed&&!h.jsx?G.createElement("button",{"aria-label":S,"data-disabled":Gr,"data-close-button":!0,onClick:Gr||!rs?()=>{}:()=>{var ie;jt(),(ie=h.onDismiss)==null||ie.call(h,h)},className:et(I==null?void 0:I.closeButton,(n=h==null?void 0:h.classNames)==null?void 0:n.closeButton)},(o=ne==null?void 0:ne.close)!=null?o:bh):null,h.jsx||i.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:G.createElement(G.Fragment,null,Ke||h.icon||h.promise?G.createElement("div",{"data-icon":"",className:et(I==null?void 0:I.icon,(l=h==null?void 0:h.classNames)==null?void 0:l.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ad():null,h.type!=="loading"?h.icon||(ne==null?void 0:ne[Ke])||ph(Ke):null):null,G.createElement("div",{"data-content":"",className:et(I==null?void 0:I.content,(c=h==null?void 0:h.classNames)==null?void 0:c.content)},G.createElement("div",{"data-title":"",className:et(I==null?void 0:I.title,(m=h==null?void 0:h.classNames)==null?void 0:m.title)},typeof h.title=="function"?h.title():h.title),h.description?G.createElement("div",{"data-description":"",className:et(F,Jc,I==null?void 0:I.description,(p=h==null?void 0:h.classNames)==null?void 0:p.description)},typeof h.description=="function"?h.description():h.description):null),i.isValidElement(h.cancel)?h.cancel:h.cancel&&rr(h.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||K,onClick:ie=>{var fe,ye;rr(h.cancel)&&rs&&((ye=(fe=h.cancel).onClick)==null||ye.call(fe,ie),jt())},className:et(I==null?void 0:I.cancelButton,(x=h==null?void 0:h.classNames)==null?void 0:x.cancelButton)},h.cancel.label):null,i.isValidElement(h.action)?h.action:h.action&&rr(h.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||X,onClick:ie=>{var fe,ye;rr(h.action)&&((ye=(fe=h.action).onClick)==null||ye.call(fe,ie),!ie.defaultPrevented&&jt())},className:et(I==null?void 0:I.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Fn(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Bh(t,s){let r={};return[t,s].forEach((a,n)=>{let o=n===1,l=o?"--mobile-offset":"--offset",c=o?Rh:Ah;function m(p){["top","right","bottom","left"].forEach(x=>{r[`${l}-${x}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?m(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?r[`${l}-${p}`]=c:r[`${l}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):m(c)}),r}var $h=i.forwardRef(function(t,s){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:m,mobileOffset:p,theme:x="light",richColors:d,duration:g,style:h,visibleToasts:y=Ph,toastOptions:u,dir:f=Fn(),gap:N=Ih,loadingIcon:C,icons:D,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:b}=t,[j,_]=G.useState([]),w=G.useMemo(()=>Array.from(new Set([a].concat(j.filter(k=>k.position).map(k=>k.position)))),[j,a]),[P,K]=G.useState([]),[X,E]=G.useState(!1),[F,A]=G.useState(!1),[q,Z]=G.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=G.useRef(null),z=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=G.useRef(null),ne=G.useRef(!1),S=G.useCallback(k=>{_(M=>{var V;return(V=M.find(oe=>oe.id===k.id))!=null&&V.delete||$e.dismiss(k.id),M.filter(({id:oe})=>oe!==k.id)})},[]);return G.useEffect(()=>$e.subscribe(k=>{if(k.dismiss){_(M=>M.map(V=>V.id===k.id?{...V,delete:!0}:V));return}setTimeout(()=>{ld.flushSync(()=>{_(M=>{let V=M.findIndex(oe=>oe.id===k.id);return V!==-1?[...M.slice(0,V),{...M[V],...k},...M.slice(V+1)]:[k,...M]})})})}),[]),G.useEffect(()=>{if(x!=="system"){Z(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:M})=>{Z(M?"dark":"light")})}catch{k.addListener(({matches:V})=>{try{Z(V?"dark":"light")}catch(oe){console.error(oe)}})}},[x]),G.useEffect(()=>{j.length<=1&&E(!1)},[j]),G.useEffect(()=>{let k=M=>{var V,oe;n.every(ae=>M[ae]||M.code===ae)&&(E(!0),(V=L.current)==null||V.focus()),M.code==="Escape"&&(document.activeElement===L.current||(oe=L.current)!=null&&oe.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]),G.useEffect(()=>{if(L.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,ne.current=!1)}},[L.current]),G.createElement("section",{ref:s,"aria-label":`${T} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((k,M)=>{var V;let[oe,ae]=k.split("-");return j.length?G.createElement("ol",{key:k,dir:f==="auto"?Fn():f,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":oe,"data-lifted":X&&j.length>1&&!o,"data-x-position":ae,style:{"--front-toast-height":`${((V=P[0])==null?void 0:V.height)||0}px`,"--width":`${Mh}px`,"--gap":`${N}px`,...h,...Bh(m,p)},onBlur:v=>{ne.current&&!v.currentTarget.contains(v.relatedTarget)&&(ne.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:v=>{v.target instanceof HTMLElement&&v.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,I.current=v.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{F||E(!1)},onDragEnd:()=>E(!1),onPointerDown:v=>{v.target instanceof HTMLElement&&v.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},j.filter(v=>!v.position&&M===0||v.position===k).map((v,O)=>{var re,Se;return G.createElement(Lh,{key:v.id,icons:D,index:O,toast:v,defaultRichColors:d,duration:(re=u==null?void 0:u.duration)!=null?re:g,className:u==null?void 0:u.className,descriptionClassName:u==null?void 0:u.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Se=u==null?void 0:u.closeButton)!=null?Se:l,interacting:F,position:k,style:u==null?void 0:u.style,unstyled:u==null?void 0:u.unstyled,classNames:u==null?void 0:u.classNames,cancelButtonStyle:u==null?void 0:u.cancelButtonStyle,actionButtonStyle:u==null?void 0:u.actionButtonStyle,removeToast:S,toasts:j.filter(Ot=>Ot.position==v.position),heights:P.filter(Ot=>Ot.position==v.position),setHeights:K,expandByDefault:o,gap:N,loadingIcon:C,expanded:X,pauseWhenPageIsHidden:b,swipeDirections:t.swipeDirections})})):null}))});const zh=({...t})=>{const{theme:s="system"}=mh();return e.jsx($h,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var[kr,qg]=dt("Tooltip",[jr]),Ea=jr(),bi="TooltipProvider",Vh=700,On="tooltip.open",[Kh,wi]=kr(bi),Ni=t=>{const{__scopeTooltip:s,delayDuration:r=Vh,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:o}=t,l=i.useRef(!0),c=i.useRef(!1),m=i.useRef(0);return i.useEffect(()=>{const p=m.current;return()=>window.clearTimeout(p)},[]),e.jsx(Kh,{scope:s,isOpenDelayedRef:l,delayDuration:r,onOpen:i.useCallback(()=>{window.clearTimeout(m.current),l.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:c,onPointerInTransitChange:i.useCallback(p=>{c.current=p},[]),disableHoverableContent:n,children:o})};Ni.displayName=bi;var Ci="Tooltip",[Yg,Dr]=kr(Ci),da="TooltipTrigger",Uh=i.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=Dr(da,r),o=wi(da,r),l=Ea(r),c=i.useRef(null),m=je(s,c,n.onTriggerChange),p=i.useRef(!1),x=i.useRef(!1),d=i.useCallback(()=>p.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),e.jsx(xo,{asChild:!0,...l,children:e.jsx(ge.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:m,onPointerMove:se(t.onPointerMove,g=>{g.pointerType!=="touch"&&!x.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),x.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{n.onTriggerLeave(),x.current=!1}),onPointerDown:se(t.onPointerDown,()=>{n.open&&n.onClose(),p.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:se(t.onFocus,()=>{p.current||n.onOpen()}),onBlur:se(t.onBlur,n.onClose),onClick:se(t.onClick,n.onClose)})})});Uh.displayName=da;var Hh="TooltipPortal",[Qg,Gh]=kr(Hh,{forceMount:void 0}),Cs="TooltipContent",Si=i.forwardRef((t,s)=>{const r=Gh(Cs,t.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...o}=t,l=Dr(Cs,t.__scopeTooltip);return e.jsx(Ve,{present:a||l.open,children:l.disableHoverableContent?e.jsx(ki,{side:n,...o,ref:s}):e.jsx(Wh,{side:n,...o,ref:s})})}),Wh=i.forwardRef((t,s)=>{const r=Dr(Cs,t.__scopeTooltip),a=wi(Cs,t.__scopeTooltip),n=i.useRef(null),o=je(s,n),[l,c]=i.useState(null),{trigger:m,onClose:p}=r,x=n.current,{onPointerInTransitChange:d}=a,g=i.useCallback(()=>{c(null),d(!1)},[d]),h=i.useCallback((y,u)=>{const f=y.currentTarget,N={x:y.clientX,y:y.clientY},C=Zh(N,f.getBoundingClientRect()),D=Jh(N,C),T=em(u.getBoundingClientRect()),b=sm([...D,...T]);c(b),d(!0)},[d]);return i.useEffect(()=>()=>g(),[g]),i.useEffect(()=>{if(m&&x){const y=f=>h(f,x),u=f=>h(f,m);return m.addEventListener("pointerleave",y),x.addEventListener("pointerleave",u),()=>{m.removeEventListener("pointerleave",y),x.removeEventListener("pointerleave",u)}}},[m,x,h,g]),i.useEffect(()=>{if(l){const y=u=>{const f=u.target,N={x:u.clientX,y:u.clientY},C=(m==null?void 0:m.contains(f))||(x==null?void 0:x.contains(f)),D=!tm(N,l);C?g():D&&(g(),p())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[m,x,l,p,g]),e.jsx(ki,{...t,ref:o})}),[qh,Yh]=kr(Ci,{isInside:!1}),Qh=po("TooltipContent"),ki=i.forwardRef((t,s)=>{const{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=t,m=Dr(Cs,r),p=Ea(r),{onClose:x}=m;return i.useEffect(()=>(document.addEventListener(On,x),()=>document.removeEventListener(On,x)),[x]),i.useEffect(()=>{if(m.trigger){const d=g=>{const h=g.target;h!=null&&h.contains(m.trigger)&&x()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[m.trigger,x]),e.jsx(ho,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d=>d.preventDefault(),onDismiss:x,children:e.jsxs(mo,{"data-state":m.stateAttribute,...p,...c,ref:s,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Qh,{children:a}),e.jsx(qh,{scope:r,isInside:!0,children:e.jsx(cd,{id:m.contentId,role:"tooltip",children:n||a})})]})})});Si.displayName=Cs;var Di="TooltipArrow",Xh=i.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=Ea(r);return Yh(Di,r).isInside?null:e.jsx(go,{...n,...a,ref:s})});Xh.displayName=Di;function Zh(t,s){const r=Math.abs(s.top-t.y),a=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(r,a,n,o)){case o:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Jh(t,s,r=5){const a=[];switch(s){case"top":a.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":a.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":a.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":a.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return a}function em(t){const{top:s,right:r,bottom:a,left:n}=t;return[{x:n,y:s},{x:r,y:s},{x:r,y:a},{x:n,y:a}]}function tm(t,s){const{x:r,y:a}=t;let n=!1;for(let o=0,l=s.length-1;o<s.length;l=o++){const c=s[o],m=s[l],p=c.x,x=c.y,d=m.x,g=m.y;x>a!=g>a&&r<(d-p)*(a-x)/(g-x)+p&&(n=!n)}return n}function sm(t){const s=t.slice();return s.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),rm(s)}function rm(t){if(t.length<=1)return t.slice();const s=[];for(let a=0;a<t.length;a++){const n=t[a];for(;s.length>=2;){const o=s[s.length-1],l=s[s.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))s.pop();else break}s.push(n)}s.pop();const r=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))r.pop();else break}r.push(n)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var am=Ni,Ti=Si;const nm=am,om=i.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(Ti,{ref:a,sideOffset:s,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));om.displayName=Ti.displayName;var Tr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Er=typeof window>"u"||"Deno"in globalThis;function tt(){}function im(t,s){return typeof t=="function"?t(s):t}function lm(t){return typeof t=="number"&&t>=0&&t!==1/0}function cm(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ua(t,s){return typeof t=="function"?t(s):t}function dm(t,s){return typeof t=="function"?t(s):t}function _n(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:o,queryKey:l,stale:c}=t;if(l){if(a){if(s.queryHash!==Pa(l,s.options))return!1}else if(!Ls(s.queryKey,l))return!1}if(r!=="all"){const m=s.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||n&&n!==s.state.fetchStatus||o&&!o(s))}function Ln(t,s){const{exact:r,status:a,predicate:n,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(r){if(_s(s.options.mutationKey)!==_s(o))return!1}else if(!Ls(s.options.mutationKey,o))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function Pa(t,s){return((s==null?void 0:s.queryKeyHashFn)||_s)(t)}function _s(t){return JSON.stringify(t,(s,r)=>ha(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Ls(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Ls(t[r],s[r])):!1}function Ei(t,s){if(t===s)return t;const r=Bn(t)&&Bn(s);if(r||ha(t)&&ha(s)){const a=r?t:Object.keys(t),n=a.length,o=r?s:Object.keys(s),l=o.length,c=r?[]:{},m=new Set(a);let p=0;for(let x=0;x<l;x++){const d=r?x:o[x];(!r&&m.has(d)||r)&&t[d]===void 0&&s[d]===void 0?(c[d]=void 0,p++):(c[d]=Ei(t[d],s[d]),c[d]===t[d]&&t[d]!==void 0&&p++)}return n===l&&p===n?t:c}return s}function Bn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ha(t){if(!$n(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!$n(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $n(t){return Object.prototype.toString.call(t)==="[object Object]"}function um(t){return new Promise(s=>{setTimeout(s,t)})}function hm(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Ei(t,s):s}function mm(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function pm(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var Aa=Symbol();function Pi(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Aa?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zt,kt,ps,Jn,xm=(Jn=class extends Tr{constructor(){super();pe(this,zt);pe(this,kt);pe(this,ps);le(this,ps,s=>{if(!Er&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,kt)||this.setEventListener(B(this,ps))}onUnsubscribe(){var s;this.hasListeners()||((s=B(this,kt))==null||s.call(this),le(this,kt,void 0))}setEventListener(s){var r;le(this,ps,s),(r=B(this,kt))==null||r.call(this),le(this,kt,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){B(this,zt)!==s&&(le(this,zt,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof B(this,zt)=="boolean"?B(this,zt):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},zt=new WeakMap,kt=new WeakMap,ps=new WeakMap,Jn),Ai=new xm,xs,Dt,gs,eo,gm=(eo=class extends Tr{constructor(){super();pe(this,xs,!0);pe(this,Dt);pe(this,gs);le(this,gs,s=>{if(!Er&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){B(this,Dt)||this.setEventListener(B(this,gs))}onUnsubscribe(){var s;this.hasListeners()||((s=B(this,Dt))==null||s.call(this),le(this,Dt,void 0))}setEventListener(s){var r;le(this,gs,s),(r=B(this,Dt))==null||r.call(this),le(this,Dt,s(this.setOnline.bind(this)))}setOnline(s){B(this,xs)!==s&&(le(this,xs,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return B(this,xs)}},xs=new WeakMap,Dt=new WeakMap,gs=new WeakMap,eo),pr=new gm;function fm(){let t,s;const r=new Promise((n,o)=>{t=n,s=o});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}function vm(t){return Math.min(1e3*2**t,3e4)}function Ri(t){return(t??"online")==="online"?pr.isOnline():!0}var Mi=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ea(t){return t instanceof Mi}function Ii(t){let s=!1,r=0,a=!1,n;const o=fm(),l=u=>{var f;a||(g(new Mi(u)),(f=t.abort)==null||f.call(t))},c=()=>{s=!0},m=()=>{s=!1},p=()=>Ai.isFocused()&&(t.networkMode==="always"||pr.isOnline())&&t.canRun(),x=()=>Ri(t.networkMode)&&t.canRun(),d=u=>{var f;a||(a=!0,(f=t.onSuccess)==null||f.call(t,u),n==null||n(),o.resolve(u))},g=u=>{var f;a||(a=!0,(f=t.onError)==null||f.call(t,u),n==null||n(),o.reject(u))},h=()=>new Promise(u=>{var f;n=N=>{(a||p())&&u(N)},(f=t.onPause)==null||f.call(t)}).then(()=>{var u;n=void 0,a||(u=t.onContinue)==null||u.call(t)}),y=()=>{if(a)return;let u;const f=r===0?t.initialPromise:void 0;try{u=f??t.fn()}catch(N){u=Promise.reject(N)}Promise.resolve(u).then(d).catch(N=>{var j;if(a)return;const C=t.retry??(Er?0:3),D=t.retryDelay??vm,T=typeof D=="function"?D(r,N):D,b=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(s||!b){g(N);return}r++,(j=t.onFail)==null||j.call(t,r,N),um(T).then(()=>p()?void 0:h()).then(()=>{s?g(N):y()})})};return{promise:o,cancel:l,continue:()=>(n==null||n(),o),cancelRetry:c,continueRetry:m,canStart:x,start:()=>(x()?y():h().then(y),o)}}var ym=t=>setTimeout(t,0);function jm(){let t=[],s=0,r=c=>{c()},a=c=>{c()},n=ym;const o=c=>{s?t.push(c):n(()=>{r(c)})},l=()=>{const c=t;t=[],c.length&&n(()=>{a(()=>{c.forEach(m=>{r(m)})})})};return{batch:c=>{let m;s++;try{m=c()}finally{s--,s||l()}return m},batchCalls:c=>(...m)=>{o(()=>{c(...m)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{n=c}}}var Le=jm(),Vt,to,Fi=(to=class{constructor(){pe(this,Vt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lm(this.gcTime)&&le(this,Vt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Er?1/0:300*1e3))}clearGcTimeout(){B(this,Vt)&&(clearTimeout(B(this,Vt)),le(this,Vt,void 0))}},Vt=new WeakMap,to),fs,Kt,Ue,Ut,Re,Ks,Ht,st,pt,so,bm=(so=class extends Fi{constructor(s){super();pe(this,st);pe(this,fs);pe(this,Kt);pe(this,Ue);pe(this,Ut);pe(this,Re);pe(this,Ks);pe(this,Ht);le(this,Ht,!1),le(this,Ks,s.defaultOptions),this.setOptions(s.options),this.observers=[],le(this,Ut,s.client),le(this,Ue,B(this,Ut).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,le(this,fs,Nm(this.options)),this.state=s.state??B(this,fs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=B(this,Re))==null?void 0:s.promise}setOptions(s){this.options={...B(this,Ks),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Ue).remove(this)}setData(s,r){const a=hm(this.state.data,s,this.options);return Ae(this,st,pt).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){Ae(this,st,pt).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=B(this,Re))==null?void 0:a.promise;return(n=B(this,Re))==null||n.cancel(s),r?r.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,fs))}isActive(){return this.observers.some(s=>dm(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Aa||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ua(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!cm(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=B(this,Re))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=B(this,Re))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),B(this,Ue).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(B(this,Re)&&(B(this,Ht)?B(this,Re).cancel({revert:!0}):B(this,Re).cancelRetry()),this.scheduleGc()),B(this,Ue).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,st,pt).call(this,{type:"invalidate"})}fetch(s,r){var p,x,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Re))return B(this,Re).continueRetry(),B(this,Re).promise}if(s&&this.setOptions(s),!this.options.queryFn){const g=this.observers.find(h=>h.options.queryFn);g&&this.setOptions(g.options)}const a=new AbortController,n=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(le(this,Ht,!0),a.signal)})},o=()=>{const g=Pi(this.options,r),y=(()=>{const u={client:B(this,Ut),queryKey:this.queryKey,meta:this.meta};return n(u),u})();return le(this,Ht,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Ut),state:this.state,fetchFn:o};return n(g),g})();(p=this.options.behavior)==null||p.onFetch(c,this),le(this,Kt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=c.fetchOptions)==null?void 0:x.meta))&&Ae(this,st,pt).call(this,{type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta});const m=g=>{var h,y,u,f;ea(g)&&g.silent||Ae(this,st,pt).call(this,{type:"error",error:g}),ea(g)||((y=(h=B(this,Ue).config).onError)==null||y.call(h,g,this),(f=(u=B(this,Ue).config).onSettled)==null||f.call(u,this.state.data,g,this)),this.scheduleGc()};return le(this,Re,Ii({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:g=>{var h,y,u,f;if(g===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(N){m(N);return}(y=(h=B(this,Ue).config).onSuccess)==null||y.call(h,g,this),(f=(u=B(this,Ue).config).onSettled)==null||f.call(u,g,this.state.error,this),this.scheduleGc()},onError:m,onFail:(g,h)=>{Ae(this,st,pt).call(this,{type:"failed",failureCount:g,error:h})},onPause:()=>{Ae(this,st,pt).call(this,{type:"pause"})},onContinue:()=>{Ae(this,st,pt).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),B(this,Re).start()}},fs=new WeakMap,Kt=new WeakMap,Ue=new WeakMap,Ut=new WeakMap,Re=new WeakMap,Ks=new WeakMap,Ht=new WeakMap,st=new WeakSet,pt=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...wm(a.data,this.options),fetchMeta:s.meta??null};case"success":return le(this,Kt,void 0),{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=s.error;return ea(n)&&n.revert&&B(this,Kt)?{...B(this,Kt),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),Le.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),B(this,Ue).notify({query:this,type:"updated",action:s})})},so);function wm(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ri(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Nm(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nt,ro,Cm=(ro=class extends Tr{constructor(s={}){super();pe(this,nt);this.config=s,le(this,nt,new Map)}build(s,r,a){const n=r.queryKey,o=r.queryHash??Pa(n,r);let l=this.get(o);return l||(l=new bm({client:s,queryKey:n,queryHash:o,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(l)),l}add(s){B(this,nt).has(s.queryHash)||(B(this,nt).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=B(this,nt).get(s.queryHash);r&&(s.destroy(),r===s&&B(this,nt).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Le.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return B(this,nt).get(s)}getAll(){return[...B(this,nt).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>_n(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>_n(s,a)):r}notify(s){Le.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},nt=new WeakMap,ro),ot,_e,Gt,it,St,ao,Sm=(ao=class extends Fi{constructor(s){super();pe(this,it);pe(this,ot);pe(this,_e);pe(this,Gt);this.mutationId=s.mutationId,le(this,_e,s.mutationCache),le(this,ot,[]),this.state=s.state||km(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){B(this,ot).includes(s)||(B(this,ot).push(s),this.clearGcTimeout(),B(this,_e).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){le(this,ot,B(this,ot).filter(r=>r!==s)),this.scheduleGc(),B(this,_e).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){B(this,ot).length||(this.state.status==="pending"?this.scheduleGc():B(this,_e).remove(this))}continue(){var s;return((s=B(this,Gt))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var o,l,c,m,p,x,d,g,h,y,u,f,N,C,D,T,b,j,_,w;const r=()=>{Ae(this,it,St).call(this,{type:"continue"})};le(this,Gt,Ii({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(P,K)=>{Ae(this,it,St).call(this,{type:"failed",failureCount:P,error:K})},onPause:()=>{Ae(this,it,St).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,_e).canRun(this)}));const a=this.state.status==="pending",n=!B(this,Gt).canStart();try{if(a)r();else{Ae(this,it,St).call(this,{type:"pending",variables:s,isPaused:n}),await((l=(o=B(this,_e).config).onMutate)==null?void 0:l.call(o,s,this));const K=await((m=(c=this.options).onMutate)==null?void 0:m.call(c,s));K!==this.state.context&&Ae(this,it,St).call(this,{type:"pending",context:K,variables:s,isPaused:n})}const P=await B(this,Gt).start();return await((x=(p=B(this,_e).config).onSuccess)==null?void 0:x.call(p,P,s,this.state.context,this)),await((g=(d=this.options).onSuccess)==null?void 0:g.call(d,P,s,this.state.context)),await((y=(h=B(this,_e).config).onSettled)==null?void 0:y.call(h,P,null,this.state.variables,this.state.context,this)),await((f=(u=this.options).onSettled)==null?void 0:f.call(u,P,null,s,this.state.context)),Ae(this,it,St).call(this,{type:"success",data:P}),P}catch(P){try{throw await((C=(N=B(this,_e).config).onError)==null?void 0:C.call(N,P,s,this.state.context,this)),await((T=(D=this.options).onError)==null?void 0:T.call(D,P,s,this.state.context)),await((j=(b=B(this,_e).config).onSettled)==null?void 0:j.call(b,void 0,P,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,void 0,P,s,this.state.context)),P}finally{Ae(this,it,St).call(this,{type:"error",error:P})}}finally{B(this,_e).runNext(this)}}},ot=new WeakMap,_e=new WeakMap,Gt=new WeakMap,it=new WeakSet,St=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Le.batch(()=>{B(this,ot).forEach(a=>{a.onMutationUpdate(s)}),B(this,_e).notify({mutation:this,type:"updated",action:s})})},ao);function km(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xt,rt,Us,no,Dm=(no=class extends Tr{constructor(s={}){super();pe(this,xt);pe(this,rt);pe(this,Us);this.config=s,le(this,xt,new Set),le(this,rt,new Map),le(this,Us,0)}build(s,r,a){const n=new Sm({mutationCache:this,mutationId:++Js(this,Us)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){B(this,xt).add(s);const r=ar(s);if(typeof r=="string"){const a=B(this,rt).get(r);a?a.push(s):B(this,rt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(B(this,xt).delete(s)){const r=ar(s);if(typeof r=="string"){const a=B(this,rt).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&B(this,rt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=ar(s);if(typeof r=="string"){const a=B(this,rt).get(r),n=a==null?void 0:a.find(o=>o.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=ar(s);if(typeof r=="string"){const n=(a=B(this,rt).get(r))==null?void 0:a.find(o=>o!==s&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Le.batch(()=>{B(this,xt).forEach(s=>{this.notify({type:"removed",mutation:s})}),B(this,xt).clear(),B(this,rt).clear()})}getAll(){return Array.from(B(this,xt))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>Ln(r,a))}findAll(s={}){return this.getAll().filter(r=>Ln(s,r))}notify(s){Le.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Le.batch(()=>Promise.all(s.map(r=>r.continue().catch(tt))))}},xt=new WeakMap,rt=new WeakMap,Us=new WeakMap,no);function ar(t){var s;return(s=t.options.scope)==null?void 0:s.id}function zn(t){return{onFetch:(s,r)=>{var x,d,g,h,y;const a=s.options,n=(g=(d=(x=s.fetchOptions)==null?void 0:x.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,o=((h=s.state.data)==null?void 0:h.pages)||[],l=((y=s.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},m=0;const p=async()=>{let u=!1;const f=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},N=Pi(s.options,s.fetchOptions),C=async(D,T,b)=>{if(u)return Promise.reject();if(T==null&&D.pages.length)return Promise.resolve(D);const _=(()=>{const X={client:s.client,queryKey:s.queryKey,pageParam:T,direction:b?"backward":"forward",meta:s.options.meta};return f(X),X})(),w=await N(_),{maxPages:P}=s.options,K=b?pm:mm;return{pages:K(D.pages,w,P),pageParams:K(D.pageParams,T,P)}};if(n&&o.length){const D=n==="backward",T=D?Tm:Vn,b={pages:o,pageParams:l},j=T(a,b);c=await C(b,j,D)}else{const D=t??o.length;do{const T=m===0?l[0]??a.initialPageParam:Vn(a,c);if(m>0&&T==null)break;c=await C(c,T),m++}while(m<D)}return c};s.options.persister?s.fetchFn=()=>{var u,f;return(f=(u=s.options).persister)==null?void 0:f.call(u,p,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=p}}}function Vn(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function Tm(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var be,Tt,Et,vs,ys,Pt,js,bs,oo,Em=(oo=class{constructor(t={}){pe(this,be);pe(this,Tt);pe(this,Et);pe(this,vs);pe(this,ys);pe(this,Pt);pe(this,js);pe(this,bs);le(this,be,t.queryCache||new Cm),le(this,Tt,t.mutationCache||new Dm),le(this,Et,t.defaultOptions||{}),le(this,vs,new Map),le(this,ys,new Map),le(this,Pt,0)}mount(){Js(this,Pt)._++,B(this,Pt)===1&&(le(this,js,Ai.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,be).onFocus())})),le(this,bs,pr.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,be).onOnline())})))}unmount(){var t,s;Js(this,Pt)._--,B(this,Pt)===0&&((t=B(this,js))==null||t.call(this),le(this,js,void 0),(s=B(this,bs))==null||s.call(this),le(this,bs,void 0))}isFetching(t){return B(this,be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Tt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=B(this,be).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=B(this,be).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ua(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return B(this,be).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=B(this,be).get(a.queryHash),o=n==null?void 0:n.state.data,l=im(s,o);if(l!==void 0)return B(this,be).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return Le.batch(()=>B(this,be).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=B(this,be).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=B(this,be);Le.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=B(this,be);return Le.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=Le.batch(()=>B(this,be).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(tt).catch(tt)}invalidateQueries(t,s={}){return Le.batch(()=>(B(this,be).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=Le.batch(()=>B(this,be).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(tt)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(tt)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=B(this,be).build(this,s);return r.isStaleByTime(ua(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tt).catch(tt)}fetchInfiniteQuery(t){return t.behavior=zn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tt).catch(tt)}ensureInfiniteQueryData(t){return t.behavior=zn(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pr.isOnline()?B(this,Tt).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,be)}getMutationCache(){return B(this,Tt)}getDefaultOptions(){return B(this,Et)}setDefaultOptions(t){le(this,Et,t)}setQueryDefaults(t,s){B(this,vs).set(_s(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...B(this,vs).values()],r={};return s.forEach(a=>{Ls(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){B(this,ys).set(_s(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...B(this,ys).values()],r={};return s.forEach(a=>{Ls(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...B(this,Et).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Pa(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Aa&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Et).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,be).clear(),B(this,Tt).clear()}},be=new WeakMap,Tt=new WeakMap,Et=new WeakMap,vs=new WeakMap,ys=new WeakMap,Pt=new WeakMap,js=new WeakMap,bs=new WeakMap,oo),Pm=i.createContext(void 0),Am=({client:t,children:s})=>(i.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Pm.Provider,{value:t,children:s}));const Ra=Nr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=i.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,...n},o)=>{const l=a?dd:"button";return e.jsx(l,{className:Y(Ra({variant:s,size:r,className:t})),ref:o,...n})});U.displayName="Button";const Q=i.forwardRef(({className:t,type:s,...r},a)=>e.jsx("input",{type:s,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r}));Q.displayName="Input";const H=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));H.displayName="Card";const ee=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:Y("flex flex-col space-y-1.5 p-6",t),...s}));ee.displayName="CardHeader";const te=i.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:Y("text-2xl font-semibold leading-none tracking-tight",t),...s}));te.displayName="CardTitle";const ke=i.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:Y("text-sm text-muted-foreground",t),...s}));ke.displayName="CardDescription";const W=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:Y("p-6 pt-0",t),...s}));W.displayName="CardContent";const Rm=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:Y("flex items-center p-6 pt-0",t),...s}));Rm.displayName="CardFooter";const he=gd,me=fd,de=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(fo,{ref:a,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(ud,{asChild:!0,children:e.jsx(Sr,{className:"h-4 w-4 opacity-50"})})]}));de.displayName=fo.displayName;const Oi=i.forwardRef(({className:t,...s},r)=>e.jsx(vo,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ii,{className:"h-4 w-4"})}));Oi.displayName=vo.displayName;const _i=i.forwardRef(({className:t,...s},r)=>e.jsx(yo,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Sr,{className:"h-4 w-4"})}));_i.displayName=yo.displayName;const ue=i.forwardRef(({className:t,children:s,position:r="popper",...a},n)=>e.jsx(hd,{children:e.jsxs(jo,{ref:n,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(Oi,{}),e.jsx(md,{className:Y("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(_i,{})]})}));ue.displayName=jo.displayName;const Mm=i.forwardRef(({className:t,...s},r)=>e.jsx(bo,{ref:r,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Mm.displayName=bo.displayName;const R=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(wo,{ref:a,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(pd,{children:e.jsx(cs,{className:"h-4 w-4"})})}),e.jsx(xd,{children:s})]}));R.displayName=wo.displayName;const Im=i.forwardRef(({className:t,...s},r)=>e.jsx(No,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",t),...s}));Im.displayName=No.displayName;const Ie=So,Jt=ko,Fm=Co,Li=i.forwardRef(({className:t,...s},r)=>e.jsx(fa,{ref:r,className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Li.displayName=fa.displayName;const Te=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Fm,{children:[e.jsx(Li,{}),e.jsxs(va,{ref:a,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(ya,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Te.displayName=va.displayName;const Fe=({className:t,...s})=>e.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Fe.displayName="DialogHeader";const Ee=i.forwardRef(({className:t,...s},r)=>e.jsx(ja,{ref:r,className:Y("text-lg font-semibold leading-none tracking-tight",t),...s}));Ee.displayName=ja.displayName;const Oe=i.forwardRef(({className:t,...s},r)=>e.jsx(ba,{ref:r,className:Y("text-sm text-muted-foreground",t),...s}));Oe.displayName=ba.displayName;const Pr=vd,Ws=i.forwardRef(({className:t,...s},r)=>e.jsx(Do,{ref:r,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Ws.displayName=Do.displayName;const Ge=i.forwardRef(({className:t,...s},r)=>e.jsx(To,{ref:r,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Ge.displayName=To.displayName;const We=i.forwardRef(({className:t,...s},r)=>e.jsx(Eo,{ref:r,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));We.displayName=Eo.displayName;const Om=Nr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:t,variant:s,...r}){return e.jsx("div",{className:Y(Om({variant:s}),t),...r})}const Ma=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:Y("w-full caption-bottom text-sm",t),...s})}));Ma.displayName="Table";const Ia=i.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:Y("[&_tr]:border-b",t),...s}));Ia.displayName="TableHeader";const Fa=i.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:Y("[&_tr:last-child]:border-0",t),...s}));Fa.displayName="TableBody";const _m=i.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));_m.displayName="TableFooter";const us=i.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:Y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));us.displayName="TableRow";const Me=i.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:Y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Me.displayName="TableHead";const De=i.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));De.displayName="TableCell";const Lm=i.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:Y("mt-4 text-sm text-muted-foreground",t),...s}));Lm.displayName="TableCaption";var ma=["Enter"," "],Bm=["ArrowDown","PageUp","Home"],Bi=["ArrowUp","PageDown","End"],$m=[...Bm,...Bi],zm={ltr:[...ma,"ArrowRight"],rtl:[...ma,"ArrowLeft"]},Vm={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qs="Menu",[Bs,Km,Um]=io(qs),[es,$i]=dt(qs,[Um,jr,br]),Ar=jr(),zi=br(),[Hm,ts]=es(qs),[Gm,Ys]=es(qs),Vi=t=>{const{__scopeMenu:s,open:r=!1,children:a,dir:n,onOpenChange:o,modal:l=!0}=t,c=Ar(s),[m,p]=i.useState(null),x=i.useRef(!1),d=ze(o),g=wa(n);return i.useEffect(()=>{const h=()=>{x.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>x.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),e.jsx(Cd,{...c,children:e.jsx(Hm,{scope:s,open:r,onOpenChange:d,content:m,onContentChange:p,children:e.jsx(Gm,{scope:s,onClose:i.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:x,dir:g,modal:l,children:a})})})};Vi.displayName=qs;var Wm="MenuAnchor",Oa=i.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t,n=Ar(r);return e.jsx(xo,{...n,...a,ref:s})});Oa.displayName=Wm;var _a="MenuPortal",[qm,Ki]=es(_a,{forceMount:void 0}),Ui=t=>{const{__scopeMenu:s,forceMount:r,children:a,container:n}=t,o=ts(_a,s);return e.jsx(qm,{scope:s,forceMount:r,children:e.jsx(Ve,{present:r||o.open,children:e.jsx(co,{asChild:!0,container:n,children:a})})})};Ui.displayName=_a;var qe="MenuContent",[Ym,La]=es(qe),Hi=i.forwardRef((t,s)=>{const r=Ki(qe,t.__scopeMenu),{forceMount:a=r.forceMount,...n}=t,o=ts(qe,t.__scopeMenu),l=Ys(qe,t.__scopeMenu);return e.jsx(Bs.Provider,{scope:t.__scopeMenu,children:e.jsx(Ve,{present:a||o.open,children:e.jsx(Bs.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(Qm,{...n,ref:s}):e.jsx(Xm,{...n,ref:s})})})})}),Qm=i.forwardRef((t,s)=>{const r=ts(qe,t.__scopeMenu),a=i.useRef(null),n=je(s,a);return i.useEffect(()=>{const o=a.current;if(o)return Nd(o)},[]),e.jsx(Ba,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Xm=i.forwardRef((t,s)=>{const r=ts(qe,t.__scopeMenu);return e.jsx(Ba,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Zm=bd("MenuContent.ScrollLock"),Ba=i.forwardRef((t,s)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:x,onFocusOutside:d,onInteractOutside:g,onDismiss:h,disableOutsideScroll:y,...u}=t,f=ts(qe,r),N=Ys(qe,r),C=Ar(r),D=zi(r),T=Km(r),[b,j]=i.useState(null),_=i.useRef(null),w=je(s,_,f.onContentChange),P=i.useRef(0),K=i.useRef(""),X=i.useRef(0),E=i.useRef(null),F=i.useRef("right"),A=i.useRef(0),q=y?jd:i.Fragment,Z=y?{as:Zm,allowPinchZoom:!0}:void 0,L=I=>{var v,O;const ne=K.current+I,S=T().filter(re=>!re.disabled),k=document.activeElement,M=(v=S.find(re=>re.ref.current===k))==null?void 0:v.textValue,V=S.map(re=>re.textValue),oe=dp(V,ne,M),ae=(O=S.find(re=>re.textValue===oe))==null?void 0:O.ref.current;(function re(Se){K.current=Se,window.clearTimeout(P.current),Se!==""&&(P.current=window.setTimeout(()=>re(""),1e3))})(ne),ae&&setTimeout(()=>ae.focus())};i.useEffect(()=>()=>window.clearTimeout(P.current),[]),yd();const z=i.useCallback(I=>{var S,k;return F.current===((S=E.current)==null?void 0:S.side)&&hp(I,(k=E.current)==null?void 0:k.area)},[]);return e.jsx(Ym,{scope:r,searchRef:K,onItemEnter:i.useCallback(I=>{z(I)&&I.preventDefault()},[z]),onItemLeave:i.useCallback(I=>{var ne;z(I)||((ne=_.current)==null||ne.focus(),j(null))},[z]),onTriggerLeave:i.useCallback(I=>{z(I)&&I.preventDefault()},[z]),pointerGraceTimerRef:X,onPointerGraceIntentChange:i.useCallback(I=>{E.current=I},[]),children:e.jsx(q,{...Z,children:e.jsx(wd,{asChild:!0,trapped:n,onMountAutoFocus:se(o,I=>{var ne;I.preventDefault(),(ne=_.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(ho,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:x,onFocusOutside:d,onInteractOutside:g,onDismiss:h,children:e.jsx(Ro,{asChild:!0,...D,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:b,onCurrentTabStopIdChange:j,onEntryFocus:se(m,I=>{N.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(mo,{role:"menu","aria-orientation":"vertical","data-state":il(f.open),"data-radix-menu-content":"",dir:N.dir,...C,...u,ref:w,style:{outline:"none",...u.style},onKeyDown:se(u.onKeyDown,I=>{const S=I.target.closest("[data-radix-menu-content]")===I.currentTarget,k=I.ctrlKey||I.altKey||I.metaKey,M=I.key.length===1;S&&(I.key==="Tab"&&I.preventDefault(),!k&&M&&L(I.key));const V=_.current;if(I.target!==V||!$m.includes(I.key))return;I.preventDefault();const ae=T().filter(v=>!v.disabled).map(v=>v.ref.current);Bi.includes(I.key)&&ae.reverse(),lp(ae)}),onBlur:se(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(P.current),K.current="")}),onPointerMove:se(t.onPointerMove,$s(I=>{const ne=I.target,S=A.current!==I.clientX;if(I.currentTarget.contains(ne)&&S){const k=I.clientX>A.current?"right":"left";F.current=k,A.current=I.clientX}}))})})})})})})});Hi.displayName=qe;var Jm="MenuGroup",$a=i.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(ge.div,{role:"group",...a,ref:s})});$a.displayName=Jm;var ep="MenuLabel",Gi=i.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(ge.div,{...a,ref:s})});Gi.displayName=ep;var xr="MenuItem",Kn="menu.itemSelect",Rr=i.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:a,...n}=t,o=i.useRef(null),l=Ys(xr,t.__scopeMenu),c=La(xr,t.__scopeMenu),m=je(s,o),p=i.useRef(!1),x=()=>{const d=o.current;if(!r&&d){const g=new CustomEvent(Kn,{bubbles:!0,cancelable:!0});d.addEventListener(Kn,h=>a==null?void 0:a(h),{once:!0}),uo(d,g),g.defaultPrevented?p.current=!1:l.onClose()}};return e.jsx(Wi,{...n,ref:m,disabled:r,onClick:se(t.onClick,x),onPointerDown:d=>{var g;(g=t.onPointerDown)==null||g.call(t,d),p.current=!0},onPointerUp:se(t.onPointerUp,d=>{var g;p.current||(g=d.currentTarget)==null||g.click()}),onKeyDown:se(t.onKeyDown,d=>{const g=c.searchRef.current!=="";r||g&&d.key===" "||ma.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Rr.displayName=xr;var Wi=i.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:a=!1,textValue:n,...o}=t,l=La(xr,r),c=zi(r),m=i.useRef(null),p=je(s,m),[x,d]=i.useState(!1),[g,h]=i.useState("");return i.useEffect(()=>{const y=m.current;y&&h((y.textContent??"").trim())},[o.children]),e.jsx(Bs.ItemSlot,{scope:r,disabled:a,textValue:n??g,children:e.jsx(Ao,{asChild:!0,...c,focusable:!a,children:e.jsx(ge.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...o,ref:p,onPointerMove:se(t.onPointerMove,$s(y=>{a?l.onItemLeave(y):(l.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,$s(y=>l.onItemLeave(y))),onFocus:se(t.onFocus,()=>d(!0)),onBlur:se(t.onBlur,()=>d(!1))})})})}),tp="MenuCheckboxItem",qi=i.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:a,...n}=t;return e.jsx(Ji,{scope:t.__scopeMenu,checked:r,children:e.jsx(Rr,{role:"menuitemcheckbox","aria-checked":gr(r)?"mixed":r,...n,ref:s,"data-state":Va(r),onSelect:se(n.onSelect,()=>a==null?void 0:a(gr(r)?!0:!r),{checkForDefaultPrevented:!1})})})});qi.displayName=tp;var Yi="MenuRadioGroup",[sp,rp]=es(Yi,{value:void 0,onValueChange:()=>{}}),Qi=i.forwardRef((t,s)=>{const{value:r,onValueChange:a,...n}=t,o=ze(a);return e.jsx(sp,{scope:t.__scopeMenu,value:r,onValueChange:o,children:e.jsx($a,{...n,ref:s})})});Qi.displayName=Yi;var Xi="MenuRadioItem",Zi=i.forwardRef((t,s)=>{const{value:r,...a}=t,n=rp(Xi,t.__scopeMenu),o=r===n.value;return e.jsx(Ji,{scope:t.__scopeMenu,checked:o,children:e.jsx(Rr,{role:"menuitemradio","aria-checked":o,...a,ref:s,"data-state":Va(o),onSelect:se(a.onSelect,()=>{var l;return(l=n.onValueChange)==null?void 0:l.call(n,r)},{checkForDefaultPrevented:!1})})})});Zi.displayName=Xi;var za="MenuItemIndicator",[Ji,ap]=es(za,{checked:!1}),el=i.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:a,...n}=t,o=ap(za,r);return e.jsx(Ve,{present:a||gr(o.checked)||o.checked===!0,children:e.jsx(ge.span,{...n,ref:s,"data-state":Va(o.checked)})})});el.displayName=za;var np="MenuSeparator",tl=i.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...a,ref:s})});tl.displayName=np;var op="MenuArrow",sl=i.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t,n=Ar(r);return e.jsx(go,{...n,...a,ref:s})});sl.displayName=op;var ip="MenuSub",[Xg,rl]=es(ip),As="MenuSubTrigger",al=i.forwardRef((t,s)=>{const r=ts(As,t.__scopeMenu),a=Ys(As,t.__scopeMenu),n=rl(As,t.__scopeMenu),o=La(As,t.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:m}=o,p={__scopeMenu:t.__scopeMenu},x=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>x,[x]),i.useEffect(()=>{const d=c.current;return()=>{window.clearTimeout(d),m(null)}},[c,m]),e.jsx(Oa,{asChild:!0,...p,children:e.jsx(Wi,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":il(r.open),...t,ref:Po(s,n.onTriggerChange),onClick:d=>{var g;(g=t.onClick)==null||g.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,$s(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),x()},100))})),onPointerLeave:se(t.onPointerLeave,$s(d=>{var h,y;x();const g=(h=r.content)==null?void 0:h.getBoundingClientRect();if(g){const u=(y=r.content)==null?void 0:y.dataset.side,f=u==="right",N=f?-5:5,C=g[f?"left":"right"],D=g[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+N,y:d.clientY},{x:C,y:g.top},{x:D,y:g.top},{x:D,y:g.bottom},{x:C,y:g.bottom}],side:u}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,d=>{var h;const g=o.searchRef.current!=="";t.disabled||g&&d.key===" "||zm[a.dir].includes(d.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),d.preventDefault())})})})});al.displayName=As;var nl="MenuSubContent",ol=i.forwardRef((t,s)=>{const r=Ki(qe,t.__scopeMenu),{forceMount:a=r.forceMount,...n}=t,o=ts(qe,t.__scopeMenu),l=Ys(qe,t.__scopeMenu),c=rl(nl,t.__scopeMenu),m=i.useRef(null),p=je(s,m);return e.jsx(Bs.Provider,{scope:t.__scopeMenu,children:e.jsx(Ve,{present:a||o.open,children:e.jsx(Bs.Slot,{scope:t.__scopeMenu,children:e.jsx(Ba,{id:c.contentId,"aria-labelledby":c.triggerId,...n,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var d;l.isUsingKeyboardRef.current&&((d=m.current)==null||d.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:se(t.onFocusOutside,x=>{x.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,x=>{l.onClose(),x.preventDefault()}),onKeyDown:se(t.onKeyDown,x=>{var h;const d=x.currentTarget.contains(x.target),g=Vm[l.dir].includes(x.key);d&&g&&(o.onOpenChange(!1),(h=c.trigger)==null||h.focus(),x.preventDefault())})})})})})});ol.displayName=nl;function il(t){return t?"open":"closed"}function gr(t){return t==="indeterminate"}function Va(t){return gr(t)?"indeterminate":t?"checked":"unchecked"}function lp(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function cp(t,s){return t.map((r,a)=>t[(s+a)%t.length])}function dp(t,s,r){const n=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,o=r?t.indexOf(r):-1;let l=cp(t,Math.max(o,0));n.length===1&&(l=l.filter(p=>p!==r));const m=l.find(p=>p.toLowerCase().startsWith(n.toLowerCase()));return m!==r?m:void 0}function up(t,s){const{x:r,y:a}=t;let n=!1;for(let o=0,l=s.length-1;o<s.length;l=o++){const c=s[o],m=s[l],p=c.x,x=c.y,d=m.x,g=m.y;x>a!=g>a&&r<(d-p)*(a-x)/(g-x)+p&&(n=!n)}return n}function hp(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return up(r,s)}function $s(t){return s=>s.pointerType==="mouse"?t(s):void 0}var mp=Vi,pp=Oa,xp=Ui,gp=Hi,fp=$a,vp=Gi,yp=Rr,jp=qi,bp=Qi,wp=Zi,Np=el,Cp=tl,Sp=sl,kp=al,Dp=ol,Mr="DropdownMenu",[Tp,Zg]=dt(Mr,[$i]),Be=$i(),[Ep,ll]=Tp(Mr),cl=t=>{const{__scopeDropdownMenu:s,children:r,dir:a,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,m=Be(s),p=i.useRef(null),[x,d]=Hs({prop:n,defaultProp:o??!1,onChange:l,caller:Mr});return e.jsx(Ep,{scope:s,triggerId:ra(),triggerRef:p,contentId:ra(),open:x,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(g=>!g),[d]),modal:c,children:e.jsx(mp,{...m,open:x,onOpenChange:d,dir:a,modal:c,children:r})})};cl.displayName=Mr;var dl="DropdownMenuTrigger",ul=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...n}=t,o=ll(dl,r),l=Be(r);return e.jsx(pp,{asChild:!0,...l,children:e.jsx(ge.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Po(s,o.triggerRef),onPointerDown:se(t.onPointerDown,c=>{!a&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:se(t.onKeyDown,c=>{a||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});ul.displayName=dl;var Pp="DropdownMenuPortal",hl=t=>{const{__scopeDropdownMenu:s,...r}=t,a=Be(s);return e.jsx(xp,{...a,...r})};hl.displayName=Pp;var ml="DropdownMenuContent",pl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=ll(ml,r),o=Be(r),l=i.useRef(!1);return e.jsx(gp,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...a,ref:s,onCloseAutoFocus:se(t.onCloseAutoFocus,c=>{var m;l.current||(m=n.triggerRef.current)==null||m.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:se(t.onInteractOutside,c=>{const m=c.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,x=m.button===2||p;(!n.modal||x)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pl.displayName=ml;var Ap="DropdownMenuGroup",Rp=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(fp,{...n,...a,ref:s})});Rp.displayName=Ap;var Mp="DropdownMenuLabel",xl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(vp,{...n,...a,ref:s})});xl.displayName=Mp;var Ip="DropdownMenuItem",gl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(yp,{...n,...a,ref:s})});gl.displayName=Ip;var Fp="DropdownMenuCheckboxItem",fl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(jp,{...n,...a,ref:s})});fl.displayName=Fp;var Op="DropdownMenuRadioGroup",_p=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(bp,{...n,...a,ref:s})});_p.displayName=Op;var Lp="DropdownMenuRadioItem",vl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(wp,{...n,...a,ref:s})});vl.displayName=Lp;var Bp="DropdownMenuItemIndicator",yl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(Np,{...n,...a,ref:s})});yl.displayName=Bp;var $p="DropdownMenuSeparator",jl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(Cp,{...n,...a,ref:s})});jl.displayName=$p;var zp="DropdownMenuArrow",Vp=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(Sp,{...n,...a,ref:s})});Vp.displayName=zp;var Kp="DropdownMenuSubTrigger",bl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(kp,{...n,...a,ref:s})});bl.displayName=Kp;var Up="DropdownMenuSubContent",wl=i.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,n=Be(r);return e.jsx(Dp,{...n,...a,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wl.displayName=Up;var Hp=cl,Gp=ul,Wp=hl,Nl=pl,Cl=xl,Sl=gl,kl=fl,Dl=vl,Tl=yl,El=jl,Pl=bl,Al=wl;const Rl=Hp,Ml=Gp,qp=i.forwardRef(({className:t,inset:s,children:r,...a},n)=>e.jsxs(Pl,{ref:n,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[r,e.jsx(lt,{className:"ml-auto h-4 w-4"})]}));qp.displayName=Pl.displayName;const Yp=i.forwardRef(({className:t,...s},r)=>e.jsx(Al,{ref:r,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Yp.displayName=Al.displayName;const Ka=i.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(Wp,{children:e.jsx(Nl,{ref:a,sideOffset:s,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ka.displayName=Nl.displayName;const zs=i.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(Sl,{ref:a,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));zs.displayName=Sl.displayName;const Qp=i.forwardRef(({className:t,children:s,checked:r,...a},n)=>e.jsxs(kl,{ref:n,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tl,{children:e.jsx(cs,{className:"h-4 w-4"})})}),s]}));Qp.displayName=kl.displayName;const Xp=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Dl,{ref:a,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tl,{children:e.jsx(li,{className:"h-2 w-2 fill-current"})})}),s]}));Xp.displayName=Dl.displayName;const Zp=i.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(Cl,{ref:a,className:Y("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));Zp.displayName=Cl.displayName;const Jp=i.forwardRef(({className:t,...s},r)=>e.jsx(El,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",t),...s}));Jp.displayName=El.displayName;var Il="AlertDialog",[ex,Jg]=dt(Il,[Mo]),yt=Mo(),Fl=t=>{const{__scopeAlertDialog:s,...r}=t,a=yt(s);return e.jsx(So,{...a,...r,modal:!0})};Fl.displayName=Il;var tx="AlertDialogTrigger",sx=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=yt(r);return e.jsx(ko,{...n,...a,ref:s})});sx.displayName=tx;var rx="AlertDialogPortal",Ol=t=>{const{__scopeAlertDialog:s,...r}=t,a=yt(s);return e.jsx(Co,{...a,...r})};Ol.displayName=rx;var ax="AlertDialogOverlay",_l=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=yt(r);return e.jsx(fa,{...n,...a,ref:s})});_l.displayName=ax;var hs="AlertDialogContent",[nx,ox]=ex(hs),ix=po("AlertDialogContent"),Ll=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:a,...n}=t,o=yt(r),l=i.useRef(null),c=je(s,l),m=i.useRef(null);return e.jsx(Sd,{contentName:hs,titleName:Bl,docsSlug:"alert-dialog",children:e.jsx(nx,{scope:r,cancelRef:m,children:e.jsxs(va,{role:"alertdialog",...o,...n,ref:c,onOpenAutoFocus:se(n.onOpenAutoFocus,p=>{var x;p.preventDefault(),(x=m.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[e.jsx(ix,{children:a}),e.jsx(cx,{contentRef:l})]})})})});Ll.displayName=hs;var Bl="AlertDialogTitle",$l=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=yt(r);return e.jsx(ja,{...n,...a,ref:s})});$l.displayName=Bl;var zl="AlertDialogDescription",Vl=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=yt(r);return e.jsx(ba,{...n,...a,ref:s})});Vl.displayName=zl;var lx="AlertDialogAction",Kl=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=yt(r);return e.jsx(ya,{...n,...a,ref:s})});Kl.displayName=lx;var Ul="AlertDialogCancel",Hl=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:n}=ox(Ul,r),o=yt(r),l=je(s,n);return e.jsx(ya,{...o,...a,ref:l})});Hl.displayName=Ul;var cx=({contentRef:t})=>{const s=`\`${hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hs}\` by passing a \`${zl}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},dx=Fl,ux=Ol,Gl=_l,Wl=Ll,ql=Kl,Yl=Hl,Ql=$l,Xl=Vl;const Zl=dx,hx=ux,Jl=i.forwardRef(({className:t,...s},r)=>e.jsx(Gl,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Jl.displayName=Gl.displayName;const Ua=i.forwardRef(({className:t,...s},r)=>e.jsxs(hx,{children:[e.jsx(Jl,{}),e.jsx(Wl,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Ua.displayName=Wl.displayName;const Ha=({className:t,...s})=>e.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",t),...s});Ha.displayName="AlertDialogHeader";const Ga=({className:t,...s})=>e.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ga.displayName="AlertDialogFooter";const Wa=i.forwardRef(({className:t,...s},r)=>e.jsx(Ql,{ref:r,className:Y("text-lg font-semibold",t),...s}));Wa.displayName=Ql.displayName;const qa=i.forwardRef(({className:t,...s},r)=>e.jsx(Xl,{ref:r,className:Y("text-sm text-muted-foreground",t),...s}));qa.displayName=Xl.displayName;const Ya=i.forwardRef(({className:t,...s},r)=>e.jsx(ql,{ref:r,className:Y(Ra(),t),...s}));Ya.displayName=ql.displayName;const Qa=i.forwardRef(({className:t,...s},r)=>e.jsx(Yl,{ref:r,className:Y(Ra({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Qa.displayName=Yl.displayName;function mx({expenses:t,onEdit:s,onDelete:r}){const[a,n]=i.useState("date"),[o,l]=i.useState("desc"),[c,m]=i.useState(null),[p,x]=i.useState(1),[d,g]=i.useState(10),h=t.filter(w=>w&&w.id&&w.id!==""&&w.amount!==null&&w.amount!==void 0&&!isNaN(w.amount)),y=[...h].sort((w,P)=>{const K=w[a],X=P[a];if(typeof K=="number"&&typeof X=="number")return o==="asc"?K-X:X-K;const E=String(K).toLowerCase(),F=String(X).toLowerCase();return o==="asc"?E.localeCompare(F):F.localeCompare(E)}),u=Math.ceil(y.length/d),f=(p-1)*d,N=f+d,C=y.slice(f,N),D=()=>{p>u&&u>0&&x(u)};i.useEffect(()=>{D()},[y.length,d]);const T=w=>{a===w?l(o==="asc"?"desc":"asc"):(n(w),l("asc"))},b=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(w),j=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=({field:w,children:P})=>e.jsxs(U,{variant:"ghost",size:"sm",className:"h-8 px-2 lg:px-3",onClick:()=>T(w),children:[P,e.jsx(iu,{className:"ml-2 h-4 w-4"})]});return e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{children:"Transaction History"})}),e.jsxs(W,{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(Ma,{className:"min-w-[700px]",children:[e.jsx(Ia,{children:e.jsxs(us,{children:[e.jsx(Me,{className:"w-[100px]",children:e.jsx(_,{field:"date",children:"Date"})}),e.jsx(Me,{className:"w-[80px] hidden sm:table-cell",children:e.jsx(_,{field:"type",children:"Type"})}),e.jsx(Me,{className:"min-w-[200px]",children:e.jsx(_,{field:"description",children:"Description"})}),e.jsx(Me,{className:"w-[120px]",children:e.jsx(_,{field:"amount",children:"Amount"})}),e.jsx(Me,{className:"w-[100px] hidden md:table-cell",children:e.jsx(_,{field:"category",children:"Category"})}),e.jsx(Me,{className:"w-[80px] hidden lg:table-cell",children:e.jsx(_,{field:"paidBy",children:"Paid By"})}),e.jsx(Me,{className:"w-[80px] hidden lg:table-cell",children:e.jsx(_,{field:"source",children:"Source"})}),e.jsx(Me,{className:"w-[60px]",children:"Actions"})]})}),e.jsx(Fa,{children:C.length===0?e.jsx(us,{children:e.jsx(De,{colSpan:8,className:"text-center py-8 text-slate-500",children:"No transactions found. Try adjusting your filters or add a new transaction."})}):C.map((w,P)=>e.jsxs(us,{className:"hover:bg-slate-50",children:[e.jsx(De,{className:"font-medium text-xs sm:text-sm",children:e.jsx("div",{className:"whitespace-nowrap",children:j(w.date)})}),e.jsx(De,{className:"hidden sm:table-cell",children:e.jsx(xe,{variant:w.type==="Income"?"default":"secondary",className:`text-xs ${w.type==="Income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type})}),e.jsx(De,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm line-clamp-2",children:w.description}),e.jsxs("div",{className:"sm:hidden text-xs text-slate-500 mt-1",children:[e.jsx(xe,{variant:w.type==="Income"?"default":"secondary",className:`text-xs mr-1 ${w.type==="Income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type}),w.category]}),w.notes&&e.jsx("div",{className:"text-xs text-slate-500 mt-1 hidden sm:block",children:w.notes})]})}),e.jsx(De,{children:e.jsxs("span",{className:`font-semibold text-sm ${w.type==="Income"?"text-green-600":"text-red-600"}`,children:[w.type==="Income"?"+":"-",b(w.amount)]})}),e.jsx(De,{className:"hidden md:table-cell",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:w.category}),e.jsx("div",{className:"text-xs text-slate-500",children:w.subCategory})]})}),e.jsx(De,{className:"hidden lg:table-cell text-sm",children:w.paidBy}),e.jsx(De,{className:"hidden lg:table-cell",children:e.jsx(xe,{variant:"outline",className:"text-xs",children:w.source})}),e.jsx(De,{children:e.jsxs(Rl,{children:[e.jsx(Ml,{asChild:!0,children:e.jsxs(U,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ka,{className:"h-4 w-4"})]})}),e.jsxs(Ka,{align:"end",children:[e.jsxs(zs,{onClick:()=>{console.log("Edit clicked for expense:",w),w&&w.id?s(w):console.error("Invalid expense for edit:",w)},children:[e.jsx(Zt,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(zs,{onClick:()=>{console.log("Delete clicked for expense ID:",w.id),w&&w.id?m(w.id):console.error("Invalid expense ID for delete:",w)},className:"text-red-600",children:[e.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},`${w.id}-${P}`))})]})}),y.length>0&&e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm text-slate-700",children:"Rows per page:"}),e.jsxs("select",{value:d,onChange:w=>{g(Number(w.target.value)),x(1)},className:"border border-slate-300 rounded px-2 py-1 text-sm bg-white",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",f+1,"-",Math.min(N,y.length)," of ",y.length," transactions",h.length<t.length&&e.jsxs("span",{className:"text-orange-600 ml-2",children:["(",t.length-h.length," invalid records hidden)"]})]})]}),u>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(U,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:p===1,children:e.jsx(du,{className:"h-4 w-4"})}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>x(w=>Math.max(w-1,1)),disabled:p===1,children:e.jsx(oi,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,u)},(w,P)=>{let K;return u<=5||p<=3?K=P+1:p>=u-2?K=u-4+P:K=p-2+P,e.jsx(U,{variant:p===K?"default":"outline",size:"sm",onClick:()=>x(K),className:"w-8 h-8 p-0",children:K},K)})}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>x(w=>Math.min(w+1,u)),disabled:p===u,children:e.jsx(lt,{className:"h-4 w-4"})}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>x(u),disabled:p===u,children:e.jsx(uu,{className:"h-4 w-4"})})]})]})]}),e.jsx(Zl,{open:!!c,onOpenChange:()=>m(null),children:e.jsxs(Ua,{children:[e.jsxs(Ha,{children:[e.jsx(Wa,{children:"Are you absolutely sure?"}),e.jsx(qa,{children:"This action cannot be undone. This will permanently delete the transaction from your records."})]}),e.jsxs(Ga,{children:[e.jsx(Qa,{children:"Cancel"}),e.jsx(Ya,{onClick:()=>{c&&(r(c),m(null))},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}var px="Label",ec=i.forwardRef((t,s)=>e.jsx(ge.label,{...t,ref:s,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ec.displayName=px;var tc=ec;const xx=Nr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$=i.forwardRef(({className:t,...s},r)=>e.jsx(tc,{ref:r,className:Y(xx(),t),...s}));$.displayName=tc.displayName;const we=i.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));we.displayName="Textarea";var Xa="Radio",[gx,sc]=dt(Xa),[fx,vx]=gx(Xa),rc=i.forwardRef((t,s)=>{const{__scopeRadio:r,name:a,checked:n=!1,required:o,disabled:l,value:c="on",onCheck:m,form:p,...x}=t,[d,g]=i.useState(null),h=je(s,f=>g(f)),y=i.useRef(!1),u=d?p||!!d.closest("form"):!0;return e.jsxs(fx,{scope:r,checked:n,disabled:l,children:[e.jsx(ge.button,{type:"button",role:"radio","aria-checked":n,"data-state":ic(n),"data-disabled":l?"":void 0,disabled:l,value:c,...x,ref:h,onClick:se(t.onClick,f=>{n||m==null||m(),u&&(y.current=f.isPropagationStopped(),y.current||f.stopPropagation())})}),u&&e.jsx(oc,{control:d,bubbles:!y.current,name:a,value:c,checked:n,required:o,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});rc.displayName=Xa;var ac="RadioIndicator",nc=i.forwardRef((t,s)=>{const{__scopeRadio:r,forceMount:a,...n}=t,o=vx(ac,r);return e.jsx(Ve,{present:a||o.checked,children:e.jsx(ge.span,{"data-state":ic(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:s})})});nc.displayName=ac;var yx="RadioBubbleInput",oc=i.forwardRef(({__scopeRadio:t,control:s,checked:r,bubbles:a=!0,...n},o)=>{const l=i.useRef(null),c=je(l,o),m=Io(r),p=Fo(s);return i.useEffect(()=>{const x=l.current;if(!x)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(m!==r&&h){const y=new Event("click",{bubbles:a});h.call(x,r),x.dispatchEvent(y)}},[m,r,a]),e.jsx(ge.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oc.displayName=yx;function ic(t){return t?"checked":"unchecked"}var jx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ir="RadioGroup",[bx,ef]=dt(Ir,[br,sc]),lc=br(),cc=sc(),[wx,Nx]=bx(Ir),dc=i.forwardRef((t,s)=>{const{__scopeRadioGroup:r,name:a,defaultValue:n,value:o,required:l=!1,disabled:c=!1,orientation:m,dir:p,loop:x=!0,onValueChange:d,...g}=t,h=lc(r),y=wa(p),[u,f]=Hs({prop:o,defaultProp:n??null,onChange:d,caller:Ir});return e.jsx(wx,{scope:r,name:a,required:l,disabled:c,value:u,onValueChange:f,children:e.jsx(Ro,{asChild:!0,...h,orientation:m,dir:y,loop:x,children:e.jsx(ge.div,{role:"radiogroup","aria-required":l,"aria-orientation":m,"data-disabled":c?"":void 0,dir:y,...g,ref:s})})})});dc.displayName=Ir;var uc="RadioGroupItem",hc=i.forwardRef((t,s)=>{const{__scopeRadioGroup:r,disabled:a,...n}=t,o=Nx(uc,r),l=o.disabled||a,c=lc(r),m=cc(r),p=i.useRef(null),x=je(s,p),d=o.value===n.value,g=i.useRef(!1);return i.useEffect(()=>{const h=u=>{jx.includes(u.key)&&(g.current=!0)},y=()=>g.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",y)}},[]),e.jsx(Ao,{asChild:!0,...c,focusable:!l,active:d,children:e.jsx(rc,{disabled:l,required:o.required,checked:d,...m,...n,name:o.name,ref:x,onCheck:()=>o.onValueChange(n.value),onKeyDown:se(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:se(n.onFocus,()=>{var h;g.current&&((h=p.current)==null||h.click())})})})});hc.displayName=uc;var Cx="RadioGroupIndicator",mc=i.forwardRef((t,s)=>{const{__scopeRadioGroup:r,...a}=t,n=cc(r);return e.jsx(nc,{...n,...a,ref:s})});mc.displayName=Cx;var pc=dc,xc=hc,Sx=mc;const gc=i.forwardRef(({className:t,...s},r)=>e.jsx(pc,{className:Y("grid gap-2",t),...s,ref:r}));gc.displayName=pc.displayName;const pa=i.forwardRef(({className:t,...s},r)=>e.jsx(xc,{ref:r,className:Y("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(Sx,{className:"flex items-center justify-center",children:e.jsx(li,{className:"h-2.5 w-2.5 fill-current text-current"})})}));pa.displayName=xc.displayName;const kx=()=>{if(typeof window<"u"&&window.__API_BASE_URL__)return window.__API_BASE_URL__;if(typeof window<"u"){const t=window.location.hostname,s=t==="localhost"||t==="127.0.0.1",r=!1,a=t.includes("fly.dev")||t.includes("builder.io");if(s||r||a)return"__MOCK_MODE__"}return typeof window<"u"&&window.location.hostname.includes("github.io")?"https://bijafarms-api.onrender.com/api":"__MOCK_MODE__"},ft={baseUrl:kx(),timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}};typeof window<"u"&&console.log("🔧 API Configuration:",{baseUrl:ft.baseUrl,mockMode:ft.baseUrl==="__MOCK_MODE__",viteBaseUrl:"/farm/",currentPath:window.location.pathname,hostname:window.location.hostname,environment:"development"});const fc=()=>ft.baseUrl==="__MOCK_MODE__",Fr=async(t,s={})=>{if(fc())return ta(t,s);const r=`${ft.baseUrl}${t}`,a={...ft.headers,...s.headers},n=s.method==="GET"||!s.method?`${r}${r.includes("?")?"&":"?"}t=${Date.now()}`:r,o={...s,headers:a,signal:AbortSignal.timeout(ft.timeout)};try{console.log(`🌐 API Call: ${s.method||"GET"} ${n}`);const l=await fetch(n,o);if(!l.ok){const c=await Dx(l);throw console.error(`❌ API Error: ${l.status} ${l.statusText} for ${n}`),new Un(`API call failed: ${l.status} ${l.statusText}`,l.status,c)}return l}catch(l){if(l instanceof DOMException&&l.name==="TimeoutError")return console.warn("⚠️ Request timeout, falling back to mock mode"),Hn(),ta(t,s);if(l instanceof Un)throw l;return console.warn("⚠️ Network error detected, falling back to mock mode:",l),Hn(),ta(t,s)}};class Un extends Error{constructor(s,r,a){super(s),this.status=r,this.details=a,this.name="ApiError"}}const Dx=async t=>{try{const s=t.headers.get("content-type");if(s&&s.includes("application/json")){const r=await t.json();return r.message||r.error||"Unknown error"}else return await t.text()}catch{return"Unable to parse error response"}},It=async t=>(await Fr(t)).json(),Ft=async(t,s)=>(await Fr(t,{method:"POST",body:JSON.stringify(s)})).json(),Qs=async(t,s)=>(await Fr(t,{method:"PUT",body:JSON.stringify(s)})).json(),Or=async t=>{await Fr(t,{method:"DELETE"})},Hn=()=>{ft.baseUrl="__MOCK_MODE__",console.log("🎭 Demo mode enabled - using mock data")},ta=async(t,s)=>{console.log(`🎭 Mock mode: ${s.method||"GET"} ${t}`);const r=Tx(t,s.method||"GET");return new Response(JSON.stringify(r),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}})},Tx=(t,s)=>t.includes("/expenses")&&s==="GET"?[{id:"1",date:"2024-01-15",type:"Income",description:"Goat Sale - Premium Boer",amount:15e3,paidBy:"Farm Owner",category:"Livestock Sales",subCategory:"Goats"},{id:"2",date:"2024-01-10",type:"Expense",description:"Veterinary Checkup",amount:2500,paidBy:"Farm Owner",category:"Healthcare",subCategory:"Veterinary"},{id:"3",date:"2024-01-08",type:"Income",description:"Sheep Wool Sale",amount:8e3,paidBy:"Farm Owner",category:"Livestock Products",subCategory:"Wool"}]:t.includes("/animals")&&s==="GET"?t.includes("/summary")?{totalAnimals:5,totalGoats:4,totalSheep:1,totalMales:2,totalFemales:3,activeAnimals:3,soldAnimals:1,readyToSell:1,deadAnimals:1,averageWeight:40,totalInvestment:0,totalRevenue:12e3,profitLoss:12e3}:[{id:"1",name:"Radha",type:"goat",breed:"Boer",gender:"female",dateOfBirth:"2023-03-15",photos:[],status:"active",currentWeight:45,markings:"White with brown patches",createdAt:"2023-03-15T10:30:00.000Z",updatedAt:"2024-01-15T14:20:00.000Z"},{id:"2",name:"Krishna",type:"goat",breed:"Boer",gender:"male",dateOfBirth:"2022-08-20",photos:[],status:"active",currentWeight:55,markings:"Pure white with black spots",createdAt:"2022-08-20T09:15:00.000Z",updatedAt:"2024-01-10T11:45:00.000Z"},{id:"3",name:"Lakshmi",type:"sheep",breed:"Dorper",gender:"female",dateOfBirth:"2022-01-10",photos:[],status:"sold",currentWeight:40,markings:"Black head, white body",salePrice:12e3,saleDate:"2024-01-20",createdAt:"2022-01-10T08:00:00.000Z",updatedAt:"2024-01-20T10:00:00.000Z"},{id:"4",name:"Ganga",type:"goat",breed:"Jamunapari",gender:"female",dateOfBirth:"2021-06-15",photos:[],status:"dead",currentWeight:35,markings:"Brown with white spots",deathDate:"2024-01-05",deathReason:"Natural causes - old age",createdAt:"2021-06-15T12:00:00.000Z",updatedAt:"2024-01-05T16:30:00.000Z"},{id:"5",name:"Ravi",type:"goat",breed:"Boer",gender:"male",dateOfBirth:"2023-12-20",photos:[],status:"ready_to_sell",currentWeight:25,markings:"White with brown ears",createdAt:"2023-12-20T14:30:00.000Z",updatedAt:"2024-01-25T09:15:00.000Z"}]:t.includes("/tasks")&&s==="GET"?[{id:"1",title:"Vaccination Schedule - Radha",description:"Annual vaccination for breeding goat",category:"animal-health",taskType:"vaccination",priority:"high",status:"pending",dueDate:"2024-02-15",assignedTo:"Farm Manager",notes:"Use FMD vaccine",createdAt:"2024-01-20T10:00:00.000Z"},{id:"2",title:"Weight Check - All Kids",description:"Monthly weight monitoring",category:"animal-health",taskType:"checkup",priority:"medium",status:"pending",dueDate:"2024-02-01",assignedTo:"Farm Owner",notes:"Record growth patterns",createdAt:"2024-01-18T14:30:00.000Z"},{id:"3",title:"Feed Preparation",description:"Prepare nutritious feed mix",category:"general",taskType:"feeding",priority:"medium",status:"in-progress",dueDate:"2024-01-25",assignedTo:"Farm Worker",notes:"Include protein supplements",createdAt:"2024-01-22T08:00:00.000Z"},{id:"4",title:"Barn Cleaning",description:"Weekly cleaning of animal shelter",category:"maintenance",taskType:"cleaning",priority:"low",status:"completed",dueDate:"2024-01-20",assignedTo:"Farm Worker",notes:"Disinfect after cleaning",createdAt:"2024-01-18T06:00:00.000Z",completedAt:"2024-01-20"}]:t.includes("/weight-records")&&s==="GET"?[{id:"1",animalId:"1",weight:45,date:"2024-01-15",notes:"Good growth progress",recordedBy:"Farm Manager",createdAt:"2024-01-15T14:20:00.000Z"}]:t.includes("/health-records")&&s==="GET"?[{id:"1",animalId:"1",recordType:"checkup",date:"2024-01-15",description:"Routine health checkup",veterinarianName:"Dr. Raghava",diagnosis:"Excellent health condition",treatment:"No treatment required",medications:"None",cost:500,notes:"Animal in excellent condition",createdAt:"2024-01-15T14:20:00.000Z"}]:s!=="GET"?{success:!0,message:"Demo mode - action simulated"}:[],Ex=()=>({...ft,currentUrl:ft.baseUrl,environment:"development",mockMode:fc()}),vc=async()=>{const t=await It("/expenses");return console.log("API Response - Total records:",t.length),console.log("API Response - Max ID:",Math.max(...t.map(s=>parseInt(s.id)||0))),console.log("API Response - Has ID 321:",t.some(s=>s.id==="321")),console.log("First 3 dates from API:",t.slice(0,3).map(s=>({id:s.id,originalDate:s.date,parsedDate:new Date(s.date).toLocaleDateString("en-US")}))),t},Px=async t=>Ft("/expenses",t),Ax=async(t,s)=>Qs(`/expenses/${t}`,s),Rx=async t=>Or(`/expenses/${t}`),yc=async()=>It("/expenses/categories"),os=async t=>{await Ft("/expenses/categories",t)},Mx=async()=>Ft("/expenses/populate-categories",{}),Gn={"Food & Groceries":["Monthly Groceries","Fresh Vegetables","Fruits","Dairy Products","Spices & Condiments"],"Food & Dining":["Cafe & Restaurants","Family Dining","Street Food","Sweets","Fast Food"],Transportation:["Fuel","Auto Rickshaw","Bus/Metro","Taxi/Cab","Vehicle Maintenance"],Utilities:["Electricity","Water","Gas","Internet","Mobile Recharge"],Entertainment:["Movies","Streaming Services","Games","Books","Music"],Healthcare:["Doctor Consultation","Medicines","Dental","Health Insurance","Medical Tests"],Education:["School Fees","Books","Online Learning","Tuition","Stationery"],Insurance:["Vehicle Insurance","Health Insurance","Life Insurance","Home Insurance"],"Health & Fitness":["Gym Membership","Sports","Yoga Classes","Health Supplements"],Shopping:["Clothing","Electronics","Online Shopping","Household Items","Gifts"],Salary:["Monthly Salary","Overtime","DA/HRA","Special Allowances"],"Freelance Income":["Web Development","Design","Consulting","Content Writing"],"Investment Income":["FD Interest","Share Dividends","Mutual Funds","PPF Interest"],"Rental Income":["House Rent","Shop Rent","Vehicle Rent"],Bonus:["Performance Bonus","Festival Bonus","Commission","Incentives"],Power:["General","Line Work","Electrical Equipment","Maintenance"],PreCast:["General","Materials","Labor","Transportation"],Water:["General","Borewell","Motor","Plumbing","Maintenance"],Land:["General","Survey","Registration","Development","Misc","Iron Work"],Business:["General","GoatB-Care","GoatB-Misc","GoatB-Shed","GoatB-Vet","GoatB-feed","GoatB-goatpurchase","GoatB-machinary","Misc","PoultryB-Product","agri","farming","harvest pit","watchmen"],Rooms:["General","Precast","Iron Work","Plumbing","Cement Work","Flooring","Electric","Painting Work","Kitchen","Doors","Solar","Furniture","Misc"],Misc:["General","Food & Dining","Others"]};function Wn({initialData:t,onSubmit:s,onCancel:r,categories:a,paidByOptions:n,sourceOptions:o}){var E;const[l,c]=i.useState({date:(t==null?void 0:t.date)||new Date().toISOString().split("T")[0],type:(t==null?void 0:t.type)||"Expense",description:(t==null?void 0:t.description)||"",amount:((E=t==null?void 0:t.amount)==null?void 0:E.toString())||"",paidBy:(t==null?void 0:t.paidBy)||"",category:(t==null?void 0:t.category)||"",subCategory:(t==null?void 0:t.subCategory)||"",source:(t==null?void 0:t.source)||"",notes:(t==null?void 0:t.notes)||""}),[m,p]=i.useState([]),[x,d]=i.useState([]),[g,h]=i.useState(""),[y,u]=i.useState(""),[f,N]=i.useState(""),[C,D]=i.useState(!1),[T,b]=i.useState(!1),[j,_]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const A=await yc();d(A.categories||[])}catch(A){console.error("Error loading categories:",A),d([])}})()},[]),i.useEffect(()=>{let F=[];const A=x.find(q=>q.name===l.category);A?F=A.subCategories:l.category&&Gn[l.category]&&(F=Gn[l.category]),p(F),F.length>0&&!F.includes(l.subCategory)&&c(q=>({...q,subCategory:""}))},[l.category,x]);const w=async F=>{if(F.preventDefault(),!l.description||!l.amount||!l.category)return;const A=C&&g?g:l.category,q=T&&y?y:l.paidBy,Z=j&&f?f:l.source,L={id:(t==null?void 0:t.id)||Date.now().toString(),date:l.date,type:l.type,description:l.description,amount:parseFloat(l.amount),paidBy:q,category:A,subCategory:l.subCategory,source:Z,notes:l.notes};await s(L)},P=F=>{F==="new"?(D(!0),c(A=>({...A,category:""}))):(D(!1),c(A=>({...A,category:F})))},K=F=>{F==="new"?(b(!0),c(A=>({...A,paidBy:""}))):(b(!1),c(A=>({...A,paidBy:F})))},X=F=>{F==="new"?(_(!0),c(A=>({...A,source:""}))):(_(!1),c(A=>({...A,source:F})))};return e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Transaction Type"}),e.jsxs(gc,{value:l.type,onValueChange:F=>c(A=>({...A,type:F})),className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pa,{value:"Expense",id:"expense"}),e.jsx($,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pa,{value:"Income",id:"income"}),e.jsx($,{htmlFor:"income",children:"Income"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"date",children:"Date *"}),e.jsx(Q,{id:"date",type:"date",value:l.date,onChange:F=>c(A=>({...A,date:F.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"description",children:"Description *"}),e.jsx(Q,{id:"description",value:l.description,onChange:F=>c(A=>({...A,description:F.target.value})),placeholder:"Enter transaction description",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"amount",children:"Amount *"}),e.jsx(Q,{id:"amount",type:"number",step:"0.01",min:"0",value:l.amount,onChange:F=>c(A=>({...A,amount:F.target.value})),placeholder:"0.00",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Category *"}),C?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Q,{value:g,onChange:F=>h(F.target.value),placeholder:"Enter new category",className:"flex-1"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>D(!1),children:"Cancel"})]}):e.jsxs(he,{value:l.category||void 0,onValueChange:P,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select category"})}),e.jsxs(ue,{children:[a.map(F=>e.jsx(R,{value:F,children:F},F)),e.jsx(R,{value:"new",children:"+ Add New Category"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Sub-Category"}),m.length>0?e.jsxs(he,{value:l.subCategory||void 0,onValueChange:F=>c(A=>({...A,subCategory:F})),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select sub-category"})}),e.jsx(ue,{children:m.map(F=>e.jsx(R,{value:F,children:F},F))})]}):e.jsx(Q,{value:l.subCategory,onChange:F=>c(A=>({...A,subCategory:F.target.value})),placeholder:"Enter sub-category"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Paid By"}),T?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Q,{value:y,onChange:F=>u(F.target.value),placeholder:"Enter new payer",className:"flex-1"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"})]}):e.jsxs(he,{value:l.paidBy||void 0,onValueChange:K,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select who paid"})}),e.jsxs(ue,{children:[n.map(F=>e.jsx(R,{value:F,children:F},F)),e.jsx(R,{value:"new",children:"+ Add New Payer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{children:"Source"}),j?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Q,{value:f,onChange:F=>N(F.target.value),placeholder:"Enter new source",className:"flex-1"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"})]}):e.jsxs(he,{value:l.source||void 0,onValueChange:X,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select payment source"})}),e.jsxs(ue,{children:[o.map(F=>e.jsx(R,{value:F,children:F},F)),e.jsx(R,{value:"new",children:"+ Add New Source"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Notes"}),e.jsx(we,{id:"notes",value:l.notes,onChange:F=>c(A=>({...A,notes:F.target.value})),placeholder:"Additional notes (optional)",rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(U,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsxs(U,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[t?"Update":"Add"," Transaction"]})]})]})}const nr=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#84CC16","#6366F1"];function Ix({expenses:t}){var g;const s=i.useMemo(()=>{const h=new Map;return t.filter(y=>y.type==="Expense"&&y.amount>0&&y.description&&y.description.trim()!==""&&y.description!=="No description"&&y.category!=="Other").forEach(y=>{const u=h.get(y.category)||{amount:0,count:0};h.set(y.category,{amount:u.amount+y.amount,count:u.count+1})}),Array.from(h.entries()).map(([y,u])=>({category:y,amount:u.amount,count:u.count})).sort((y,u)=>u.amount-y.amount)},[t]),r=i.useMemo(()=>{const h=new Map,y=new Date,u=new Date;return u.setMonth(y.getMonth()-12),t.filter(f=>{const N=new Date(f.date);return f.type==="Expense"&&N>=u&&f.amount>0&&f.description&&f.description.trim()!==""&&f.description!=="No description"}).forEach(f=>{const N=new Date(f.date).toLocaleDateString("en-US",{year:"numeric",month:"short"}),C=h.get(N)||{income:0,expenses:0};C.expenses+=f.amount,h.set(N,C)}),Array.from(h.entries()).map(([f,N])=>({month:f,income:N.income,expenses:N.expenses})).sort((f,N)=>new Date(f.month).getTime()-new Date(N.month).getTime())},[t]),a=s.slice(0,8),n=s.slice(8),o=[...a,...n.length>0?[{category:"Other",amount:n.reduce((h,y)=>h+y.amount,0),count:n.reduce((h,y)=>h+y.count,0)}]:[]],l=i.useMemo(()=>{const h=new Map;t.filter(u=>u.type==="Expense"&&u.amount>0&&u.description&&u.description.trim()!==""&&u.description!=="No description"&&u.category!=="Other"&&u.subCategory&&u.subCategory.trim()!=="").forEach(u=>{h.has(u.category)||h.set(u.category,new Map);const f=h.get(u.category),N=f.get(u.subCategory)||{amount:0,count:0};f.set(u.subCategory,{amount:N.amount+u.amount,count:N.count+1})});const y=[];return Array.from(h.entries()).forEach(([u,f],N)=>{const C=Array.from(f.entries()).map(([D,T],b)=>({subCategory:D,amount:T.amount,count:T.count,fill:nr[(N*3+b)%nr.length]})).sort((D,T)=>T.amount-D.amount);C.length>0&&y.push({category:u,subCategories:C})}),y.sort((u,f)=>{const N=u.subCategories.reduce((D,T)=>D+T.amount,0);return f.subCategories.reduce((D,T)=>D+T.amount,0)-N})},[t]),[c,m]=i.useState(""),p=h=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(h),x=({active:h,payload:y,label:u})=>h&&y&&y.length?e.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-semibold",children:u}),y.map((f,N)=>e.jsxs("p",{style:{color:f.color},children:[f.name,": ",p(f.value)]},N))]}):null,d=({active:h,payload:y})=>{if(h&&y&&y.length){const u=y[0].payload;return e.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-semibold",children:u.category}),e.jsxs("p",{children:["Amount: ",p(u.amount)]}),e.jsxs("p",{children:["Transactions: ",u.count]}),e.jsxs("p",{children:["Percentage:"," ",(u.amount/s.reduce((f,N)=>f+N.amount,0)*100).toFixed(1),"%"]})]})}return null};return t.length===0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx(H,{children:e.jsx(W,{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-slate-500",children:"No data available for charts"})})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Monthly Expenses Tracking"}),e.jsx(ke,{children:"Track your spending patterns over the last 12 months"})]}),e.jsx(W,{children:e.jsx(is,{width:"100%",height:300,children:e.jsxs(Dd,{data:r,children:[e.jsx(_o,{strokeDasharray:"3 3"}),e.jsx(Lo,{dataKey:"month"}),e.jsx(Bo,{tickFormatter:p,width:80,tick:{fontSize:12}}),e.jsx(ls,{content:e.jsx(x,{})}),e.jsx(Td,{dataKey:"expenses",fill:"#EF4444",name:"Expenses"})]})})})]}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Expenses by Category"}),e.jsx(ke,{children:"Breakdown of your spending categories"})]}),e.jsx(W,{children:e.jsx(is,{width:"100%",height:400,children:e.jsxs(dr,{children:[e.jsx(ur,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({category:h,percent:y})=>`${h} ${(y*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"amount",children:o.map((h,y)=>e.jsx(hr,{fill:nr[y%nr.length]},`cell-${y}`))}),e.jsx(ls,{content:e.jsx(d,{})})]})})})]}),l.length>0&&e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Sub-Category Breakdown by Category"}),e.jsx(ke,{children:"Select a category to view its sub-category breakdown"})]}),e.jsx(W,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 min-w-fit",children:"Select Category:"}),e.jsxs(he,{value:c,onValueChange:m,children:[e.jsx(de,{className:"w-[280px]",children:e.jsx(me,{placeholder:"Choose a category to view breakdown"})}),e.jsx(ue,{children:l.map(h=>e.jsx(R,{value:h.category,children:h.category},h.category))})]})]}),c&&(()=>{const h=l.find(u=>u.category===c);if(!h)return null;const y=h.subCategories.reduce((u,f)=>u+f.amount,0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-slate-800 text-lg",children:h.category}),e.jsx("span",{className:"text-lg text-slate-600 font-medium",children:p(y)})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(is,{width:"100%",height:350,children:e.jsxs(dr,{children:[e.jsx(ur,{data:h.subCategories,cx:"50%",cy:"50%",labelLine:!1,label:({subCategory:u,amount:f})=>{const N=f/y*100;return N>5?`${u} ${N.toFixed(0)}%`:""},outerRadius:120,fill:"#8884d8",dataKey:"amount",children:h.subCategories.map((u,f)=>e.jsx(hr,{fill:u.fill},`cell-${f}`))}),e.jsx(ls,{formatter:(u,f)=>[p(u),"Amount"],labelFormatter:u=>`${u}`,contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-slate-700 text-sm uppercase tracking-wider",children:"Sub-Category Breakdown"}),e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:h.subCategories.sort((u,f)=>f.amount-u.amount).map((u,f)=>{const N=u.amount/y*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:u.fill}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-800 text-sm truncate",children:u.subCategory}),e.jsxs("div",{className:"text-xs text-slate-600",children:[u.count," transaction",u.count!==1?"s":""]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-slate-800 text-sm",children:p(u.amount)}),e.jsxs("div",{className:"text-xs text-slate-600",children:[N.toFixed(1),"%"]})]})]},u.subCategory)})})]})]})]})})(),!c&&e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("div",{className:"text-lg font-medium mb-2",children:"No category selected"}),e.jsx("div",{className:"text-sm",children:"Choose a category from the dropdown above to view its breakdown"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(H,{children:[e.jsx(ee,{className:"pb-2",children:e.jsx(te,{className:"text-sm font-medium",children:"Top Category"})}),e.jsxs(W,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:((g=s[0])==null?void 0:g.category)||"N/A"}),e.jsx("p",{className:"text-sm text-slate-600",children:s[0]?p(s[0].amount):"$0.00"})]})]}),e.jsxs(H,{children:[e.jsx(ee,{className:"pb-2",children:e.jsx(te,{className:"text-sm font-medium",children:"Average Transaction"})}),e.jsxs(W,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:p(t.length>0?t.reduce((h,y)=>h+y.amount,0)/t.length:0)}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Across ",t.length," transactions"]})]})]}),e.jsxs(H,{children:[e.jsx(ee,{className:"pb-2",children:e.jsx(te,{className:"text-sm font-medium",children:"Categories"})}),e.jsxs(W,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:s.length}),e.jsx("p",{className:"text-sm text-slate-600",children:"Unique spending categories"})]})]})]})]})}function Fx({onCategoriesUpdate:t}){const[s,r]=i.useState([]),[a,n]=i.useState(!1),[o,l]=i.useState(!1),[c,m]=i.useState(null),[p,x]=i.useState(null),[d,g]=i.useState(null),[h,y]=i.useState(""),[u,f]=i.useState(""),[N,C]=i.useState(""),{toast:D}=Ye(),T=async()=>{try{l(!0);const E=await yc();r(E.categories||[])}catch(E){console.error("Error loading categories:",E),D({title:"Error",description:"Failed to load categories",variant:"destructive"})}finally{l(!1)}},b=async()=>{try{l(!0);const E=await Mx();r(E.categories.categories||[]),t(),D({title:"Success",description:`Successfully populated ${E.count} categories from existing expense data`})}catch(E){console.error("Error populating categories:",E),D({title:"Error",description:"Failed to populate categories from expense data",variant:"destructive"})}finally{l(!1)}};i.useEffect(()=>{a&&T()},[a]);const j=async()=>{if(h.trim())try{const E={id:Date.now().toString(),name:h.trim(),subCategories:[],createdAt:new Date().toISOString()};await os({categories:[...s,E],lastUpdated:new Date().toISOString()}),r([...s,E]),y(""),t(),D({title:"Success",description:"Category added successfully"})}catch(E){console.error("Error adding category:",E),D({title:"Error",description:"Failed to add category",variant:"destructive"})}},_=async E=>{if(u.trim())try{const F=s.map(A=>A.id===E?{...A,subCategories:[...A.subCategories,u.trim()]}:A);await os({categories:F,lastUpdated:new Date().toISOString()}),r(F),f(""),t(),D({title:"Success",description:"Sub-category added successfully"})}catch(F){console.error("Error adding sub-category:",F),D({title:"Error",description:"Failed to add sub-category",variant:"destructive"})}},w=async E=>{if(N.trim())try{const F=s.map(A=>A.id===E?{...A,name:N.trim()}:A);await os({categories:F,lastUpdated:new Date().toISOString()}),r(F),m(null),C(""),t(),D({title:"Success",description:"Category updated successfully"})}catch(F){console.error("Error updating category:",F),D({title:"Error",description:"Failed to update category",variant:"destructive"})}},P=async(E,F)=>{if(N.trim())try{const A=s.map(q=>{if(q.id===E){const Z=[...q.subCategories];return Z[F]=N.trim(),{...q,subCategories:Z}}return q});await os({categories:A,lastUpdated:new Date().toISOString()}),r(A),x(null),C(""),t(),D({title:"Success",description:"Sub-category updated successfully"})}catch(A){console.error("Error updating sub-category:",A),D({title:"Error",description:"Failed to update sub-category",variant:"destructive"})}},K=async E=>{try{const F=s.filter(A=>A.id!==E);await os({categories:F,lastUpdated:new Date().toISOString()}),r(F),g(null),t(),D({title:"Success",description:"Category deleted successfully"})}catch(F){console.error("Error deleting category:",F),D({title:"Error",description:"Failed to delete category",variant:"destructive"})}},X=async(E,F)=>{try{const A=s.map(q=>{if(q.id===E){const Z=q.subCategories.filter((L,z)=>z!==F);return{...q,subCategories:Z}}return q});await os({categories:A,lastUpdated:new Date().toISOString()}),r(A),g(null),t(),D({title:"Success",description:"Sub-category deleted successfully"})}catch(A){console.error("Error deleting sub-category:",A),D({title:"Error",description:"Failed to delete sub-category",variant:"destructive"})}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{open:a,onOpenChange:n,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[e.jsx(ju,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Manage Categories"})]})}),e.jsxs(Te,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Manage Categories & Sub-Categories"}),e.jsx(Oe,{children:"Add, edit, or delete categories and their sub-categories used in your expense tracker."})]}),e.jsx(H,{children:e.jsxs(ee,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(te,{className:"text-lg",children:"Category Management"}),e.jsxs(U,{onClick:b,disabled:o,variant:"outline",children:[e.jsx(ci,{className:"h-4 w-4 mr-2"}),"Populate from Expenses"]})]}),e.jsx(ke,{children:"Populate categories from existing expense data or add new ones manually"})]})}),e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{className:"text-lg",children:"Add New Category"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{value:h,onChange:E=>y(E.target.value),placeholder:"Enter category name",onKeyPress:E=>E.key==="Enter"&&j()}),e.jsxs(U,{onClick:j,disabled:!h.trim(),children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add"]})]})})]}),e.jsx("div",{className:"space-y-4",children:o?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading categories..."})]}):s.length===0?e.jsx(H,{children:e.jsx(W,{className:"text-center py-8",children:e.jsx("p",{className:"text-slate-500",children:"No categories found. Add your first category above."})})}):s.map(E=>e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx("div",{className:"flex items-center justify-between",children:c===E.id?e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Q,{value:N,onChange:F=>C(F.target.value),onKeyPress:F=>F.key==="Enter"&&w(E.id),className:"flex-1"}),e.jsx(U,{size:"sm",onClick:()=>w(E.id),children:e.jsx(mr,{className:"h-4 w-4"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>{m(null),C("")},children:e.jsx(Ns,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"text-lg",children:E.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{size:"sm",variant:"outline",onClick:()=>{m(E.id),C(E.name)},children:e.jsx(Dn,{className:"h-4 w-4"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>g({type:"category",categoryId:E.id}),children:e.jsx(Qt,{className:"h-4 w-4"})})]})]})})}),e.jsx(W,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{children:"Sub-Categories:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.subCategories.map((F,A)=>e.jsx("div",{className:"flex items-center gap-1",children:(p==null?void 0:p.categoryId)===E.id&&p.index===A?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{value:N,onChange:q=>C(q.target.value),onKeyPress:q=>q.key==="Enter"&&P(E.id,A),className:"w-32",size:"sm"}),e.jsx(U,{size:"sm",onClick:()=>P(E.id,A),children:e.jsx(mr,{className:"h-3 w-3"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>{x(null),C("")},children:e.jsx(Ns,{className:"h-3 w-3"})})]}):e.jsxs(xe,{variant:"secondary",className:"cursor-pointer group",children:[e.jsx("span",{children:F}),e.jsx(U,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0 ml-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{x({categoryId:E.id,index:A}),C(F)},children:e.jsx(Dn,{className:"h-3 w-3"})}),e.jsx(U,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0 ml-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g({type:"subCategory",categoryId:E.id,subCategoryIndex:A}),children:e.jsx(Qt,{className:"h-3 w-3"})})]})},A))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{value:u,onChange:F=>f(F.target.value),placeholder:"Add sub-category",onKeyPress:F=>F.key==="Enter"&&_(E.id),size:"sm"}),e.jsx(U,{size:"sm",onClick:()=>_(E.id),disabled:!u.trim(),children:e.jsx(vt,{className:"h-4 w-4"})})]})]})})]},E.id))})]})]}),e.jsx(Zl,{open:!!d,onOpenChange:()=>g(null),children:e.jsxs(Ua,{children:[e.jsxs(Ha,{children:[e.jsx(Wa,{children:"Are you absolutely sure?"}),e.jsxs(qa,{children:["This action cannot be undone. This will permanently delete the"," ",d==null?void 0:d.type,".",(d==null?void 0:d.type)==="category"&&" All associated sub-categories will also be deleted."]})]}),e.jsxs(Ga,{children:[e.jsx(Qa,{children:"Cancel"}),e.jsx(Ya,{onClick:()=>{(d==null?void 0:d.type)==="category"?K(d.categoryId):(d==null?void 0:d.type)==="subCategory"&&d.subCategoryIndex!==void 0&&X(d.categoryId,d.subCategoryIndex)},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const qn=t=>{if(t==null)return"";const s=String(t);return s.includes('"')||s.includes(",")||s.includes(`
`)?`"${s.replace(/"/g,'""')}"`:s},Ox=(t,s)=>s.split(".").reduce((r,a)=>r==null?void 0:r[a],t),_x=t=>{try{const{filename:s,columns:r,data:a}=t,n=r.map(x=>x.header),o=a.map(x=>r.map(d=>{let g;return typeof d.key=="string"&&d.key.includes(".")?g=Ox(x,d.key):g=x[d.key],d.formatter&&(g=d.formatter(g,x)),qn(g)})),l=[n.map(qn).join(","),...o.map(x=>x.join(","))].join(`
`),c=new Blob([l],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),p=URL.createObjectURL(c);m.setAttribute("href",p),m.setAttribute("download",s),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p)}catch(s){throw console.error("CSV export error:",s),new Error("Failed to export CSV file")}},Lx=t=>{try{const{filename:s,data:r}=t,a=JSON.stringify(r,null,2),n=new Blob([a],{type:"application/json;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(n);o.setAttribute("href",l),o.setAttribute("download",s.replace(".csv",".json")),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)}catch(s){throw console.error("JSON export error:",s),new Error("Failed to export JSON file")}},Za=(t,s="csv")=>{const r=new Date().toISOString().split("T")[0];return`${t}-${r}.${s}`},Ne={date:t=>t?new Date(t).toLocaleDateString():"",currency:(t,s="en-IN",r="INR")=>!t&&t!==0?"":new Intl.NumberFormat(s,{style:"currency",currency:r}).format(Number(t)),boolean:t=>t==null?"":t?"Yes":"No",capitalize:t=>t?String(t).charAt(0).toUpperCase()+String(t).slice(1):"",replaceUnderscore:t=>t?String(t).replace(/_/g," "):""};function jc({data:t,config:s,disabled:r=!1,variant:a="button",size:n="default",className:o=""}){const[l,c]=i.useState(!1),{toast:m}=Ye(),p=async()=>{if(!(l||r)){c(!0);try{_x({...s,data:t}),m({title:"Export Complete",description:`Successfully exported ${t.length} records to CSV`})}catch(d){console.error("Export error:",d),m({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}finally{c(!1)}}},x=async()=>{if(!(l||r)){c(!0);try{Lx({...s,data:t}),m({title:"Export Complete",description:`Successfully exported ${t.length} records to JSON`})}catch(d){console.error("Export error:",d),m({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}finally{c(!1)}}};return a==="dropdown"?e.jsxs(Rl,{children:[e.jsx(Ml,{asChild:!0,children:e.jsxs(U,{variant:"outline",size:n,disabled:r||t.length===0||l,className:o,children:[e.jsx(ka,{className:"h-4 w-4 mr-2"}),"Export"]})}),e.jsxs(Ka,{align:"end",children:[e.jsxs(zs,{onClick:p,disabled:l,children:[e.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Export as CSV"]}),e.jsxs(zs,{onClick:x,disabled:l,children:[e.jsx(xu,{className:"mr-2 h-4 w-4"}),"Export as JSON"]})]})]}):e.jsxs(U,{variant:"outline",size:n,onClick:p,disabled:r||t.length===0||l,className:o,children:[e.jsx(ci,{className:"h-4 w-4 mr-2"}),l?"Exporting...":"Export CSV"]})}function Ja(t){return e.jsx(jc,{...t,variant:"button"})}function Bx(t){return e.jsx(jc,{...t,variant:"dropdown"})}const $x=()=>({filename:Za("bija-expenses"),columns:[{key:"date",header:"Date"},{key:"type",header:"Type"},{key:"description",header:"Description"},{key:"amount",header:"Amount",formatter:t=>Ne.currency(t)},{key:"paidBy",header:"Paid By"},{key:"category",header:"Category"},{key:"subCategory",header:"Sub-Category"},{key:"source",header:"Source"},{key:"notes",header:"Notes"}]}),zx=()=>({filename:Za("bija-tasks"),columns:[{key:"title",header:"Title"},{key:"description",header:"Description"},{key:"category",header:"Category",formatter:t=>Ne.replaceUnderscore(Ne.capitalize(t))},{key:"taskType",header:"Task Type",formatter:t=>Ne.replaceUnderscore(Ne.capitalize(t))},{key:"priority",header:"Priority",formatter:Ne.capitalize},{key:"status",header:"Status",formatter:t=>Ne.replaceUnderscore(Ne.capitalize(t))},{key:"dueDate",header:"Due Date",formatter:Ne.date},{key:"assignedTo",header:"Assigned To"},{key:"notes",header:"Notes"},{key:"createdAt",header:"Created Date",formatter:Ne.date},{key:"completedAt",header:"Completed Date",formatter:t=>t?Ne.date(t):""}]}),Vx=()=>({filename:Za("bija-animals"),columns:[{key:"name",header:"Name"},{key:"type",header:"Type",formatter:Ne.capitalize},{key:"breed",header:"Breed"},{key:"gender",header:"Gender",formatter:Ne.capitalize},{key:"dateOfBirth",header:"Date of Birth",formatter:Ne.date},{key:"currentWeight",header:"Current Weight (kg)"},{key:"status",header:"Status",formatter:t=>({active:"Active",sold:"Sold",ready_to_sell:"Ready to Sell",dead:"Dead"})[t]||Ne.capitalize(t)},{key:"purchasePrice",header:"Purchase Price",formatter:t=>t?Ne.currency(t):""},{key:"salePrice",header:"Sale Price",formatter:t=>t?Ne.currency(t):""},{key:"purchaseDate",header:"Purchase Date",formatter:Ne.date},{key:"saleDate",header:"Sale Date",formatter:Ne.date},{key:"deathDate",header:"Death Date",formatter:Ne.date},{key:"markings",header:"Markings"},{key:"createdAt",header:"Created Date",formatter:Ne.date}]});function Kx(){const[t,s]=i.useState([]),[r,a]=i.useState([]),[n,o]=i.useState({search:"",type:"",category:"",paidBy:"",source:"",dateFrom:"",dateTo:""}),[l,c]=i.useState(!1),[m,p]=i.useState(null),[x,d]=i.useState(!0),{toast:g}=Ye();i.useEffect(()=>{(async()=>{try{const j=await vc();console.log("Initial load - expenses count:",j.length),console.log("Initial load - sample IDs:",j.slice(0,5).map(_=>_.id)),console.log("Checking for ID 321:",j.find(_=>_.id==="321")?"FOUND":"NOT FOUND"),s(j),a(j)}catch(j){console.error("Error loading expenses:",j),g({title:"Error",description:"Failed to load expenses. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[g]),i.useEffect(()=>{let b=t;n.search&&(b=b.filter(j=>j.description.toLowerCase().includes(n.search.toLowerCase())||j.notes.toLowerCase().includes(n.search.toLowerCase()))),n.type&&(b=b.filter(j=>j.type===n.type)),n.category&&(b=b.filter(j=>j.category===n.category)),n.paidBy&&(b=b.filter(j=>j.paidBy===n.paidBy)),n.source&&(b=b.filter(j=>j.source===n.source)),n.dateFrom&&(b=b.filter(j=>j.date>=n.dateFrom)),n.dateTo&&(b=b.filter(j=>j.date<=n.dateTo)),a(b)},[t,n]);const h=i.useMemo(()=>{const b=r.filter(_=>_.type==="Income").reduce((_,w)=>_+w.amount,0),j=r.filter(_=>_.type==="Expense").reduce((_,w)=>_+w.amount,0);return{totalIncome:b,totalExpenses:j,balance:b-j,transactionCount:r.length}},[r]),y=[...new Set(t.map(b=>b.category))],u=[...new Set(t.map(b=>b.paidBy))],f=[...new Set(t.map(b=>b.source))],N=async b=>{try{const j=await Px(b);s(_=>[j,..._]),c(!1),g({title:"Success",description:"Expense added successfully"})}catch(j){console.error("Error adding expense:",j),g({title:"Error",description:"Failed to add expense. Please try again.",variant:"destructive"})}},C=async b=>{try{if(!b||!b.id)throw new Error("Invalid expense data for update");console.log("Updating expense:",b);const j=await Ax(b.id,b);s(_=>_.map(w=>w.id===j.id?j:w)),p(null),g({title:"Success",description:"Expense updated successfully"})}catch(j){console.error("Error updating expense:",j),g({title:"Error",description:"Failed to update expense. Please try again.",variant:"destructive"})}},D=async b=>{try{if(!b||b.trim()==="")throw new Error("Invalid expense ID for deletion");console.log("Deleting expense with ID:",b),await Rx(b),s(j=>j.filter(_=>_.id!==b)),g({title:"Success",description:"Expense deleted successfully"})}catch(j){console.error("Error deleting expense:",j),g({title:"Error",description:"Failed to delete expense. Please try again.",variant:"destructive"})}},T=()=>{p(null)};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading your expense data..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(gt,{to:"/",children:e.jsxs(U,{variant:"ghost",size:"sm",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Back to Main"]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F483f6e241d954aec88a0b40782122459%2F5254047a2582477b8e206724ecfff5b8?format=webp&width=800",alt:"Bija Farms Logo",className:"h-12 w-auto"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Bija Expense Tracker"}),e.jsx("p",{className:"text-slate-600",children:"Manage farm finances with ease"})]})]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-2 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-green-800 flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Total Income"]})}),e.jsx(W,{children:e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["₹",h.totalIncome.toLocaleString("en-IN",{minimumFractionDigits:2})]})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-red-800 flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),"Total Expenses"]})}),e.jsx(W,{children:e.jsxs("div",{className:"text-2xl font-bold text-red-900",children:["₹",h.totalExpenses.toLocaleString("en-IN",{minimumFractionDigits:2})]})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4"}),"Balance"]})}),e.jsx(W,{children:e.jsxs("div",{className:`text-2xl font-bold ${h.balance>=0?"text-blue-900":"text-red-900"}`,children:["₹",h.balance.toLocaleString("en-IN",{minimumFractionDigits:2})]})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-purple-800 flex items-center gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),"Transactions"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:h.transactionCount})})]})]}),e.jsx(H,{children:e.jsx(W,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search transactions...",value:n.search,onChange:b=>o(j=>({...j,search:b.target.value})),className:"pl-10 w-full"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(he,{value:n.type||"all",onValueChange:b=>o(j=>({...j,type:b==="all"?"":b})),children:[e.jsx(de,{className:"w-full sm:w-32",children:e.jsx(me,{placeholder:"Type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Types"}),e.jsx(R,{value:"Income",children:"Income"}),e.jsx(R,{value:"Expense",children:"Expense"})]})]}),e.jsxs(he,{value:n.category||"all",onValueChange:b=>o(j=>({...j,category:b==="all"?"":b})),children:[e.jsx(de,{className:"w-full sm:w-40",children:e.jsx(me,{placeholder:"Category"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Categories"}),y.map(b=>e.jsx(R,{value:b,children:b},b))]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(Fx,{onCategoriesUpdate:T}),e.jsx(Bx,{data:r,config:$x(),disabled:r.length===0,size:"sm",className:"flex-1 sm:flex-none"})]}),e.jsxs(Ie,{open:l,onOpenChange:c,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})}),e.jsxs(Te,{className:"max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Add New Transaction"}),e.jsx(Oe,{children:"Enter the details for your new income or expense transaction."})]}),e.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2",children:e.jsx(Wn,{onSubmit:N,onCancel:()=>c(!1),categories:y,paidByOptions:u,sourceOptions:f})})]})]})]})]})})}),e.jsxs(Pr,{defaultValue:"table",className:"space-y-4",children:[e.jsxs(Ws,{className:"grid w-full grid-cols-2 max-w-md mx-auto",children:[e.jsx(Ge,{value:"table",className:"text-sm",children:"Data Table"}),e.jsx(Ge,{value:"charts",className:"text-sm",children:"Analytics"})]}),e.jsx(We,{value:"table",children:e.jsx(mx,{expenses:r,onEdit:p,onDelete:D})}),e.jsx(We,{value:"charts",children:e.jsx(Ix,{expenses:r})})]}),e.jsx(Ie,{open:!!m,onOpenChange:()=>p(null),children:e.jsxs(Te,{className:"max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Edit Transaction"}),e.jsx(Oe,{children:"Update the details for this transaction."})]}),e.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2",children:m&&e.jsx(Wn,{initialData:m,onSubmit:C,onCancel:()=>p(null),categories:y,paidByOptions:u,sourceOptions:f})})]})})]})]})}const bc=async()=>It("/tasks"),Ux=async t=>Ft("/tasks",t),Yn=async(t,s)=>Qs(`/tasks/${t}`,s),Hx=async t=>Or(`/tasks/${t}`),Rt=async()=>It("/animals"),en=async t=>Ft("/animals",t),ms=async(t,s)=>Qs(`/animals/${t}`,s),Gx=async t=>Or(`/animals/${t}`),Wx=async t=>{const s=t?`/weight-records?animalId=${t}`:"/weight-records";return It(s)},qx=async t=>Ft("/weight-records",t),Fs=async t=>It("/breeding-records"),Yx=async t=>Ft("/breeding-records",t),Qx=async(t,s)=>Qs(`/breeding-records/${t}`,s),Xx=async t=>{const s=t?`/health-records?animalId=${t}`:"/health-records";return It(s)},wc=async t=>Ft("/health-records",t),Zx=async(t,s)=>Qs(`/health-records/${t}`,s),Jx=async t=>Or(`/health-records/${t}`),sa=async()=>It("/animals/summary");function eg(){const[t,s]=i.useState([]),[r,a]=i.useState([]),[n,o]=i.useState([]),[l,c]=i.useState(!1),[m,p]=i.useState(!0),[x,d]=i.useState(!0),[g,h]=i.useState(!0),[y,u]=i.useState(!0),[f,N]=i.useState({totalIncome:0,totalExpenses:0,balance:0,transactionCount:0}),[C,D]=i.useState({totalAnimals:0,totalGoats:0,totalSheep:0,totalKids:0,activeAnimals:0});i.useEffect(()=>{const w=async()=>{try{const E=await vc();s(E);const F=E.filter(q=>q.type==="Income").reduce((q,Z)=>q+Z.amount,0),A=E.filter(q=>q.type==="Expense").reduce((q,Z)=>q+Z.amount,0);N({totalIncome:F,totalExpenses:A,balance:F-A,transactionCount:E.length})}catch(E){console.error("Error loading expense stats:",E)}finally{p(!1)}},P=async()=>{try{const F=(await bc()).filter(A=>A.status!=="completed").sort((A,q)=>{const Z=new Date(A.dueDate).getTime()-new Date(q.dueDate).getTime();if(Z!==0)return Z;const L={high:0,medium:1,low:2};return L[A.priority]-L[q.priority]}).slice(0,3);a(F)}catch(E){console.error("Error loading tasks:",E),a([])}finally{d(!1)}},K=async()=>{try{const E=await Rt();o(E);const F=E.filter(I=>I.status!=="sold"&&I.status!=="dead"),A=F.filter(I=>I.type==="goat"),q=F.filter(I=>I.type==="sheep"),Z=new Date,L=new Date(Z.getFullYear(),Z.getMonth()-3,Z.getDate()),z=F.filter(I=>I.dateOfBirth?new Date(I.dateOfBirth)>L:!1);D({totalAnimals:F.length,totalGoats:A.length,totalSheep:q.length,totalKids:z.length,activeAnimals:F.length})}catch(E){console.error("Error loading animals:",E),o([]),D({totalAnimals:0,totalGoats:0,totalSheep:0,totalKids:0,activeAnimals:0})}finally{h(!1)}},X=async()=>{try{const E=await Fs();c(E.length>0)}catch(E){console.error("Error loading breeding data:",E),c(!1)}finally{u(!1)}};w(),P(),K(),X()},[]);const T=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(w),b=w=>{const P=new Date(w),K=new Date,X=P.getTime()-K.getTime(),E=Math.ceil(X/(1e3*60*60*24));return E===0?"Today":E===1?"Tomorrow":E<0?`${Math.abs(E)} days overdue`:E<=7?`${E} days`:P.toLocaleDateString("en-US",{month:"short",day:"numeric"})},j=w=>{switch(w){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},_=Ex();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:[_.mockMode&&e.jsx("div",{className:"bg-orange-100 border-b border-orange-200 px-4 py-2",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center gap-2 text-orange-800",children:e.jsx("span",{className:"text-sm font-medium",children:"🎭 Demo Mode: Using sample data (Backend not connected)"})})})}),e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-green-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F483f6e241d954aec88a0b40782122459%2F5254047a2582477b8e206724ecfff5b8?format=webp&width=800",alt:"Bija Farms Logo",className:"h-16 sm:h-20 w-auto"}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-green-800 mb-1 sm:mb-2",children:"Bija Farms Management"}),e.jsx("p",{className:"text-green-600 text-sm sm:text-lg",children:"Integrated farming solutions for modern agriculture"})]})]})})}),e.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 sm:py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8 mb-8 sm:mb-12",children:[e.jsxs(H,{className:"group hover:shadow-xl transition-all duration-300 border-2 border-green-200 hover:border-green-300 bg-white/90 backdrop-blur-sm",children:[e.jsx(ee,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:e.jsx(Yt,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(te,{className:"text-2xl text-slate-800",children:"Bija Expense Tracker"}),e.jsx(ke,{className:"text-slate-600 mt-1",children:"Track farm finances and manage budgets"})]})]}),e.jsx(lt,{className:"h-6 w-6 text-slate-400 group-hover:text-slate-600 transition-colors"})]})}),e.jsxs(W,{className:"space-y-6",children:[m?e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-blue-200 rounded mb-2 w-24"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-8 bg-blue-200 rounded"}),e.jsx("div",{className:"h-8 bg-blue-200 rounded"})]})]})}):e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Financial Overview:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-green-700 mb-1",children:[e.jsx(at,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Income"})]}),e.jsx("div",{className:"text-lg font-bold text-green-800",children:T(f.totalIncome)})]}),e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-700 mb-1",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Expenses"})]}),e.jsx("div",{className:"text-lg font-bold text-red-800",children:T(f.totalExpenses)})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Balance:"})]}),e.jsx("div",{className:`text-sm font-bold ${f.balance>=0?"text-green-700":"text-red-700"}`,children:T(f.balance)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(di,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Transactions:"})]}),e.jsx("div",{className:"text-sm font-bold text-blue-700",children:f.transactionCount})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(gt,{to:"/expense-tracker",children:e.jsxs(U,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium py-3",children:["Open Expense Tracker",e.jsx(lt,{className:"ml-2 h-4 w-4"})]})})})]})]}),e.jsxs(H,{className:"group hover:shadow-xl transition-all duration-300 border-2 border-green-200 hover:border-green-300 bg-white/90 backdrop-blur-sm",children:[e.jsx(ee,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-lg",children:e.jsx(ct,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(te,{className:"text-2xl text-slate-800",children:"Bija Work Tracker"}),e.jsx(ke,{className:"text-slate-600 mt-1",children:"Manage goat & sheep health tasks"})]})]}),e.jsx(lt,{className:"h-6 w-6 text-slate-400 group-hover:text-slate-600 transition-colors"})]})}),e.jsxs(W,{className:"space-y-6",children:[x?e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-green-200 rounded mb-3 w-32"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-green-200 rounded"}),e.jsx("div",{className:"h-8 bg-green-200 rounded"}),e.jsx("div",{className:"h-8 bg-green-200 rounded"})]})]})}):e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-3",children:"Next 3 Work Items:"}),r.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(mu,{className:"h-8 w-8 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-green-600",children:"No upcoming tasks"}),e.jsx("p",{className:"text-xs text-green-500",children:"All caught up!"})]}):e.jsx("div",{className:"space-y-3",children:r.map((w,P)=>e.jsx("div",{className:"bg-white/60 p-3 rounded-lg border border-green-100",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(w.priority)}`,children:w.priority}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:b(w.dueDate)})]}),e.jsx("h5",{className:"text-sm font-medium text-green-800 truncate",children:w.title}),e.jsxs("p",{className:"text-xs text-green-600 truncate",children:[w.category," • ",w.taskType]})]})})},w.id))}),e.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 text-center",children:e.jsx("span",{className:"text-xs text-green-600",children:r.length>0?"View all tasks in Work Tracker":"Add new tasks in Work Tracker"})})]}),e.jsx("div",{className:"pt-4",children:e.jsx(gt,{to:"/work-tracker",children:e.jsxs(U,{className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-medium py-3",children:["Open Work Tracker",e.jsx(lt,{className:"ml-2 h-4 w-4"})]})})})]})]}),e.jsxs(H,{className:"group hover:shadow-xl transition-all duration-300 border-2 border-green-200 hover:border-green-300 bg-white/90 backdrop-blur-sm",children:[e.jsx(ee,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg",children:e.jsx(Zr,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(te,{className:"text-2xl text-slate-800",children:"Bija Animal Tracker"}),e.jsx(ke,{className:"text-slate-600 mt-1",children:"Comprehensive livestock management"})]})]}),e.jsx(lt,{className:"h-6 w-6 text-slate-400 group-hover:text-slate-600 transition-colors"})]})}),e.jsxs(W,{className:"space-y-6",children:[g?e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-purple-200 rounded mb-3 w-32"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-16 bg-purple-200 rounded"}),e.jsx("div",{className:"h-16 bg-purple-200 rounded"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsx("div",{className:"h-16 bg-purple-200 rounded"}),e.jsx("div",{className:"h-16 bg-purple-200 rounded"})]})]})}):e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Livestock Overview (Active Animals):"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 mb-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Total Animals"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-800",children:C.totalAnimals})]}),e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 mb-1",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Kids (<3 months)"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-800",children:C.totalKids})]}),e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 mb-1",children:[e.jsx(Zr,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Goats"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-800",children:C.totalGoats})]}),e.jsxs("div",{className:"bg-white/60 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 mb-1",children:[e.jsx(Zr,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Sheep"})]}),e.jsx("div",{className:"text-xl font-bold text-purple-800",children:C.totalSheep})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-200 text-center",children:[e.jsx("span",{className:"text-xs text-purple-600",children:C.totalAnimals>0?`${C.totalAnimals} active animals (excluding sold/dead)`:"No animals found - add your first livestock!"}),C.totalAnimals>0&&l&&!y&&e.jsx("div",{className:"mt-2",children:e.jsx(gt,{to:"/breeding-history",className:"text-xs text-pink-600 hover:text-pink-700 underline font-medium",children:"📋 View Breeding History"})})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(gt,{to:"/animal-tracker",children:e.jsxs(U,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-medium py-3",children:["Open Animal Tracker",e.jsx(lt,{className:"ml-2 h-4 w-4"})]})})})]})]})]})}),e.jsx("footer",{className:"bg-green-800 text-white py-6 sm:py-8 mt-8 sm:mt-16",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center",children:e.jsx("p",{className:"text-green-200 text-sm sm:text-base",children:"© 2024 Bija Farms. Integrated farming solutions for sustainable agriculture."})})})]})}function _r(t,s=10){const[r,a]=i.useState(1),[n,o]=i.useState(s),l=t.length,c=Math.ceil(l/n),m=i.useMemo(()=>{const u=(r-1)*n,f=u+n;return t.slice(u,f)},[t,r,n]),p=r<c,x=r>1;return{data:m,pagination:{page:r,pageSize:n,total:l},hasNextPage:p,hasPreviousPage:x,totalPages:c,goToPage:u=>{u>=1&&u<=c&&a(u)},goToNextPage:()=>{p&&a(r+1)},goToPreviousPage:()=>{x&&a(r-1)},changePageSize:u=>{o(u),a(1)}}}function Lr({currentPage:t,totalPages:s,totalItems:r,pageSize:a,onPageChange:n,onPageSizeChange:o,pageSizeOptions:l=[5,10,20,50]}){const c=(t-1)*a+1,m=Math.min(t*a,r),x=(()=>{const g=[],h=[];for(let y=Math.max(2,t-2);y<=Math.min(s-1,t+2);y++)g.push(y);return t-2>2?h.push(1,"..."):h.push(1),h.push(...g),t+2<s-1?h.push("...",s):s>1&&h.push(s),h})();return s<=1?e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",c," to ",m," of ",r," items"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rows per page"}),e.jsxs(he,{value:a.toString(),onValueChange:d=>o(Number(d)),children:[e.jsx(de,{className:"h-8 w-[70px]",children:e.jsx(me,{})}),e.jsx(ue,{side:"top",children:l.map(d=>e.jsx(R,{value:d.toString(),children:d},d))})]})]})]}):e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",c," to ",m," of ",r," items"]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rows per page"}),e.jsxs(he,{value:a.toString(),onValueChange:d=>o(Number(d)),children:[e.jsx(de,{className:"h-8 w-[70px]",children:e.jsx(me,{})}),e.jsx(ue,{side:"top",children:l.map(d=>e.jsx(R,{value:d.toString(),children:d},d))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(t-1),disabled:t<=1,children:[e.jsx(oi,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:x.map((d,g)=>e.jsx("div",{children:d==="..."?e.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(U,{variant:t===d?"default":"outline",size:"sm",onClick:()=>n(d),children:d})},g))}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(t+1),disabled:t>=s,children:["Next",e.jsx(lt,{className:"h-4 w-4"})]})]})]})]})}const or={vaccination:"bg-blue-100 text-blue-800 border-blue-200",checkup:"bg-green-100 text-green-800 border-green-200",treatment:"bg-red-100 text-red-800 border-red-200",feeding:"bg-yellow-100 text-yellow-800 border-yellow-200",cleaning:"bg-purple-100 text-purple-800 border-purple-200",planting:"bg-emerald-100 text-emerald-800 border-emerald-200",watering:"bg-cyan-100 text-cyan-800 border-cyan-200",fertilizing:"bg-lime-100 text-lime-800 border-lime-200",harvesting:"bg-orange-100 text-orange-800 border-orange-200","equipment-maintenance":"bg-slate-100 text-slate-800 border-slate-200",repair:"bg-rose-100 text-rose-800 border-rose-200",inspection:"bg-indigo-100 text-indigo-800 border-indigo-200",other:"bg-gray-100 text-gray-800 border-gray-200"},ir={low:"bg-gray-100 text-gray-700",medium:"bg-orange-100 text-orange-700",high:"bg-red-100 text-red-700"};function tg(){const[t,s]=i.useState([]),[r,a]=i.useState([]),[n,o]=i.useState([]),[l,c]=i.useState(""),[m,p]=i.useState("all"),[x,d]=i.useState("all"),[g,h]=i.useState(!1),[y,u]=i.useState(!1),[f,N]=i.useState(null),[C,D]=i.useState(!1),[T,b]=i.useState(""),{toast:j}=Ye(),_=_r(r,10),[w,P]=i.useState({title:"",description:"",category:"general",taskType:"other",priority:"medium",dueDate:"",assignedTo:"",notes:"",selectedAnimals:[]});i.useEffect(()=>{(async()=>{try{u(!0);const[k,M]=await Promise.all([bc(),Rt()]);console.log("Loaded tasks from API:",k.length),console.log("Loaded animals from API:",M.length),s(k),a(k),o(M)}catch(k){console.error("Error loading data:",k),j({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"})}finally{u(!1)}})()},[j]),i.useEffect(()=>{let S=t;l&&(S=S.filter(k=>k.title.toLowerCase().includes(l.toLowerCase())||k.description.toLowerCase().includes(l.toLowerCase())||k.assignedTo.toLowerCase().includes(l.toLowerCase()))),m!=="all"&&(S=S.filter(k=>k.status===m)),x!=="all"&&(S=S.filter(k=>k.category===x)),a(S)},[t,l,m,x]);const K=S=>["vaccination","checkup","treatment"].includes(S),X=async()=>{if(!w.title||!w.dueDate||!w.assignedTo){j({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(K(w.taskType)&&w.selectedAnimals.length===0){j({title:"Error",description:"Please select at least one animal for health-related tasks",variant:"destructive"});return}const k=[await Ux({...w,status:"pending"}),...t];s(k),j({title:"Success",description:"Task added successfully"}),P({title:"",description:"",category:"general",taskType:"other",priority:"medium",dueDate:"",assignedTo:"",notes:"",selectedAnimals:[]}),b(""),h(!1)},E=async(S,k)=>{try{const M=t.find(v=>v.id===S),V={status:k};k==="completed"&&(V.completedAt=new Date().toISOString().split("T")[0]);const oe=await Yn(S,V);if(k==="completed"&&M&&K(M.taskType)&&M.selectedAnimals&&M.selectedAnimals.length>0)try{const v=M.selectedAnimals.map(O=>wc({animalId:O,recordType:M.taskType==="vaccination"?"vaccination":M.taskType==="checkup"?"checkup":"treatment",date:new Date().toISOString().split("T")[0],description:`${M.title} - ${M.description||"Completed via task management"}`,notes:M.notes?`Task Notes: ${M.notes}`:void 0}));await Promise.all(v),j({title:"Success",description:`Task completed and health records created for ${M.selectedAnimals.length} animal(s)`})}catch(v){console.error("Error creating health records:",v),j({title:"Warning",description:"Task completed but failed to create health records",variant:"destructive"})}else j({title:"Success",description:`Task marked as ${k}`});const ae=t.map(v=>v.id===S?oe:v);s(ae)}catch(M){console.error("Error updating task status:",M),j({title:"Error",description:"Failed to update task status",variant:"destructive"})}},F=S=>{N(S),D(!0)},A=async S=>{try{const k=await Yn(S.id,S),M=t.map(V=>V.id===S.id?k:V);s(M),D(!1),N(null),j({title:"Success",description:"Task updated successfully"})}catch(k){console.error("Error updating task:",k),j({title:"Error",description:"Failed to update task",variant:"destructive"})}},q=async S=>{if(confirm("Are you sure you want to delete this task?"))try{await Hx(S);const k=t.filter(M=>M.id!==S);s(k),j({title:"Success",description:"Task deleted successfully"})}catch(k){console.error("Error deleting task:",k),j({title:"Error",description:"Failed to delete task",variant:"destructive"})}},Z=S=>{switch(S){case"vaccination":return e.jsx(Su,{className:"h-4 w-4"});case"checkup":return e.jsx(ws,{className:"h-4 w-4"});case"treatment":return e.jsx(ct,{className:"h-4 w-4"});case"feeding":return e.jsx(lu,{className:"h-4 w-4"});case"cleaning":return e.jsx(bu,{className:"h-4 w-4"});case"planting":return e.jsx(Tn,{className:"h-4 w-4"});case"watering":return e.jsx(pu,{className:"h-4 w-4"});case"fertilizing":return e.jsx(Tn,{className:"h-4 w-4"});case"harvesting":return e.jsx(yu,{className:"h-4 w-4"});case"equipment-maintenance":return e.jsx(En,{className:"h-4 w-4"});case"repair":return e.jsx(En,{className:"h-4 w-4"});case"inspection":return e.jsx(qt,{className:"h-4 w-4"});default:return e.jsx($t,{className:"h-4 w-4"})}},L=S=>{switch(S){case"completed":return e.jsx(cs,{className:"h-4 w-4 text-green-600"});case"in-progress":return e.jsx($t,{className:"h-4 w-4 text-orange-600"});default:return e.jsx(ia,{className:"h-4 w-4 text-gray-600"})}},z=r.filter(S=>S.status==="pending"),I=r.filter(S=>S.status==="in-progress"),ne=r.filter(S=>S.status==="completed");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-green-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx(gt,{to:"/",children:e.jsxs(U,{variant:"ghost",size:"sm",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Back to Main"]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F483f6e241d954aec88a0b40782122459%2F5254047a2582477b8e206724ecfff5b8?format=webp&width=800",alt:"Bija Farms Logo",className:"h-10 sm:h-12 w-auto"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-green-800",children:"Bija Work Tracker"}),e.jsx("p",{className:"text-sm sm:text-base text-green-600",children:"Complete Farm Task Management"})]})]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-8",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),"Pending Tasks"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:z.length})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-orange-800 flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),"In Progress"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-900",children:I.length})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-green-800 flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"}),"Completed"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-green-900",children:ne.length})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-purple-800 flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4"}),"Total Tasks"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:t.length})})]})]}),e.jsx(H,{className:"mb-6 sm:mb-8",children:e.jsx(W,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search tasks...",value:l,onChange:S=>c(S.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(he,{value:m,onValueChange:p,children:[e.jsx(de,{className:"w-full sm:w-40",children:e.jsx(me,{placeholder:"Status"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Status"}),e.jsx(R,{value:"pending",children:"Pending"}),e.jsx(R,{value:"in-progress",children:"In Progress"}),e.jsx(R,{value:"completed",children:"Completed"})]})]}),e.jsxs(he,{value:x,onValueChange:d,children:[e.jsx(de,{className:"w-full sm:w-40",children:e.jsx(me,{placeholder:"Category"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Categories"}),e.jsx(R,{value:"animal-health",children:"Animal Health"}),e.jsx(R,{value:"crop-management",children:"Crop Management"}),e.jsx(R,{value:"equipment",children:"Equipment"}),e.jsx(R,{value:"irrigation",children:"Irrigation"}),e.jsx(R,{value:"harvesting",children:"Harvesting"}),e.jsx(R,{value:"maintenance",children:"Maintenance"}),e.jsx(R,{value:"general",children:"General"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(Ie,{open:g,onOpenChange:h,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add Task"]})}),e.jsxs(Te,{className:"w-[95vw] max-w-md mx-2 sm:mx-4 task-dialog-content",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Add New Task"}),e.jsx(Oe,{children:"Create a new farm task for any agricultural activity"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"title",children:"Title *"}),e.jsx(Q,{id:"title",value:w.title,onChange:S=>P({...w,title:S.target.value}),placeholder:"Task title"})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"description",children:"Description"}),e.jsx(we,{id:"description",value:w.description,onChange:S=>P({...w,description:S.target.value}),placeholder:"Task description"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"category",children:"Category"}),e.jsxs(he,{value:w.category,onValueChange:S=>P({...w,category:S}),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"animal-health",children:"Animal Health"}),e.jsx(R,{value:"crop-management",children:"Crop Management"}),e.jsx(R,{value:"equipment",children:"Equipment"}),e.jsx(R,{value:"irrigation",children:"Irrigation"}),e.jsx(R,{value:"harvesting",children:"Harvesting"}),e.jsx(R,{value:"maintenance",children:"Maintenance"}),e.jsx(R,{value:"general",children:"General"})]})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"taskType",children:"Task Type"}),e.jsxs(he,{value:w.taskType,onValueChange:S=>P({...w,taskType:S}),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"vaccination",children:"Vaccination"}),e.jsx(R,{value:"checkup",children:"Health Checkup"}),e.jsx(R,{value:"treatment",children:"Treatment"}),e.jsx(R,{value:"feeding",children:"Feeding"}),e.jsx(R,{value:"cleaning",children:"Cleaning"}),e.jsx(R,{value:"planting",children:"Planting"}),e.jsx(R,{value:"watering",children:"Watering"}),e.jsx(R,{value:"fertilizing",children:"Fertilizing"}),e.jsx(R,{value:"harvesting",children:"Harvesting"}),e.jsx(R,{value:"equipment-maintenance",children:"Equipment Maintenance"}),e.jsx(R,{value:"repair",children:"Repair"}),e.jsx(R,{value:"inspection",children:"Inspection"}),e.jsx(R,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"priority",children:"Priority"}),e.jsxs(he,{value:w.priority,onValueChange:S=>P({...w,priority:S}),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"low",children:"Low"}),e.jsx(R,{value:"medium",children:"Medium"}),e.jsx(R,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"dueDate",children:"Due Date *"}),e.jsx(Q,{id:"dueDate",type:"date",value:w.dueDate,onChange:S=>P({...w,dueDate:S.target.value})})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"assignedTo",children:"Assigned To *"}),e.jsx(Q,{id:"assignedTo",value:w.assignedTo,onChange:S=>P({...w,assignedTo:S.target.value}),placeholder:"Person responsible"})]}),K(w.taskType)&&e.jsxs("div",{children:[e.jsx($,{htmlFor:"selectedAnimals",children:"Select Animals *"}),e.jsxs("div",{className:"mt-2 relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search animals...",value:T,onChange:S=>b(S.target.value),className:"pl-10"})]}),e.jsx("div",{className:"mt-2 border rounded-md p-3 max-h-48 overflow-y-auto task-animal-list",children:n.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No animals available"}):(()=>{const S=n.filter(k=>k.status==="active"&&(k.name.toLowerCase().includes(T.toLowerCase())||k.breed.toLowerCase().includes(T.toLowerCase())||k.type.toLowerCase().includes(T.toLowerCase())));return S.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Xt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-500 text-sm",children:T?"No animals match your search":"No active animals available"})]}):e.jsx("div",{className:"space-y-2",children:S.map(k=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w.selectedAnimals.includes(k.id),onChange:M=>{M.target.checked?P({...w,selectedAnimals:[...w.selectedAnimals,k.id]}):P({...w,selectedAnimals:w.selectedAnimals.filter(V=>V!==k.id)})},className:"rounded"}),e.jsxs("span",{className:"text-sm",children:[k.name," (",k.breed,")"]})]},k.id))})})()}),w.selectedAnimals.length>0&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[w.selectedAnimals.length," animal(s) selected"]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"notes",children:"Notes"}),e.jsx(we,{id:"notes",value:w.notes,onChange:S=>P({...w,notes:S.target.value}),placeholder:"Additional notes"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[e.jsx(U,{onClick:X,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Add Task"}),e.jsx(U,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"})]})]})]})]}),e.jsx(Ja,{data:r,config:zx(),disabled:r.length===0})]})]})})}),e.jsxs(Pr,{defaultValue:"all",className:"space-y-4",children:[e.jsxs(Ws,{className:"grid w-full grid-cols-4 max-w-lg mx-auto",children:[e.jsx(Ge,{value:"all",children:"All Tasks"}),e.jsx(Ge,{value:"pending",children:"Pending"}),e.jsx(Ge,{value:"in-progress",children:"In Progress"}),e.jsx(Ge,{value:"completed",children:"Completed"})]}),e.jsx(We,{value:"all",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid gap-4",children:r.length===0?e.jsx(H,{children:e.jsxs(W,{className:"p-8 text-center",children:[e.jsx(ct,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No tasks found. Add your first farm task!"})]})}):_.data.map(S=>e.jsx(H,{className:"hover:shadow-md transition-shadow",children:e.jsx(W,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg truncate",children:S.title}),L(S.status)]}),S.description&&e.jsx("p",{className:"text-gray-600 mb-3 text-sm sm:text-base",children:S.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(xe,{className:or[S.taskType],variant:"outline",children:[Z(S.taskType),e.jsx("span",{className:"ml-1 capitalize",children:S.taskType})]}),e.jsx(xe,{className:ir[S.priority],variant:"outline",children:e.jsxs("span",{className:"capitalize",children:[S.priority," Priority"]})}),e.jsxs(xe,{variant:"outline",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),S.category.replace("-"," ")]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Due:"," ",new Date(S.dueDate).toLocaleDateString()]}),e.jsxs("div",{children:["Assigned to: ",S.assignedTo]}),S.notes&&e.jsxs("div",{children:["Notes: ",S.notes]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:ml-4",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(U,{size:"sm",variant:"outline",onClick:()=>F(S),className:"text-blue-600 hover:text-blue-700",children:e.jsx(Zt,{className:"h-4 w-4"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>q(S.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Qt,{className:"h-4 w-4"})})]}),S.status==="pending"&&e.jsx(U,{size:"sm",variant:"outline",onClick:()=>E(S.id,"in-progress"),children:"Start"}),S.status==="in-progress"&&e.jsx(U,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>E(S.id,"completed"),children:"Complete"}),S.status==="completed"&&S.completedAt&&e.jsxs("div",{className:"text-xs text-green-600",children:["Completed:"," ",new Date(S.completedAt).toLocaleDateString()]})]})]})})},S.id))}),r.length>0&&e.jsx(Lr,{currentPage:_.pagination.page,totalPages:_.totalPages,totalItems:_.pagination.total,pageSize:_.pagination.pageSize,onPageChange:_.goToPage,onPageSizeChange:_.changePageSize})]})}),e.jsx(We,{value:"pending",children:e.jsx("div",{className:"grid gap-4",children:z.map(S=>e.jsx(H,{className:"hover:shadow-md transition-shadow border-l-4 border-l-orange-400",children:e.jsx(W,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:S.title}),e.jsx(ia,{className:"h-4 w-4 text-orange-600"})]}),S.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:S.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(xe,{className:or[S.taskType],variant:"outline",children:[Z(S.taskType),e.jsx("span",{className:"ml-1 capitalize",children:S.taskType})]}),e.jsx(xe,{className:ir[S.priority],variant:"outline",children:e.jsxs("span",{className:"capitalize",children:[S.priority," Priority"]})}),e.jsxs(xe,{variant:"outline",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),S.category.replace("-"," ")]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]}),e.jsxs("div",{children:["Assigned to: ",S.assignedTo]}),S.notes&&e.jsxs("div",{children:["Notes: ",S.notes]})]})]}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>E(S.id,"in-progress"),children:"Start Task"})]})})},S.id))})}),e.jsx(We,{value:"in-progress",children:e.jsx("div",{className:"grid gap-4",children:I.map(S=>e.jsx(H,{className:"hover:shadow-md transition-shadow border-l-4 border-l-blue-400",children:e.jsx(W,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:S.title}),e.jsx($t,{className:"h-4 w-4 text-blue-600"})]}),S.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:S.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(xe,{className:or[S.taskType],variant:"outline",children:[Z(S.taskType),e.jsx("span",{className:"ml-1 capitalize",children:S.taskType})]}),e.jsx(xe,{className:ir[S.priority],variant:"outline",children:e.jsxs("span",{className:"capitalize",children:[S.priority," Priority"]})}),e.jsxs(xe,{variant:"outline",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),S.category.replace("-"," ")]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]}),e.jsxs("div",{children:["Assigned to: ",S.assignedTo]}),S.notes&&e.jsxs("div",{children:["Notes: ",S.notes]})]})]}),e.jsx(U,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>E(S.id,"completed"),children:"Complete"})]})})},S.id))})}),e.jsx(We,{value:"completed",children:e.jsx("div",{className:"grid gap-4",children:ne.map(S=>e.jsx(H,{className:"hover:shadow-md transition-shadow border-l-4 border-l-green-400",children:e.jsx(W,{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:S.title}),e.jsx(cs,{className:"h-4 w-4 text-green-600"})]}),S.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:S.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(xe,{className:or[S.taskType],variant:"outline",children:[Z(S.taskType),e.jsx("span",{className:"ml-1 capitalize",children:S.taskType})]}),e.jsx(xe,{className:ir[S.priority],variant:"outline",children:e.jsxs("span",{className:"capitalize",children:[S.priority," Priority"]})}),e.jsxs(xe,{variant:"outline",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),S.category.replace("-"," ")]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]}),e.jsxs("div",{children:["Assigned to: ",S.assignedTo]}),S.completedAt&&e.jsxs("div",{className:"text-green-600 font-medium",children:["Completed:"," ",new Date(S.completedAt).toLocaleDateString()]}),S.notes&&e.jsxs("div",{children:["Notes: ",S.notes]})]})]})})})},S.id))})})]}),e.jsx(Ie,{open:C,onOpenChange:D,children:e.jsxs(Te,{className:"w-[95vw] max-w-md mx-2 sm:mx-4 task-dialog-content",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Edit Task"}),e.jsx(Oe,{children:"Update the task details below."})]}),f&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-title",children:"Title *"}),e.jsx(Q,{id:"edit-title",value:f.title,onChange:S=>N({...f,title:S.target.value}),placeholder:"Task title"})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-description",children:"Description"}),e.jsx(we,{id:"edit-description",value:f.description,onChange:S=>N({...f,description:S.target.value}),placeholder:"Task description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-priority",children:"Priority"}),e.jsxs(he,{value:f.priority,onValueChange:S=>N({...f,priority:S}),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"low",children:"Low"}),e.jsx(R,{value:"medium",children:"Medium"}),e.jsx(R,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-dueDate",children:"Due Date *"}),e.jsx(Q,{id:"edit-dueDate",type:"date",value:f.dueDate,onChange:S=>N({...f,dueDate:S.target.value})})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-assignedTo",children:"Assigned To *"}),e.jsx(Q,{id:"edit-assignedTo",value:f.assignedTo,onChange:S=>N({...f,assignedTo:S.target.value}),placeholder:"Person responsible"})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"edit-notes",children:"Notes"}),e.jsx(we,{id:"edit-notes",value:f.notes,onChange:S=>N({...f,notes:S.target.value}),placeholder:"Additional notes"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(U,{onClick:()=>A(f),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Update Task"]}),e.jsxs(U,{variant:"outline",onClick:()=>{D(!1),N(null)},className:"flex-1",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})})]})]})}const Nc=i.forwardRef(({className:t,...s},r)=>e.jsx("span",{ref:r,className:Y("absolute h-px w-px p-0 -m-px overflow-hidden clip-[rect(0,0,0,0)] whitespace-nowrap border-0",t),...s}));Nc.displayName="VisuallyHidden";var Br="Collapsible",[sg,tf]=dt(Br),[rg,tn]=sg(Br),Cc=i.forwardRef((t,s)=>{const{__scopeCollapsible:r,open:a,defaultOpen:n,disabled:o,onOpenChange:l,...c}=t,[m,p]=Hs({prop:a,defaultProp:n??!1,onChange:l,caller:Br});return e.jsx(rg,{scope:r,disabled:o,contentId:ra(),open:m,onOpenToggle:i.useCallback(()=>p(x=>!x),[p]),children:e.jsx(ge.div,{"data-state":nn(m),"data-disabled":o?"":void 0,...c,ref:s})})});Cc.displayName=Br;var Sc="CollapsibleTrigger",sn=i.forwardRef((t,s)=>{const{__scopeCollapsible:r,...a}=t,n=tn(Sc,r);return e.jsx(ge.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":nn(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:s,onClick:se(t.onClick,n.onOpenToggle)})});sn.displayName=Sc;var rn="CollapsibleContent",an=i.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=tn(rn,t.__scopeCollapsible);return e.jsx(Ve,{present:r||n.open,children:({present:o})=>e.jsx(ag,{...a,ref:s,present:o})})});an.displayName=rn;var ag=i.forwardRef((t,s)=>{const{__scopeCollapsible:r,present:a,children:n,...o}=t,l=tn(rn,r),[c,m]=i.useState(a),p=i.useRef(null),x=je(s,p),d=i.useRef(0),g=d.current,h=i.useRef(0),y=h.current,u=l.open||c,f=i.useRef(u),N=i.useRef(void 0);return i.useEffect(()=>{const C=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(C)},[]),ga(()=>{const C=p.current;if(C){N.current=N.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const D=C.getBoundingClientRect();d.current=D.height,h.current=D.width,f.current||(C.style.transitionDuration=N.current.transitionDuration,C.style.animationName=N.current.animationName),m(a)}},[l.open,a]),e.jsx(ge.div,{"data-state":nn(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!u,...o,ref:x,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:u&&n})});function nn(t){return t?"open":"closed"}var kc=Cc,ng=sn,og=an,$r="Checkbox",[ig,sf]=dt($r),[lg,on]=ig($r);function cg(t){const{__scopeCheckbox:s,checked:r,children:a,defaultChecked:n,disabled:o,form:l,name:c,onCheckedChange:m,required:p,value:x="on",internal_do_not_use_render:d}=t,[g,h]=Hs({prop:r,defaultProp:n??!1,onChange:m,caller:$r}),[y,u]=i.useState(null),[f,N]=i.useState(null),C=i.useRef(!1),D=y?!!l||!!y.closest("form"):!0,T={checked:g,disabled:o,setChecked:h,control:y,setControl:u,name:c,form:l,value:x,hasConsumerStoppedPropagationRef:C,required:p,defaultChecked:Mt(n)?!1:n,isFormControl:D,bubbleInput:f,setBubbleInput:N};return e.jsx(lg,{scope:s,...T,children:dg(d)?d(T):a})}var Dc="CheckboxTrigger",Tc=i.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...a},n)=>{const{control:o,value:l,disabled:c,checked:m,required:p,setControl:x,setChecked:d,hasConsumerStoppedPropagationRef:g,isFormControl:h,bubbleInput:y}=on(Dc,t),u=je(n,x),f=i.useRef(m);return i.useEffect(()=>{const N=o==null?void 0:o.form;if(N){const C=()=>d(f.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[o,d]),e.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Mt(m)?"mixed":m,"aria-required":p,"data-state":Mc(m),"data-disabled":c?"":void 0,disabled:c,value:l,...a,ref:u,onKeyDown:se(s,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:se(r,N=>{d(C=>Mt(C)?!0:!C),y&&h&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});Tc.displayName=Dc;var ln=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:o,required:l,disabled:c,value:m,onCheckedChange:p,form:x,...d}=t;return e.jsx(cg,{__scopeCheckbox:r,checked:n,defaultChecked:o,disabled:c,required:l,onCheckedChange:p,name:a,form:x,value:m,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(Tc,{...d,ref:s,__scopeCheckbox:r}),g&&e.jsx(Rc,{__scopeCheckbox:r})]})})});ln.displayName=$r;var Ec="CheckboxIndicator",Pc=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:a,...n}=t,o=on(Ec,r);return e.jsx(Ve,{present:a||Mt(o.checked)||o.checked===!0,children:e.jsx(ge.span,{"data-state":Mc(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});Pc.displayName=Ec;var Ac="CheckboxBubbleInput",Rc=i.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:l,required:c,disabled:m,name:p,value:x,form:d,bubbleInput:g,setBubbleInput:h}=on(Ac,t),y=je(r,h),u=Io(o),f=Fo(a);i.useEffect(()=>{const C=g;if(!C)return;const D=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(D,"checked").set,j=!n.current;if(u!==o&&b){const _=new Event("click",{bubbles:j});C.indeterminate=Mt(o),b.call(C,Mt(o)?!1:o),C.dispatchEvent(_)}},[g,u,o,n]);const N=i.useRef(Mt(o)?!1:o);return e.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:c,disabled:m,name:p,value:x,form:d,...s,tabIndex:-1,ref:y,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Rc.displayName=Ac;function dg(t){return typeof t=="function"}function Mt(t){return t==="indeterminate"}function Mc(t){return Mt(t)?"indeterminate":t?"checked":"unchecked"}const cn=i.forwardRef(({className:t,...s},r)=>e.jsx(ln,{ref:r,className:Y("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Pc,{className:Y("flex items-center justify-center text-current"),children:e.jsx(cs,{className:"h-4 w-4"})})}));cn.displayName=ln.displayName;function xa({animal:t,onSubmit:s,onCancel:r,isEditing:a=!1,isOffspring:n=!1,parentMotherId:o,parentFatherId:l}){const[c,m]=i.useState({name:"",type:"goat",breed:"",gender:"female",dateOfBirth:"",status:"active",currentWeight:"",markings:"",purchaseDate:"",purchasePrice:"",purchaseLocation:"",previousOwner:"",saleDate:"",salePrice:"",buyerName:"",saleNotes:"",insured:!1,insuranceProvider:"",insurancePolicyNumber:"",insuranceAmount:"",insuranceExpiryDate:"",notes:"",motherId:"",fatherId:""}),[p,x]=i.useState([]),[d,g]=i.useState(!1);i.useEffect(()=>{var u,f,N,C;t?m({name:t.name||"",type:t.type||"goat",breed:t.breed||"",gender:t.gender||"female",dateOfBirth:t.dateOfBirth||"",status:t.status||"active",currentWeight:((u=t.currentWeight)==null?void 0:u.toString())||"",markings:t.markings||"",purchaseDate:t.purchaseDate||"",purchasePrice:((f=t.purchasePrice)==null?void 0:f.toString())||"",purchaseLocation:t.purchaseLocation||"",previousOwner:t.previousOwner||"",saleDate:t.saleDate||"",salePrice:((N=t.salePrice)==null?void 0:N.toString())||"",buyerName:t.buyerName||"",saleNotes:t.saleNotes||"",insured:t.insured||!1,insuranceProvider:t.insuranceProvider||"",insurancePolicyNumber:t.insurancePolicyNumber||"",insuranceAmount:((C=t.insuranceAmount)==null?void 0:C.toString())||"",insuranceExpiryDate:t.insuranceExpiryDate||"",notes:t.notes||"",motherId:t.motherId||"",fatherId:t.fatherId||""}):n&&m(D=>({...D,motherId:o||"",fatherId:l||"",status:"active"}))},[t,n,o,l]),i.useEffect(()=>{(async()=>{if(n&&!a){g(!0);try{const f=await Rt();x(f.filter(N=>N.status==="active"))}catch(f){console.error("Failed to fetch animals:",f)}finally{g(!1)}}})()},[n,a]);const h=u=>{u.preventDefault();const f={name:c.name,type:c.type,breed:c.breed,gender:c.gender,dateOfBirth:c.dateOfBirth||void 0,photos:(t==null?void 0:t.photos)||[],status:c.status,currentWeight:c.currentWeight?parseFloat(c.currentWeight):void 0,markings:c.markings||void 0,purchaseDate:c.purchaseDate||void 0,purchasePrice:c.purchasePrice?parseFloat(c.purchasePrice):void 0,purchaseLocation:c.purchaseLocation||void 0,previousOwner:c.previousOwner||void 0,saleDate:c.saleDate||void 0,salePrice:c.salePrice?parseFloat(c.salePrice):void 0,buyerName:c.buyerName||void 0,saleNotes:c.saleNotes||void 0,insured:c.insured,insuranceProvider:c.insuranceProvider||void 0,insurancePolicyNumber:c.insurancePolicyNumber||void 0,insuranceAmount:c.insuranceAmount?parseFloat(c.insuranceAmount):void 0,insuranceExpiryDate:c.insuranceExpiryDate||void 0,notes:c.notes||void 0,motherId:c.motherId||void 0,fatherId:c.fatherId||void 0,offspring:(t==null?void 0:t.offspring)||[]};s(a&&t?{...f,id:t.id,createdAt:t.createdAt,updatedAt:new Date().toISOString()}:f)},y=(u,f)=>{m(N=>({...N,[u]:f}))};return e.jsxs("form",{onSubmit:h,className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n?"Offspring Information":"Basic Information"}),n&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"🐑 Creating offspring record"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Parent relationships will be automatically established"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"name",children:"Name *"}),e.jsx(Q,{id:"name",value:c.name,onChange:u=>y("name",u.target.value),required:!0,placeholder:"Enter animal name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"type",children:"Type *"}),e.jsxs(he,{value:c.type,onValueChange:u=>y("type",u),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"goat",children:"Goat"}),e.jsx(R,{value:"sheep",children:"Sheep"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"breed",children:"Breed *"}),e.jsx(Q,{id:"breed",value:c.breed,onChange:u=>y("breed",u.target.value),required:!0,placeholder:"Enter breed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"gender",children:"Gender *"}),e.jsxs(he,{value:c.gender,onValueChange:u=>y("gender",u),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select gender"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"male",children:"Male"}),e.jsx(R,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(Q,{id:"dateOfBirth",type:"date",value:c.dateOfBirth,onChange:u=>y("dateOfBirth",u.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"status",children:"Status"}),e.jsxs(he,{value:c.status,onValueChange:u=>y("status",u),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select status"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"active",children:"Active"}),e.jsx(R,{value:"ready_to_sell",children:"Ready to Sell"}),e.jsx(R,{value:"sold",children:"Sold"}),e.jsx(R,{value:"dead",children:"Dead"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"markings",children:"Markings"}),e.jsx(we,{id:"markings",value:c.markings,onChange:u=>y("markings",u.target.value),placeholder:"Describe physical markings",rows:2})]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Parent Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"motherId",children:"Mother *"}),e.jsxs(he,{value:c.motherId,onValueChange:u=>y("motherId",u),disabled:d,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select mother"})}),e.jsx(ue,{children:p.filter(u=>u.gender==="female").map(u=>e.jsxs(R,{value:u.id,children:[u.name," (",u.breed,")"]},u.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"fatherId",children:"Father"}),e.jsxs(he,{value:c.fatherId,onValueChange:u=>y("fatherId",u),disabled:d,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select father (optional)"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"",children:"No father selected"}),p.filter(u=>u.gender==="male").map(u=>e.jsxs(R,{value:u.id,children:[u.name," (",u.breed,")"]},u.id))]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Physical Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"currentWeight",children:"Current Weight (kg)"}),e.jsx(Q,{id:"currentWeight",type:"number",step:"0.1",value:c.currentWeight,onChange:u=>y("currentWeight",u.target.value),placeholder:"Enter weight in kg"})]})]}),!n&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Purchase Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"purchaseDate",children:"Purchase Date"}),e.jsx(Q,{id:"purchaseDate",type:"date",value:c.purchaseDate,onChange:u=>y("purchaseDate",u.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"purchasePrice",children:"Purchase Price (₹)"}),e.jsx(Q,{id:"purchasePrice",type:"number",step:"0.01",value:c.purchasePrice,onChange:u=>y("purchasePrice",u.target.value),placeholder:"Enter purchase price"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"purchaseLocation",children:"Purchase Location"}),e.jsx(Q,{id:"purchaseLocation",value:c.purchaseLocation,onChange:u=>y("purchaseLocation",u.target.value),placeholder:"Where was it purchased"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"previousOwner",children:"Previous Owner"}),e.jsx(Q,{id:"previousOwner",value:c.previousOwner,onChange:u=>y("previousOwner",u.target.value),placeholder:"Previous owner name"})]})]})]}),c.status==="sold"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sale Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"saleDate",children:"Sale Date"}),e.jsx(Q,{id:"saleDate",type:"date",value:c.saleDate,onChange:u=>y("saleDate",u.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"salePrice",children:"Sale Price (₹)"}),e.jsx(Q,{id:"salePrice",type:"number",step:"0.01",value:c.salePrice,onChange:u=>y("salePrice",u.target.value),placeholder:"Enter sale price"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"buyerName",children:"Buyer Name"}),e.jsx(Q,{id:"buyerName",value:c.buyerName,onChange:u=>y("buyerName",u.target.value),placeholder:"Buyer name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"saleNotes",children:"Sale Notes"}),e.jsx(we,{id:"saleNotes",value:c.saleNotes,onChange:u=>y("saleNotes",u.target.value),placeholder:"Additional sale notes",rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Insurance Information"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cn,{id:"insured",checked:c.insured,onCheckedChange:u=>y("insured",u)}),e.jsx($,{htmlFor:"insured",children:"This animal is insured"})]}),c.insured&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"insuranceProvider",children:"Insurance Provider"}),e.jsx(Q,{id:"insuranceProvider",value:c.insuranceProvider,onChange:u=>y("insuranceProvider",u.target.value),placeholder:"Insurance company name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"insurancePolicyNumber",children:"Policy Number"}),e.jsx(Q,{id:"insurancePolicyNumber",value:c.insurancePolicyNumber,onChange:u=>y("insurancePolicyNumber",u.target.value),placeholder:"Policy number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"insuranceAmount",children:"Insurance Amount (₹)"}),e.jsx(Q,{id:"insuranceAmount",type:"number",step:"0.01",value:c.insuranceAmount,onChange:u=>y("insuranceAmount",u.target.value),placeholder:"Insurance coverage amount"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"insuranceExpiryDate",children:"Expiry Date"}),e.jsx(Q,{id:"insuranceExpiryDate",type:"date",value:c.insuranceExpiryDate,onChange:u=>y("insuranceExpiryDate",u.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Notes"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Notes"}),e.jsx(we,{id:"notes",value:c.notes,onChange:u=>y("notes",u.target.value),placeholder:"Any additional notes about this animal",rows:3})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsx(U,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:a?"Update Animal":n?"Add Offspring":"Add Animal"}),e.jsx(U,{type:"button",variant:"outline",onClick:r,children:"Cancel"})]})]})}var ug="Separator",Qn="horizontal",hg=["horizontal","vertical"],Ic=i.forwardRef((t,s)=>{const{decorative:r,orientation:a=Qn,...n}=t,o=mg(a)?a:Qn,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(ge.div,{"data-orientation":o,...c,...n,ref:s})});Ic.displayName=ug;function mg(t){return hg.includes(t)}var Fc=Ic;const Vs=i.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...a},n)=>e.jsx(Fc,{ref:n,decorative:r,orientation:s,className:Y("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Vs.displayName=Fc.displayName;function pg({animalId:t,animalName:s,currentWeight:r}){var b;const[a,n]=i.useState([]),[o,l]=i.useState(!0),[c,m]=i.useState(!1),[p,x]=i.useState({weight:"",date:new Date().toISOString().split("T")[0],notes:"",recordedBy:"Farm Manager"}),{toast:d}=Ye();i.useEffect(()=>{g()},[t]);const g=async()=>{try{l(!0);const j=await Wx(t);n(j.sort((_,w)=>new Date(w.date).getTime()-new Date(_.date).getTime()))}catch(j){console.error("Error loading weight records:",j),d({title:"Error",description:"Failed to load weight records. Please try again.",variant:"destructive"})}finally{l(!1)}},h=async j=>{if(j.preventDefault(),!p.weight||!p.date){d({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{const _=await qx({animalId:t,weight:parseFloat(p.weight),date:p.date,notes:p.notes||void 0,recordedBy:p.recordedBy||void 0});n(w=>[_,...w]),m(!1),x({weight:"",date:new Date().toISOString().split("T")[0],notes:"",recordedBy:"Farm Manager"}),d({title:"Success",description:"Weight record added successfully."})}catch(_){console.error("Error adding weight record:",_),d({title:"Error",description:"Failed to add weight record. Please try again.",variant:"destructive"})}},y=j=>new Date(j).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),u=()=>{if(a.length<2)return null;const j=a[0],_=a[1],w=j.weight-_.weight,P=w/_.weight*100;return{change:w,percentChange:P,isPositive:w>=0}},f=()=>{if(a.length===0)return null;const j=a.map(K=>K.weight),_=Math.min(...j),w=Math.max(...j),P=j.reduce((K,X)=>K+X,0)/j.length;return{minWeight:_,maxWeight:w,avgWeight:P,totalRecords:a.length}},N=()=>a.length===0?[]:a.slice(0,12).reverse().map((_,w)=>({date:_.date,weight:_.weight,formattedDate:y(_.date),index:w})),C=u(),D=f(),T=N();return o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-green-600 border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading weight records..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5 text-blue-600"}),"Weight Tracking for ",s]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor weight progress and growth patterns"})]}),e.jsxs(Ie,{open:c,onOpenChange:m,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add Weight Record"]})}),e.jsxs(Te,{className:"max-w-md",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Add Weight Record"}),e.jsxs(Oe,{children:["Record a new weight measurement for ",s]})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"weight",children:"Weight (kg) *"}),e.jsx(Q,{id:"weight",type:"number",step:"0.1",value:p.weight,onChange:j=>x(_=>({..._,weight:j.target.value})),placeholder:"Enter weight",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"date",children:"Date *"}),e.jsx(Q,{id:"date",type:"date",value:p.date,onChange:j=>x(_=>({..._,date:j.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"recordedBy",children:"Recorded By"}),e.jsx(Q,{id:"recordedBy",value:p.recordedBy,onChange:j=>x(_=>({..._,recordedBy:j.target.value})),placeholder:"Who recorded this weight?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Notes"}),e.jsx(we,{id:"notes",value:p.notes,onChange:j=>x(_=>({..._,notes:j.target.value})),placeholder:"Optional notes about this measurement",rows:2})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(U,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Add Record"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})]})]}),D&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(H,{children:e.jsxs(W,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Current"})]}),e.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[r||((b=a[0])==null?void 0:b.weight)||"N/A"," kg"]})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cu,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Average"})]}),e.jsxs("div",{className:"text-xl font-bold text-green-900",children:[D.avgWeight.toFixed(1)," kg"]})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Max"})]}),e.jsxs("div",{className:"text-xl font-bold text-purple-900",children:[D.maxWeight," kg"]})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Min"})]}),e.jsxs("div",{className:"text-xl font-bold text-orange-900",children:[D.minWeight," kg"]})]})})]}),C&&e.jsxs(H,{children:[e.jsx(ee,{className:"pb-3",children:e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[C.isPositive?e.jsx(at,{className:"h-5 w-5 text-green-600"}):e.jsx(Os,{className:"h-5 w-5 text-red-600"}),"Recent Weight Trend"]})}),e.jsxs(W,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`text-2xl font-bold ${C.isPositive?"text-green-600":"text-red-600"}`,children:[C.isPositive?"+":"",C.change.toFixed(1)," kg"]}),e.jsxs("div",{className:`text-lg ${C.isPositive?"text-green-600":"text-red-600"}`,children:["(",C.isPositive?"+":"",C.percentChange.toFixed(1),"%)"]}),e.jsx(xe,{variant:C.isPositive?"default":"destructive",children:C.isPositive?"Growing":"Losing Weight"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Compared to previous measurement"})]})]}),T.length>0&&e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{className:"text-lg",children:"Weight History Chart"}),e.jsxs(ke,{children:["Last ",T.length," weight measurements"]})]}),e.jsx(W,{children:e.jsx("div",{className:"h-64 relative",children:e.jsx("div",{className:"absolute inset-0 flex items-end justify-between px-4 pb-8",children:T.map((j,_)=>{const w=Math.max(...T.map(E=>E.weight)),P=Math.min(...T.map(E=>E.weight)),K=w-P||1,X=(j.weight-P)/K*80+10;return e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t-sm w-8 group-hover:w-10 transition-all duration-200",style:{height:`${X}%`},title:`${j.weight} kg on ${j.formattedDate}`}),e.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white px-1 py-0.5 rounded",children:[j.weight," kg"]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2 transform -rotate-45 w-12 text-center",children:j.formattedDate.split(" ").slice(0,2).join(" ")})]},_)})})})})]}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{className:"text-lg",children:"Weight Records History"}),e.jsxs(ke,{children:["Complete list of weight measurements (",a.length," ","records)"]})]}),e.jsx(W,{children:a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No weight records found"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add the first weight measurement to start tracking."})]}):e.jsx("div",{className:"space-y-4",children:a.map(j=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[j.weight," kg"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(At,{className:"h-3 w-3"}),y(j.date)]})]}),j.recordedBy&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(Ms,{className:"h-3 w-3"}),"Recorded by ",j.recordedBy]}),j.notes&&e.jsxs("div",{className:"flex items-start gap-1 text-sm text-gray-700 mt-2",children:[e.jsx(Wt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:j.notes})]})]})})},j.id))})})]})]})}function xg({animal:t,allAnimals:s=[],onEdit:r,onClose:a,onUpdate:n}){var y,u,f;const[o,l]=i.useState(!1),{toast:c}=Ye(),m=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"ready_to_sell":return"bg-yellow-100 text-yellow-800";case"dead":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=N=>{switch(N){case"active":return"Active";case"sold":return"Sold";case"ready_to_sell":return"Ready to Sell";case"dead":return"Dead";default:return N}},x=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(N),d=N=>new Date(N).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),g=N=>{const C=new Date(N),T=new Date().getTime()-C.getTime(),b=Math.floor(T/(1e3*60*60*24));if(b<30)return`${b} days`;if(b<365){const j=Math.floor(b/30);return`${j} month${j>1?"s":""}`}else{const j=Math.floor(b/365),_=Math.floor(b%365/30);return`${j} year${j>1?"s":""}${_>0?` ${_} month${_>1?"s":""}`:""}`}},h=async N=>{try{const C=await en(N),D={...t,offspring:[...t.offspring||[],C.id],updatedAt:new Date().toISOString()};if(await ms(t.id,D),N.fatherId){const T=s.find(b=>b.id===N.fatherId);if(T){const b={...T,offspring:[...T.offspring||[],C.id],updatedAt:new Date().toISOString()};await ms(T.id,b)}}l(!1),c({title:"Success",description:"Offspring added successfully"}),n&&n()}catch(C){console.error("Error adding offspring:",C),c({title:"Error",description:"Failed to add offspring. Please try again.",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsx(xe,{className:m(t.status),children:p(t.status)})]}),e.jsxs("p",{className:"text-gray-600",children:[t.breed," • ",t.type," • ",t.gender]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(U,{onClick:r,size:"sm",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsx(U,{onClick:a,variant:"outline",size:"sm",children:"Close"})]})]}),e.jsx(Vs,{}),e.jsxs(Pr,{defaultValue:"overview",className:"w-full",children:[e.jsxs(Ws,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ge,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(Da,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(Ge,{value:"weight",className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4"}),"Weight Tracking"]})]}),e.jsxs(We,{value:"overview",className:"space-y-6 mt-6",children:[e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{className:"text-lg",children:"Basic Information"})}),e.jsxs(W,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.dateOfBirth&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xr,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth & Age"}),e.jsxs("p",{className:"font-medium",children:[d(t.dateOfBirth)," (",g(t.dateOfBirth),")"]})]})]}),t.currentWeight&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Weight"}),e.jsxs("p",{className:"font-medium",children:[t.currentWeight," kg"]})]})]})]}),t.markings&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Markings"}),e.jsx("p",{className:"font-medium",children:t.markings})]})]})]}),(t.purchaseDate||t.purchasePrice||t.purchaseLocation||t.previousOwner)&&e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{className:"text-lg",children:"Purchase Information"})}),e.jsx(W,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.purchaseDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xr,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Purchase Date"}),e.jsx("p",{className:"font-medium",children:d(t.purchaseDate)})]})]}),t.purchasePrice&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Purchase Price"}),e.jsx("p",{className:"font-medium",children:x(t.purchasePrice)})]})]}),t.purchaseLocation&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gu,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Purchase Location"}),e.jsx("p",{className:"font-medium",children:t.purchaseLocation})]})]}),t.previousOwner&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Previous Owner"}),e.jsx("p",{className:"font-medium",children:t.previousOwner})]})]})]})})]}),t.status==="sold"&&(t.saleDate||t.salePrice||t.buyerName)&&e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{className:"text-lg",children:"Sale Information"})}),e.jsxs(W,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.saleDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xr,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sale Date"}),e.jsx("p",{className:"font-medium",children:d(t.saleDate)})]})]}),t.salePrice&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sale Price"}),e.jsx("p",{className:"font-medium",children:x(t.salePrice)})]})]}),t.buyerName&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Buyer"}),e.jsx("p",{className:"font-medium",children:t.buyerName})]})]})]}),t.saleNotes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sale Notes"}),e.jsx("p",{className:"font-medium",children:t.saleNotes})]}),t.purchasePrice&&t.salePrice&&e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Profit/Loss:"}),e.jsx("span",{className:`font-bold ${t.salePrice-t.purchasePrice>=0?"text-green-600":"text-red-600"}`,children:x(t.salePrice-t.purchasePrice)})]})})]})]}),t.insured&&e.jsxs(H,{children:[e.jsx(ee,{children:e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[e.jsx(wu,{className:"h-5 w-5 text-blue-600"}),"Insurance Information"]})}),e.jsx(W,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.insuranceProvider&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Insurance Provider"}),e.jsx("p",{className:"font-medium",children:t.insuranceProvider})]}),t.insurancePolicyNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Policy Number"}),e.jsx("p",{className:"font-medium",children:t.insurancePolicyNumber})]}),t.insuranceAmount&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Coverage Amount"}),e.jsx("p",{className:"font-medium",children:x(t.insuranceAmount)})]}),t.insuranceExpiryDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Expiry Date"}),e.jsx("p",{className:"font-medium",children:d(t.insuranceExpiryDate)})]})]})})]}),(t.motherId||t.fatherId||t.offspring&&t.offspring.length>0)&&e.jsxs(H,{children:[e.jsx(ee,{children:e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-blue-600"}),"Family Relationships"]})}),e.jsxs(W,{className:"space-y-4",children:[(t.motherId||t.fatherId)&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4 text-red-500"}),"Parents"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.motherId&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-pink-50 rounded",children:[e.jsx(He,{className:"h-4 w-4 text-pink-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Mother"}),e.jsx("p",{className:"font-medium",children:((y=s.find(N=>N.id===t.motherId))==null?void 0:y.name)||"Unknown"})]})]}),t.fatherId&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[e.jsx(Ms,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Father"}),e.jsx("p",{className:"font-medium",children:((u=s.find(N=>N.id===t.fatherId))==null?void 0:u.name)||"Unknown"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),"Offspring (",((f=t.offspring)==null?void 0:f.length)||0,")"]}),(t.gender==="female"||t.gender==="male")&&t.status==="active"&&e.jsxs(U,{size:"sm",variant:"outline",onClick:()=>l(!0),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(vt,{className:"h-4 w-4 mr-1"}),"Add Offspring"]})]}),t.offspring&&t.offspring.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.offspring.map(N=>{const C=s.find(D=>D.id===N);return C?e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[C.gender," • ",C.breed,C.dateOfBirth&&e.jsxs(e.Fragment,{children:[" ","• Born ",d(C.dateOfBirth)]})]})]})]},N):null})}):e.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No offspring recorded yet."})]})]})]}),t.notes&&e.jsxs(H,{children:[e.jsx(ee,{children:e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-gray-600"}),"Additional Notes"]})}),e.jsx(W,{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),e.jsxs(H,{children:[e.jsx(ee,{children:e.jsx(te,{className:"text-lg",children:"Record Information"})}),e.jsx(W,{className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),e.jsx("p",{className:"font-medium",children:d(t.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:d(t.updatedAt)})]})]})})]})]}),e.jsx(We,{value:"weight",className:"mt-6",children:e.jsx(pg,{animalId:t.id,animalName:t.name,currentWeight:t.currentWeight})})]}),e.jsx(Ie,{open:o,onOpenChange:l,children:e.jsxs(Te,{className:"max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fe,{children:[e.jsxs(Ee,{children:["Add Offspring for ",t.name]}),e.jsxs(Oe,{children:["Create a new animal record as offspring of ",t.name,". Parent relationships will be automatically established."]})]}),e.jsx(xa,{onSubmit:h,onCancel:()=>l(!1),isOffspring:!0,parentMotherId:t.gender==="female"?t.id:void 0,parentFatherId:t.gender==="male"?t.id:void 0})]})})]})}function gg(t,s){return i.useReducer((r,a)=>s[r][a]??r,t)}var dn="ScrollArea",[Oc,rf]=dt(dn),[fg,Qe]=Oc(dn),_c=i.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:a="hover",dir:n,scrollHideDelay:o=600,...l}=t,[c,m]=i.useState(null),[p,x]=i.useState(null),[d,g]=i.useState(null),[h,y]=i.useState(null),[u,f]=i.useState(null),[N,C]=i.useState(0),[D,T]=i.useState(0),[b,j]=i.useState(!1),[_,w]=i.useState(!1),P=je(s,X=>m(X)),K=wa(n);return e.jsx(fg,{scope:r,type:a,dir:K,scrollHideDelay:o,scrollArea:c,viewport:p,onViewportChange:x,content:d,onContentChange:g,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:b,onScrollbarXEnabledChange:j,scrollbarY:u,onScrollbarYChange:f,scrollbarYEnabled:_,onScrollbarYEnabledChange:w,onCornerWidthChange:C,onCornerHeightChange:T,children:e.jsx(ge.div,{dir:K,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":D+"px",...t.style}})})});_c.displayName=dn;var Lc="ScrollAreaViewport",Bc=i.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:a,nonce:n,...o}=t,l=Qe(Lc,r),c=i.useRef(null),m=je(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...o,ref:m,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Bc.displayName=Lc;var ut="ScrollAreaScrollbar",un=i.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=Qe(ut,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=n,c=t.orientation==="horizontal";return i.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),n.type==="hover"?e.jsx(vg,{...a,ref:s,forceMount:r}):n.type==="scroll"?e.jsx(yg,{...a,ref:s,forceMount:r}):n.type==="auto"?e.jsx($c,{...a,ref:s,forceMount:r}):n.type==="always"?e.jsx(hn,{...a,ref:s}):null});un.displayName=ut;var vg=i.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=Qe(ut,t.__scopeScrollArea),[o,l]=i.useState(!1);return i.useEffect(()=>{const c=n.scrollArea;let m=0;if(c){const p=()=>{window.clearTimeout(m),l(!0)},x=()=>{m=window.setTimeout(()=>l(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",p),c.addEventListener("pointerleave",x),()=>{window.clearTimeout(m),c.removeEventListener("pointerenter",p),c.removeEventListener("pointerleave",x)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(Ve,{present:r||o,children:e.jsx($c,{"data-state":o?"visible":"hidden",...a,ref:s})})}),yg=i.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=Qe(ut,t.__scopeScrollArea),o=t.orientation==="horizontal",l=Vr(()=>m("SCROLL_END"),100),[c,m]=gg("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(c==="idle"){const p=window.setTimeout(()=>m("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(p)}},[c,n.scrollHideDelay,m]),i.useEffect(()=>{const p=n.viewport,x=o?"scrollLeft":"scrollTop";if(p){let d=p[x];const g=()=>{const h=p[x];d!==h&&(m("SCROLL"),l()),d=h};return p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[n.viewport,o,m,l]),e.jsx(Ve,{present:r||c!=="hidden",children:e.jsx(hn,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:se(t.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),$c=i.forwardRef((t,s)=>{const r=Qe(ut,t.__scopeScrollArea),{forceMount:a,...n}=t,[o,l]=i.useState(!1),c=t.orientation==="horizontal",m=Vr(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,x=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?p:x)}},10);return Ss(r.viewport,m),Ss(r.content,m),e.jsx(Ve,{present:a||o,children:e.jsx(hn,{"data-state":o?"visible":"hidden",...n,ref:s})})}),hn=i.forwardRef((t,s)=>{const{orientation:r="vertical",...a}=t,n=Qe(ut,t.__scopeScrollArea),o=i.useRef(null),l=i.useRef(0),[c,m]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Hc(c.viewport,c.content),x={...a,sizes:c,onSizesChange:m,hasThumb:p>0&&p<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function d(g,h){return Sg(g,l.current,c,h)}return r==="horizontal"?e.jsx(jg,{...x,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const g=n.viewport.scrollLeft,h=Xn(g,c,n.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=d(g,n.dir))}}):r==="vertical"?e.jsx(bg,{...x,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){const g=n.viewport.scrollTop,h=Xn(g,c);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=d(g))}}):null}),jg=i.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...n}=t,o=Qe(ut,t.__scopeScrollArea),[l,c]=i.useState(),m=i.useRef(null),p=je(s,m,o.onScrollbarXChange);return i.useEffect(()=>{m.current&&c(getComputedStyle(m.current))},[m]),e.jsx(Vc,{"data-orientation":"horizontal",...n,ref:p,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zr(r)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,d)=>{if(o.viewport){const g=o.viewport.scrollLeft+x.deltaX;t.onWheelScroll(g),Wc(g,d)&&x.preventDefault()}},onResize:()=>{m.current&&o.viewport&&l&&a({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:vr(l.paddingLeft),paddingEnd:vr(l.paddingRight)}})}})}),bg=i.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...n}=t,o=Qe(ut,t.__scopeScrollArea),[l,c]=i.useState(),m=i.useRef(null),p=je(s,m,o.onScrollbarYChange);return i.useEffect(()=>{m.current&&c(getComputedStyle(m.current))},[m]),e.jsx(Vc,{"data-orientation":"vertical",...n,ref:p,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zr(r)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,d)=>{if(o.viewport){const g=o.viewport.scrollTop+x.deltaY;t.onWheelScroll(g),Wc(g,d)&&x.preventDefault()}},onResize:()=>{m.current&&o.viewport&&l&&a({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:vr(l.paddingTop),paddingEnd:vr(l.paddingBottom)}})}})}),[wg,zc]=Oc(ut),Vc=i.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:n,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:m,onDragScroll:p,onWheelScroll:x,onResize:d,...g}=t,h=Qe(ut,r),[y,u]=i.useState(null),f=je(s,P=>u(P)),N=i.useRef(null),C=i.useRef(""),D=h.viewport,T=a.content-a.viewport,b=ze(x),j=ze(m),_=Vr(d,10);function w(P){if(N.current){const K=P.clientX-N.current.left,X=P.clientY-N.current.top;p({x:K,y:X})}}return i.useEffect(()=>{const P=K=>{const X=K.target;(y==null?void 0:y.contains(X))&&b(K,T)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[D,y,T,b]),i.useEffect(j,[a,j]),Ss(y,_),Ss(h.content,_),e.jsx(wg,{scope:r,scrollbar:y,hasThumb:n,onThumbChange:ze(o),onThumbPointerUp:ze(l),onThumbPositionChange:j,onThumbPointerDown:ze(c),children:e.jsx(ge.div,{...g,ref:f,style:{position:"absolute",...g.style},onPointerDown:se(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),N.current=y.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),w(P))}),onPointerMove:se(t.onPointerMove,w),onPointerUp:se(t.onPointerUp,P=>{const K=P.target;K.hasPointerCapture(P.pointerId)&&K.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=C.current,h.viewport&&(h.viewport.style.scrollBehavior=""),N.current=null})})})}),fr="ScrollAreaThumb",Kc=i.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=zc(fr,t.__scopeScrollArea);return e.jsx(Ve,{present:r||n.hasThumb,children:e.jsx(Ng,{ref:s,...a})})}),Ng=i.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:a,...n}=t,o=Qe(fr,r),l=zc(fr,r),{onThumbPositionChange:c}=l,m=je(s,d=>l.onThumbChange(d)),p=i.useRef(void 0),x=Vr(()=>{p.current&&(p.current(),p.current=void 0)},100);return i.useEffect(()=>{const d=o.viewport;if(d){const g=()=>{if(x(),!p.current){const h=kg(d,c);p.current=h,c()}};return c(),d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[o.viewport,x,c]),e.jsx(ge.div,{"data-state":l.hasThumb?"visible":"hidden",...n,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:se(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),y=d.clientX-h.left,u=d.clientY-h.top;l.onThumbPointerDown({x:y,y:u})}),onPointerUp:se(t.onPointerUp,l.onThumbPointerUp)})});Kc.displayName=fr;var mn="ScrollAreaCorner",Uc=i.forwardRef((t,s)=>{const r=Qe(mn,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(Cg,{...t,ref:s}):null});Uc.displayName=mn;var Cg=i.forwardRef((t,s)=>{const{__scopeScrollArea:r,...a}=t,n=Qe(mn,r),[o,l]=i.useState(0),[c,m]=i.useState(0),p=!!(o&&c);return Ss(n.scrollbarX,()=>{var d;const x=((d=n.scrollbarX)==null?void 0:d.offsetHeight)||0;n.onCornerHeightChange(x),m(x)}),Ss(n.scrollbarY,()=>{var d;const x=((d=n.scrollbarY)==null?void 0:d.offsetWidth)||0;n.onCornerWidthChange(x),l(x)}),p?e.jsx(ge.div,{...a,ref:s,style:{width:o,height:c,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vr(t){return t?parseInt(t,10):0}function Hc(t,s){const r=t/s;return isNaN(r)?0:r}function zr(t){const s=Hc(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*s;return Math.max(a,18)}function Sg(t,s,r,a="ltr"){const n=zr(r),o=n/2,l=s||o,c=n-l,m=r.scrollbar.paddingStart+l,p=r.scrollbar.size-r.scrollbar.paddingEnd-c,x=r.content-r.viewport,d=a==="ltr"?[0,x]:[x*-1,0];return Gc([m,p],d)(t)}function Xn(t,s,r="ltr"){const a=zr(s),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,o=s.scrollbar.size-n,l=s.content-s.viewport,c=o-a,m=r==="ltr"?[0,l]:[l*-1,0],p=kd(t,m);return Gc([0,l],[0,c])(p)}function Gc(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function Wc(t,s){return t>0&&t<s}var kg=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return function n(){const o={left:t.scrollLeft,top:t.scrollTop},l=r.left!==o.left,c=r.top!==o.top;(l||c)&&s(),r=o,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Vr(t,s){const r=ze(t),a=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,s)},[r,s])}function Ss(t,s){const r=ze(s);ga(()=>{let a=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return n.observe(t),()=>{window.cancelAnimationFrame(a),n.unobserve(t)}}},[t,r])}var qc=_c,Dg=Bc,Tg=Uc;const yr=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(qc,{ref:a,className:Y("relative overflow-hidden",t),...r,children:[e.jsx(Dg,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(Yc,{}),e.jsx(Tg,{})]}));yr.displayName=qc.displayName;const Yc=i.forwardRef(({className:t,orientation:s="vertical",...r},a)=>e.jsx(un,{ref:a,orientation:s,className:Y("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(Kc,{className:"relative flex-1 rounded-full bg-border"})}));Yc.displayName=un.displayName;function Eg({animals:t}){const[s,r]=i.useState(!1),[a,n]=i.useState([]),[o,l]=i.useState(""),[c,m]=i.useState("all"),[p,x]=i.useState(!1),[d,g]=i.useState({recordType:"checkup",date:new Date().toISOString().split("T")[0],description:"",veterinarianName:"",diagnosis:"",treatment:"",medications:"",cost:"",nextCheckupDate:"",notes:""}),{toast:h}=Ye(),y=t.filter(T=>{const b=T.name.toLowerCase().includes(o.toLowerCase())||T.breed.toLowerCase().includes(o.toLowerCase()),j=c==="all"||T.status===c;return b&&j}),u=()=>{a.length===y.length?n([]):n(y.map(T=>T.id))},f=T=>{n(b=>b.includes(T)?b.filter(j=>j!==T):[...b,T])},N=()=>{g({recordType:"checkup",date:new Date().toISOString().split("T")[0],description:"",veterinarianName:"",diagnosis:"",treatment:"",medications:"",cost:"",nextCheckupDate:"",notes:""}),n([])},C=async T=>{if(T.preventDefault(),a.length===0){h({title:"Error",description:"Please select at least one animal.",variant:"destructive"});return}if(!d.recordType||!d.date||!d.description){h({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{x(!0);const b=a.map(j=>wc({animalId:j,recordType:d.recordType,date:d.date,description:d.description,veterinarianName:d.veterinarianName||void 0,diagnosis:d.diagnosis||void 0,treatment:d.treatment||void 0,medications:d.medications||void 0,cost:d.cost?parseFloat(d.cost):void 0,nextCheckupDate:d.nextCheckupDate||void 0,notes:d.notes||void 0}));await Promise.all(b),h({title:"Success",description:`Health records added for ${a.length} animals successfully.`}),r(!1),N()}catch(b){console.error("Error adding bulk health records:",b),h({title:"Error",description:"Failed to add health records. Please try again.",variant:"destructive"})}finally{x(!1)}},D=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"ready_to_sell":return"bg-yellow-100 text-yellow-800";case"dead":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(Ie,{open:s,onOpenChange:r,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Manage Health Records"]})}),e.jsxs(Te,{className:"w-full sm:w-[95vw] sm:max-w-4xl h-[95vh] sm:h-[90vh] max-h-[95vh] sm:max-h-[90vh] flex flex-col p-4 sm:p-6 mx-2 sm:mx-4 my-2 sm:my-4 rounded-lg",children:[e.jsxs(Fe,{className:"pb-4",children:[e.jsxs(Ee,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ws,{className:"h-5 w-5"}),"Bulk Health Records Management"]}),e.jsx(Oe,{className:"text-sm",children:"Add health records to multiple animals at once"})]}),e.jsx(Vs,{className:"mb-4"}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(U,{onClick:C,disabled:p||a.length===0,className:"bg-green-600 hover:bg-green-700 flex-1 sm:flex-none",children:p?"Adding...":`Add Records (${a.length})`}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:p,className:"flex-1 sm:flex-none",children:"Cancel"})]})}),e.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-4 sm:gap-6 flex-1 min-h-0",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-4 flex flex-col flex-1 md:flex-none min-h-0",children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Select Animals"}),e.jsxs(xe,{variant:"secondary",className:"text-xs",children:[a.length," of ",y.length," selected"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search animals...",value:o,onChange:T=>l(T.target.value),className:"pl-10"})]}),e.jsxs(he,{value:c,onValueChange:m,children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Filter by status"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Status"}),e.jsx(R,{value:"active",children:"Active"}),e.jsx(R,{value:"ready_to_sell",children:"Ready to Sell"}),e.jsx(R,{value:"sold",children:"Sold"}),e.jsx(R,{value:"dead",children:"Dead"})]})]})]}),e.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:a.length===y.length?e.jsxs(e.Fragment,{children:[e.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Deselect All"]}):e.jsxs(e.Fragment,{children:[e.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Select All (",y.length,")"]})})]}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(yr,{className:"h-full max-h-[300px] md:max-h-[400px] border rounded-md p-3 health-records-scroll health-records-container",children:e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[y.map(T=>e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-colors min-h-[48px] ${a.includes(T.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>f(T.id),children:[e.jsx(cn,{checked:a.includes(T.id),onChange:()=>f(T.id)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:T.name}),e.jsx(xe,{className:`${D(T.status)} text-xs`,size:"sm",children:T.status})]}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[T.breed," • ",T.type," • ",T.gender]})]})]},T.id)),y.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Xt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No animals found"})]})]})})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 flex flex-col flex-1 md:flex-none min-h-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Health Record Details"}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(yr,{className:"h-full max-h-[300px] md:max-h-[400px] health-records-scroll health-records-container",children:e.jsxs("form",{onSubmit:C,className:"space-y-3 sm:space-y-4 pr-2 sm:pr-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"recordType",className:"text-sm",children:"Record Type *"}),e.jsxs(he,{value:d.recordType,onValueChange:T=>g(b=>({...b,recordType:T})),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"checkup",children:"Routine Checkup"}),e.jsx(R,{value:"treatment",children:"Treatment"}),e.jsx(R,{value:"illness",children:"Illness"}),e.jsx(R,{value:"injury",children:"Injury"}),e.jsx(R,{value:"vaccination",children:"Vaccination"}),e.jsx(R,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"date",className:"text-sm",children:"Date *"}),e.jsx(Q,{id:"date",type:"date",value:d.date,onChange:T=>g(b=>({...b,date:T.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"description",className:"text-sm",children:"Description *"}),e.jsx(we,{id:"description",value:d.description,onChange:T=>g(b=>({...b,description:T.target.value})),placeholder:"Brief description of the health record",required:!0,rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"veterinarianName",className:"text-sm",children:"Veterinarian"}),e.jsx(Q,{id:"veterinarianName",value:d.veterinarianName,onChange:T=>g(b=>({...b,veterinarianName:T.target.value})),placeholder:"Dr. Name"})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"cost",className:"text-sm",children:"Cost per animal (₹)"}),e.jsx(Q,{id:"cost",type:"number",step:"0.01",value:d.cost,onChange:T=>g(b=>({...b,cost:T.target.value})),placeholder:"Treatment cost"})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"diagnosis",className:"text-sm",children:"Diagnosis"}),e.jsx(we,{id:"diagnosis",value:d.diagnosis,onChange:T=>g(b=>({...b,diagnosis:T.target.value})),placeholder:"Veterinarian's diagnosis",rows:2})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"treatment",className:"text-sm",children:"Treatment"}),e.jsx(we,{id:"treatment",value:d.treatment,onChange:T=>g(b=>({...b,treatment:T.target.value})),placeholder:"Treatment provided",rows:2})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"medications",className:"text-sm",children:"Medications"}),e.jsx(we,{id:"medications",value:d.medications,onChange:T=>g(b=>({...b,medications:T.target.value})),placeholder:"Medications prescribed",rows:2})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"nextCheckupDate",className:"text-sm",children:"Next Checkup Date"}),e.jsx(Q,{id:"nextCheckupDate",type:"date",value:d.nextCheckupDate,onChange:T=>g(b=>({...b,nextCheckupDate:T.target.value}))})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx($,{htmlFor:"notes",className:"text-sm",children:"Additional Notes"}),e.jsx(we,{id:"notes",value:d.notes,onChange:T=>g(b=>({...b,notes:T.target.value})),placeholder:"Any additional notes",rows:2})]})]})})})]})]})]})]})}const Pg=kc,Ag=sn,Rg=an;function Mg({animals:t}){const[s,r]=i.useState([]),[a,n]=i.useState(!0),[o,l]=i.useState(""),[c,m]=i.useState("all"),[p,x]=i.useState("all"),[d,g]=i.useState(!1),[h,y]=i.useState(null),[u,f]=i.useState({recordType:"checkup",date:new Date().toISOString().split("T")[0],description:"",veterinarianName:"",diagnosis:"",treatment:"",medications:"",cost:"",nextCheckupDate:"",notes:""}),{toast:N}=Ye();i.useEffect(()=>{C()},[t]);const C=async()=>{try{n(!0);const k=[];await Promise.all(t.map(async M=>{try{(await Xx(M.id)).forEach(oe=>{k.push({...oe,animalName:M.name,animalId:M.id})})}catch(V){console.error(`Error loading health records for ${M.name}:`,V)}})),r(k.sort((M,V)=>new Date(V.date).getTime()-new Date(M.date).getTime()))}catch(k){console.error("Error loading health records:",k),N({title:"Error",description:"Failed to load health records. Please try again.",variant:"destructive"})}finally{n(!1)}},D=s.filter(k=>{const M=k.description.toLowerCase().includes(o.toLowerCase())||k.animalName.toLowerCase().includes(o.toLowerCase())||k.veterinarianName&&k.veterinarianName.toLowerCase().includes(o.toLowerCase()),V=c==="all"||k.recordType===c,oe=p==="all"||k.animalId===p;return M&&V&&oe}),T=D.reduce((k,M)=>{const V=M.date,oe=M.description;return k[V]||(k[V]={}),k[V][oe]||(k[V][oe]=[]),k[V][oe].push(M),k},{}),b=k=>new Date(k).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),j=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),_=k=>{switch(k){case"checkup":return{icon:ws,color:"bg-green-100 text-green-800",label:"Checkup"};case"treatment":return{icon:fu,color:"bg-blue-100 text-blue-800",label:"Treatment"};case"illness":return{icon:kn,color:"bg-red-100 text-red-800",label:"Illness"};case"injury":return{icon:ou,color:"bg-orange-100 text-orange-800",label:"Injury"};case"vaccination":return{icon:at,color:"bg-purple-100 text-purple-800",label:"Vaccination"};default:return{icon:Wt,color:"bg-gray-100 text-gray-800",label:"Other"}}},P=(()=>{if(s.length===0)return null;const k=s.reduce((ae,v)=>ae+(v.cost||0),0),M=s.filter(ae=>{const v=new Date(ae.date),O=new Date;return O.setDate(O.getDate()-30),v>=O}),V=s.filter(ae=>ae.nextCheckupDate&&new Date(ae.nextCheckupDate)>new Date),oe=s.filter(ae=>ae.nextCheckupDate&&new Date(ae.nextCheckupDate)<new Date);return{totalRecords:s.length,totalCost:k,recentRecords:M.length,upcomingCheckups:V.length,overdueCheckups:oe.length}})(),K=Object.entries(T).map(([k,M])=>({date:k,descriptions:Object.entries(M).map(([V,oe])=>({description:V,records:oe,id:`${k}-${V}`}))})),[X,E]=i.useState(new Set),F=k=>{E(M=>{const V=new Set(M);return V.has(k)?V.delete(k):V.add(k),V})},A=k=>{var M;y(k),f({recordType:k.recordType,date:k.date,description:k.description,veterinarianName:k.veterinarianName||"",diagnosis:k.diagnosis||"",treatment:k.treatment||"",medications:k.medications||"",cost:((M=k.cost)==null?void 0:M.toString())||"",nextCheckupDate:k.nextCheckupDate||"",notes:k.notes||""}),g(!0)},q=async k=>{if(k.preventDefault(),!h||!u.recordType||!u.date||!u.description){N({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{const M=await Zx(h.id,{...h,recordType:u.recordType,date:u.date,description:u.description,veterinarianName:u.veterinarianName||void 0,diagnosis:u.diagnosis||void 0,treatment:u.treatment||void 0,medications:u.medications||void 0,cost:u.cost?parseFloat(u.cost):void 0,nextCheckupDate:u.nextCheckupDate||void 0,notes:u.notes||void 0});r(V=>V.map(oe=>oe.id===h.id?{...M,animalName:h.animalName,animalId:h.animalId}:oe)),g(!1),y(null),N({title:"Success",description:"Health record updated successfully."})}catch(M){console.error("Error updating health record:",M),N({title:"Error",description:"Failed to update health record. Please try again.",variant:"destructive"})}},Z=async k=>{if(confirm("Are you sure you want to delete this health record?"))try{await Jx(k.id),r(M=>M.filter(V=>V.id!==k.id)),N({title:"Success",description:"Health record deleted successfully."})}catch(M){console.error("Error deleting health record:",M),N({title:"Error",description:"Failed to delete health record. Please try again.",variant:"destructive"})}},{data:L,pagination:z,totalPages:I,goToPage:ne,changePageSize:S}=_r(K,5);return a?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-green-600 border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading health records..."})]})}):e.jsxs("div",{className:"space-y-6",children:[P&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsx(H,{children:e.jsxs(W,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Total Records"})]}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-blue-900",children:P.totalRecords})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Total Cost"})]}),e.jsx("div",{className:"text-sm sm:text-lg font-bold text-green-900",children:j(P.totalCost)})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Recent (30d)"})]}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-purple-900",children:P.recentRecords})]})}),e.jsx(H,{children:e.jsxs(W,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Upcoming"})]}),e.jsx("div",{className:"text-lg sm:text-xl font-bold text-orange-900",children:P.upcomingCheckups})]})}),e.jsx(H,{className:P.overdueCheckups>0?"border-red-200 bg-red-50":"",children:e.jsxs(W,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kn,{className:`h-4 w-4 ${P.overdueCheckups>0?"text-red-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${P.overdueCheckups>0?"text-red-600":"text-gray-600"}`,children:"Overdue"})]}),e.jsx("div",{className:`text-lg sm:text-xl font-bold ${P.overdueCheckups>0?"text-red-900":"text-gray-900"}`,children:P.overdueCheckups})]})})]}),e.jsx(H,{children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search by description, animal name, or veterinarian...",value:o,onChange:k=>l(k.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(he,{value:c,onValueChange:m,children:[e.jsx(de,{className:"w-full sm:w-40",children:e.jsx(me,{placeholder:"Record Type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Types"}),e.jsx(R,{value:"checkup",children:"Checkup"}),e.jsx(R,{value:"treatment",children:"Treatment"}),e.jsx(R,{value:"illness",children:"Illness"}),e.jsx(R,{value:"injury",children:"Injury"}),e.jsx(R,{value:"vaccination",children:"Vaccination"}),e.jsx(R,{value:"other",children:"Other"})]})]}),e.jsxs(he,{value:p,onValueChange:x,children:[e.jsx(de,{className:"w-full sm:w-48",children:e.jsx(me,{placeholder:"Animal"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Animals"}),t.map(k=>e.jsx(R,{value:k.id,children:k.name},k.id))]})]})]})]})})}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[e.jsx(ct,{className:"h-5 w-5 text-red-500"}),"Health Records Overview"]}),e.jsxs(ke,{children:["All health records across your livestock (",D.length," ","records)"]})]}),e.jsx(W,{children:D.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ws,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No health records found"}),e.jsx("p",{className:"text-sm text-gray-400",children:s.length===0?"Add health records to start tracking medical history.":"Try adjusting your search or filter criteria."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-6",children:L.map(k=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-100 px-4 py-3 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b(k.date)}),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",k.descriptions.reduce((M,V)=>M+V.records.length,0)," ","records)"]})]})}),e.jsx("div",{className:"divide-y",children:k.descriptions.map(M=>{const V=X.has(M.id),oe=[...new Set(M.records.map(ae=>ae.veterinarianName).filter(Boolean))];return e.jsxs(Pg,{children:[e.jsx(Ag,{onClick:()=>F(M.id),className:"w-full p-3 sm:p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-left flex-1 min-w-0",children:[V?e.jsx(Sr,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}):e.jsx(lt,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-md font-medium text-gray-800 truncate",children:M.description}),oe.length>0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-gray-600 mt-1",children:[e.jsx(Ms,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Vet: ",oe.join(", ")]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[M.records.length," animal",M.records.length!==1?"s":""]})})]})}),e.jsx(Rg,{children:e.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-3",children:M.records.map(ae=>{const v=_(ae.recordType),O=v.icon;return e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 hover:bg-gray-100 transition-colors ml-3 sm:ml-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[e.jsxs(xe,{className:v.color,children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),v.label]}),e.jsx("div",{className:"text-sm sm:text-lg font-semibold text-blue-700 bg-blue-50 px-2 sm:px-3 py-1 rounded-full",children:ae.animalName})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 self-start sm:self-auto",children:[ae.cost&&e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm font-medium text-green-700",children:[e.jsx(Yt,{className:"h-3 w-3"}),j(ae.cost)]}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>A(ae),className:"h-8 w-8 p-0 touch-manipulation",title:"Edit record",children:e.jsx(Zt,{className:"h-3 w-3"})}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>Z(ae),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 touch-manipulation",title:"Delete record",children:e.jsx(Qt,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 text-xs sm:text-sm",children:ae.nextCheckupDate&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx($t,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:"Next checkup:"})," ",b(ae.nextCheckupDate)]})}),(ae.diagnosis||ae.treatment||ae.medications)&&e.jsxs("div",{className:"grid grid-cols-1 gap-3 text-xs sm:text-sm bg-white p-3 rounded border",children:[ae.diagnosis&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Diagnosis:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:ae.diagnosis})]}),ae.treatment&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Treatment:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:ae.treatment})]}),ae.medications&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Medications:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:ae.medications})]})]}),ae.notes&&e.jsxs("div",{className:"flex items-start gap-1 text-xs sm:text-sm text-gray-700 bg-blue-50 p-3 rounded",children:[e.jsx(Wt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Notes:"}),e.jsx("p",{className:"mt-1",children:ae.notes})]})]})]})},`${ae.animalId}-${ae.id}`)})})})]},M.id)})})]},k.date))}),D.length>0&&e.jsx(Lr,{currentPage:z.page,totalPages:I,totalItems:z.total,pageSize:z.pageSize,onPageChange:ne,onPageSizeChange:S,pageSizeOptions:[3,5,10,15]})]})})]}),e.jsx(Ie,{open:d,onOpenChange:g,children:e.jsxs(Te,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Edit Health Record"}),e.jsxs(Oe,{children:["Update the health record details for ",h==null?void 0:h.animalName]})]}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"recordType",children:"Record Type *"}),e.jsxs(he,{value:u.recordType,onValueChange:k=>f(M=>({...M,recordType:k})),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select record type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"checkup",children:"Checkup"}),e.jsx(R,{value:"treatment",children:"Treatment"}),e.jsx(R,{value:"illness",children:"Illness"}),e.jsx(R,{value:"injury",children:"Injury"}),e.jsx(R,{value:"vaccination",children:"Vaccination"}),e.jsx(R,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"date",children:"Date *"}),e.jsx(Q,{id:"date",type:"date",value:u.date,onChange:k=>f(M=>({...M,date:k.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"description",children:"Description *"}),e.jsx(Q,{id:"description",placeholder:"Brief description of the health record",value:u.description,onChange:k=>f(M=>({...M,description:k.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"veterinarianName",children:"Veterinarian Name"}),e.jsx(Q,{id:"veterinarianName",placeholder:"Name of the veterinarian",value:u.veterinarianName,onChange:k=>f(M=>({...M,veterinarianName:k.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"diagnosis",children:"Diagnosis"}),e.jsx(we,{id:"diagnosis",placeholder:"Diagnosis details",value:u.diagnosis,onChange:k=>f(M=>({...M,diagnosis:k.target.value})),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"treatment",children:"Treatment"}),e.jsx(we,{id:"treatment",placeholder:"Treatment provided",value:u.treatment,onChange:k=>f(M=>({...M,treatment:k.target.value})),rows:3})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"medications",children:"Medications"}),e.jsx(we,{id:"medications",placeholder:"Medications prescribed or administered",value:u.medications,onChange:k=>f(M=>({...M,medications:k.target.value})),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"cost",children:"Cost (₹)"}),e.jsx(Q,{id:"cost",type:"number",step:"0.01",placeholder:"0.00",value:u.cost,onChange:k=>f(M=>({...M,cost:k.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"nextCheckupDate",children:"Next Checkup Date"}),e.jsx(Q,{id:"nextCheckupDate",type:"date",value:u.nextCheckupDate,onChange:k=>f(M=>({...M,nextCheckupDate:k.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(we,{id:"notes",placeholder:"Any additional notes or observations",value:u.notes,onChange:k=>f(M=>({...M,notes:k.target.value})),rows:3})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-4",children:[e.jsxs(U,{type:"button",variant:"outline",onClick:()=>g(!1),children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(U,{type:"submit",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Update Record"]})]})]})]})})]})}function Ig({isOpen:t,onClose:s,onAdd:r,motherName:a,birthDate:n,kidNumber:o}){const[l,c]=i.useState({name:"",gender:"female",weight:"",status:"alive",markings:"",notes:""}),m=d=>{d.preventDefault(),r(l),p()},p=()=>{c({name:"",gender:"female",weight:"",status:"alive",markings:"",notes:""}),s()},x=`${a}-Kid-${o}-${new Date(n||new Date).getFullYear()}`;return e.jsx(Ie,{open:t,onOpenChange:p,children:e.jsxs(Te,{className:"max-w-md",children:[e.jsxs(Fe,{children:[e.jsxs(Ee,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-pink-600"}),"Add Kid #",o]}),e.jsx(Oe,{children:"Enter details for the new kid"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"name",children:"Name (Optional)"}),e.jsx(Q,{id:"name",value:l.name,onChange:d=>c(g=>({...g,name:d.target.value})),placeholder:`Auto: ${x}`}),e.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use auto-generated name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"gender",children:"Gender"}),e.jsxs(he,{value:l.gender,onValueChange:d=>c(g=>({...g,gender:d})),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"female",children:"Female"}),e.jsx(R,{value:"male",children:"Male"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"weight",children:"Birth Weight (kg)"}),e.jsx(Q,{id:"weight",type:"number",step:"0.1",value:l.weight,onChange:d=>c(g=>({...g,weight:d.target.value})),placeholder:"e.g., 2.5"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"status",children:"Status"}),e.jsxs(he,{value:l.status,onValueChange:d=>c(g=>({...g,status:d})),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"alive",children:"Alive"}),e.jsx(R,{value:"stillborn",children:"Stillborn"}),e.jsx(R,{value:"died_after_birth",children:"Died After Birth"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"markings",children:"Markings (Optional)"}),e.jsx(Q,{id:"markings",value:l.markings,onChange:d=>c(g=>({...g,markings:d.target.value})),placeholder:"e.g., white spot on forehead"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Q,{id:"notes",value:l.notes,onChange:d=>c(g=>({...g,notes:d.target.value})),placeholder:"Additional notes about this kid"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(U,{type:"submit",className:"flex-1 bg-pink-600 hover:bg-pink-700",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add Kid"]}),e.jsx(U,{type:"button",variant:"outline",onClick:p,className:"flex-1",children:"Cancel"})]})]})]})})}function Fg({mother:t,allAnimals:s,onUpdateAnimals:r}){const[a,n]=i.useState(!1),[o,l]=i.useState(!1),[c,m]=i.useState(!1),[p,x]=i.useState(null),[d,g]=i.useState({fatherId:"unknown",breedingDate:"",expectedDeliveryDate:"",actualDeliveryDate:new Date().toISOString().split("T")[0],breedingMethod:"natural",veterinarianName:"",complications:"",notes:"",kids:[]}),{toast:h}=Ye(),y=s.filter(b=>b.type===t.type&&b.gender==="male"&&b.status==="active"),u=b=>{g(j=>({...j,kids:[...j.kids,b]}))},f=b=>{g(j=>({...j,kids:j.kids.filter((_,w)=>w!==b)}))},N=(b,j)=>{g(_=>({..._,kids:_.kids.map((w,P)=>P===b?j:w)})),x(null)},C=b=>{x(b),m(!0)},D=async b=>{if(b.preventDefault(),!d.actualDeliveryDate){h({title:"Birth Date Required",description:"Please select the birth date before saving the record.",variant:"destructive"});return}if(d.kids.length===0){h({title:"No Kids Added",description:"Please click 'Add Kid' to add at least one offspring. For multiple births, click 'Add Kid' multiple times.",variant:"destructive"});return}try{l(!0);const j=[];for(let w=0;w<d.kids.length;w++){const P=d.kids[w];try{const K=P.name||`${t.name}-Kid-${w+1}-${new Date(d.actualDeliveryDate).getFullYear()}`;let X;switch(P.status){case"alive":X="active";break;case"stillborn":case"died_after_birth":X="dead";break;default:X="active"}const E=await en({name:K,type:t.type,breed:t.breed,gender:P.gender,dateOfBirth:d.actualDeliveryDate,photos:[],status:X,currentWeight:P.weight?parseFloat(P.weight):void 0,markings:P.markings||void 0,motherId:t.id,fatherId:d.fatherId!=="unknown"?d.fatherId:void 0,offspring:[],insured:!1,notes:P.notes||void 0,deathDate:P.status!=="alive"?d.actualDeliveryDate:void 0,deathCause:P.status==="stillborn"?"stillborn":P.status==="died_after_birth"?"died after birth":void 0});j.push(E.id)}catch(K){console.error(`Error creating animal record for Kid #${w+1}:`,K),h({title:"Error Creating Animal Record",description:`Failed to create animal record for Kid #${w+1}. Please try again.`,variant:"destructive"});return}}const _=await Yx({motherId:t.id,fatherId:d.fatherId!=="unknown"?d.fatherId:void 0,breedingDate:d.breedingDate||d.actualDeliveryDate,expectedDeliveryDate:d.expectedDeliveryDate||void 0,actualDeliveryDate:d.actualDeliveryDate,totalKids:d.kids.length,maleKids:d.kids.filter(w=>w.gender==="male").length,femaleKids:d.kids.filter(w=>w.gender==="female").length,breedingMethod:d.breedingMethod,veterinarianName:d.veterinarianName||void 0,complications:d.complications||void 0,notes:d.notes||void 0,kidDetails:j});for(const w of j)try{const P=await Rt().then(K=>K.find(X=>X.id===w));P&&await ms(w,{...P,breedingRecordId:_.id,updatedAt:new Date().toISOString()})}catch(P){console.error(`Error updating breeding record ID for animal ${w}:`,P)}if(j.length>0)try{const w={...t,offspring:[...t.offspring||[],...j],updatedAt:new Date().toISOString()};await ms(t.id,w)}catch(w){console.error("Error updating mother's offspring:",w)}if(d.fatherId!=="unknown"&&d.fatherId&&j.length>0)try{const w=s.find(P=>P.id===d.fatherId);if(w){const P={...w,offspring:[...w.offspring||[],...j],updatedAt:new Date().toISOString()};await ms(d.fatherId,P)}}catch(w){console.error("Error updating father's offspring:",w)}h({title:"Birth Record Created Successfully! 🎉",description:`Added ${d.kids.length} kid${d.kids.length!==1?"s":""} to breeding history and livestock. All kids are now visible in the Animal Tracker and breeding history.`}),T(),r(),n(!1)}catch(j){console.error("Error creating breeding record:",j),h({title:"Error",description:"Failed to create breeding record. Please try again.",variant:"destructive"})}finally{l(!1)}},T=()=>{g({fatherId:"unknown",breedingDate:"",expectedDeliveryDate:"",actualDeliveryDate:new Date().toISOString().split("T")[0],breedingMethod:"natural",veterinarianName:"",complications:"",notes:"",kids:[]})};return e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{open:a,onOpenChange:n,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{size:"sm",variant:"outline",className:"bg-pink-50 border-pink-200 text-pink-700 hover:bg-pink-100",title:"Add Kids - Click to record new births for this animal",children:[e.jsx(vu,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Kids"})]})}),e.jsxs(Te,{className:"w-[95vw] max-w-3xl max-h-[95vh] overflow-y-auto mx-2 sm:mx-4",children:[e.jsxs(Fe,{children:[e.jsxs(Ee,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(He,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsxs("span",{className:"truncate",children:["Add Kids - ",t.name]})]}),e.jsxs(Oe,{className:"text-xs sm:text-sm",children:["Record new births and add kids for ",t.name,". The breeding summary will appear on the animal card after saving."]})]}),e.jsx("div",{className:"max-h-[calc(95vh-160px)] overflow-hidden",children:e.jsx(yr,{className:"h-[600px] pr-4",children:e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-6 border-t",children:[e.jsx(U,{type:"submit",disabled:o||d.kids.length===0,className:"bg-pink-600 hover:bg-pink-700 w-full sm:w-auto",children:o?"Adding Kids...":`Add ${d.kids.length} Kid${d.kids.length!==1?"s":""}`}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:o,className:"w-full sm:w-auto",children:"Cancel"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4 text-pink-600"}),"Birth Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"actualDeliveryDate",children:"Birth Date *"}),e.jsx(Q,{id:"actualDeliveryDate",type:"date",value:d.actualDeliveryDate,onChange:b=>g(j=>({...j,actualDeliveryDate:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"fatherId",children:"Father (Optional)"}),e.jsxs(he,{value:d.fatherId,onValueChange:b=>g(j=>({...j,fatherId:b})),children:[e.jsx(de,{children:e.jsx(me,{placeholder:"Select father"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"unknown",children:"Unknown/No Record"}),y.map(b=>e.jsxs(R,{value:b.id,children:[b.name," (",b.breed,")"]},b.id))]})]})]})]})]}),e.jsx(Vs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2 flex-wrap",children:[e.jsx(He,{className:"h-4 w-4 text-pink-600"}),e.jsx("span",{children:"Kids Details"}),e.jsxs(xe,{variant:d.kids.length>1?"default":"secondary",className:d.kids.length>1?"bg-green-100 text-green-800 text-xs":"text-xs",children:[d.kids.length," Kid",d.kids.length!==1?"s":"",d.kids.length>1&&" (Multiple Birth)"]})]}),e.jsxs(U,{type:"button",onClick:()=>m(!0),size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white self-start sm:self-auto",title:"Click to add a new kid",children:[e.jsx(vt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Kid"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),d.kids.length===0?e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-pink-200 rounded-lg bg-pink-50/30",children:[e.jsx(He,{className:"h-8 w-8 mx-auto mb-2 text-pink-400"}),e.jsx("p",{className:"text-pink-600 font-medium mb-1",children:"No kids added yet"}),e.jsx("p",{className:"text-pink-500 text-sm mb-2",children:'Click "Add Kid" to record each offspring'}),e.jsx("p",{className:"text-pink-400 text-xs",children:"💡 For twins, triplets, etc., add each kid separately"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-80 sm:max-h-96 overflow-y-auto",children:d.kids.map((b,j)=>e.jsx(H,{className:"border-pink-200 bg-pink-50/30",children:e.jsx(W,{className:"p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 text-pink-600"}),e.jsxs("span",{className:"text-sm font-medium text-pink-700",children:["Kid #",j+1]}),b.name&&e.jsxs("span",{className:"text-sm text-pink-600",children:["- ",b.name]}),e.jsx(xe,{variant:b.status==="alive"?"default":"destructive",className:"text-xs px-1 py-0",children:b.status})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(U,{type:"button",size:"sm",variant:"outline",onClick:()=>C(j),className:"h-6 px-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:e.jsx(Zt,{className:"h-3 w-3"})}),e.jsx(U,{type:"button",size:"sm",variant:"outline",onClick:()=>f(j),className:"h-6 px-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Qt,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Gender:"}),e.jsxs("span",{className:"ml-1 capitalize",children:[b.gender," (",b.gender==="male"?"M":"F",")"]})]}),b.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Weight:"}),e.jsxs("span",{className:"ml-1",children:[b.weight," kg"]})]}),b.markings&&e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("span",{className:"text-gray-500",children:"Markings:"}),e.jsx("span",{className:"ml-1",children:b.markings})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx("span",{className:"text-green-600 text-xs",children:"✓ Will create animal record"})})]})]})})},j))})]}),e.jsx(Vs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4 text-gray-600"}),"Additional Notes (Optional)"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"notes",children:"Birth Notes"}),e.jsx(we,{id:"notes",value:d.notes,onChange:b=>g(j=>({...j,notes:b.target.value})),placeholder:"Any additional information about the birth...",rows:2})]})})]})]})})})]})]}),e.jsx(Ig,{isOpen:c,onClose:()=>{m(!1),x(null)},onAdd:p!==null?b=>N(p,b):u,motherName:t.name,birthDate:d.actualDeliveryDate,kidNumber:p!==null?p+1:d.kids.length+1})]})}function Zn(){const[t,s]=i.useState([]),[r,a]=i.useState([]),[n,o]=i.useState(null),[l,c]=i.useState({search:"",type:"",gender:"",status:"",breed:"",ageRange:"",weightRange:""}),[m,p]=i.useState(!0),[x,d]=i.useState(!1),[g,h]=i.useState(null),[y,u]=i.useState(null),[f,N]=i.useState(!1),[C,D]=i.useState(!1),[T,b]=i.useState(!0),[j,_]=i.useState([]),{toast:w}=Ye(),P=L=>{const z=j.filter(V=>V.motherId===L.id&&V.actualDeliveryDate),I=j.filter(V=>V.fatherId===L.id&&V.actualDeliveryDate),ne=L.gender==="female"?z.length:I.length,S=L.gender==="female"?z.map(V=>V.totalKids).reduce((V,oe)=>V+oe,0):I.map(V=>V.totalKids).reduce((V,oe)=>V+oe,0),k=L.gender==="female"?z.length>0?Math.max(...z.map(V=>new Date(V.actualDeliveryDate).getTime())):null:I.length>0?Math.max(...I.map(V=>new Date(V.actualDeliveryDate).getTime())):null,M=L.gender==="female"?j.find(V=>V.motherId===L.id&&V.expectedDeliveryDate&&!V.actualDeliveryDate&&new Date(V.expectedDeliveryDate)>new Date):null;return{offspringCount:S,totalBreedings:ne,lastBreedingDate:k?new Date(k):null,isPregnant:!!M,expectedDeliveryDate:M==null?void 0:M.expectedDeliveryDate}},K=_r(r,12);i.useEffect(()=>{(async()=>{try{const[z,I,ne]=await Promise.all([Rt(),sa(),Fs()]);s(z),a(z),o(I),_(ne),D(ne.length>0)}catch(z){console.error("Error loading animal data:",z),w({title:"Error",description:"Failed to load animal data. Please try again.",variant:"destructive"})}finally{p(!1),b(!1)}})()},[w]),i.useEffect(()=>{let L=t;l.search&&(L=L.filter(z=>{var I;return z.name.toLowerCase().includes(l.search.toLowerCase())||z.breed.toLowerCase().includes(l.search.toLowerCase())||((I=z.markings)==null?void 0:I.toLowerCase().includes(l.search.toLowerCase()))})),l.type&&(L=L.filter(z=>z.type===l.type)),l.gender&&(L=L.filter(z=>z.gender===l.gender)),l.status&&(L=L.filter(z=>z.status===l.status)),l.breed&&(L=L.filter(z=>z.breed===l.breed)),a(L)},[t,l]),[...new Set(t.map(L=>L.breed))];const X=async L=>{try{const z=await en(L);s(I=>[z,...I]),d(!1),w({title:"Success",description:"Animal added successfully"})}catch(z){console.error("Error adding animal:",z),w({title:"Error",description:"Failed to add animal. Please try again.",variant:"destructive"})}},E=async L=>{try{const z=await ms(L.id,L);s(I=>I.map(ne=>ne.id===z.id?z:ne)),h(null),w({title:"Success",description:"Animal updated successfully"})}catch(z){console.error("Error updating animal:",z),w({title:"Error",description:"Failed to update animal. Please try again.",variant:"destructive"})}},F=async L=>{try{await Gx(L),s(z=>z.filter(I=>I.id!==L)),w({title:"Success",description:"Animal deleted successfully"})}catch(z){console.error("Error deleting animal:",z),w({title:"Error",description:"Failed to delete animal. Please try again.",variant:"destructive"})}},A=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"ready_to_sell":return"bg-yellow-100 text-yellow-800";case"dead":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=L=>{switch(L){case"active":return"Active";case"sold":return"Sold";case"ready_to_sell":return"Ready to Sell";case"dead":return"Dead";default:return L}},Z=L=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(L);return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-green-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading animal data..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-2 sm:p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(gt,{to:"/",children:e.jsxs(U,{variant:"outline",size:"sm",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Bija Animal Tracker"}),e.jsx("p",{className:"text-slate-600",children:"Comprehensive livestock management system"})]})]}),n&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-green-800 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Total Animals"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.totalAnimals})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4"}),"Active"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:n.activeAnimals})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-yellow-800 flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Ready to Sell"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:n.readyToSell})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-purple-800 flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),"Investment"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-lg font-bold text-purple-900",children:Z(n.totalInvestment)})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-indigo-800 flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Revenue"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-lg font-bold text-indigo-900",children:Z(n.totalRevenue)})})]}),e.jsxs(H,{className:`bg-gradient-to-br border ${n.profitLoss>=0?"from-emerald-50 to-emerald-100 border-emerald-200":"from-red-50 to-red-100 border-red-200"}`,children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:`text-sm font-medium flex items-center gap-2 ${n.profitLoss>=0?"text-emerald-800":"text-red-800"}`,children:[e.jsx(at,{className:"h-4 w-4"}),"Profit/Loss"]})}),e.jsx(W,{children:e.jsx("div",{className:`text-lg font-bold ${n.profitLoss>=0?"text-emerald-900":"text-red-900"}`,children:Z(n.profitLoss)})})]})]}),e.jsx(H,{children:e.jsx(W,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),e.jsx(Q,{placeholder:"Search by name, breed, or markings...",value:l.search,onChange:L=>c(z=>({...z,search:L.target.value})),className:"pl-10 w-full"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(he,{value:l.type||"all",onValueChange:L=>c(z=>({...z,type:L==="all"?"":L})),children:[e.jsx(de,{className:"w-full sm:w-32",children:e.jsx(me,{placeholder:"Type"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Types"}),e.jsx(R,{value:"goat",children:"Goat"}),e.jsx(R,{value:"sheep",children:"Sheep"})]})]}),e.jsxs(he,{value:l.gender||"all",onValueChange:L=>c(z=>({...z,gender:L==="all"?"":L})),children:[e.jsx(de,{className:"w-full sm:w-32",children:e.jsx(me,{placeholder:"Gender"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Genders"}),e.jsx(R,{value:"male",children:"Male"}),e.jsx(R,{value:"female",children:"Female"})]})]}),e.jsxs(he,{value:l.status||"all",onValueChange:L=>c(z=>({...z,status:L==="all"?"":L})),children:[e.jsx(de,{className:"w-full sm:w-40",children:e.jsx(me,{placeholder:"Status"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All Status"}),e.jsx(R,{value:"active",children:"Active"}),e.jsx(R,{value:"ready_to_sell",children:"Ready to Sell"}),e.jsx(R,{value:"sold",children:"Sold"}),e.jsx(R,{value:"dead",children:"Dead"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(Ie,{open:x,onOpenChange:d,children:[e.jsx(Jt,{asChild:!0,children:e.jsxs(U,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Add Animal"]})}),e.jsxs(Te,{className:"max-w-2xl mx-4",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Add New Animal"}),e.jsx(Oe,{children:"Enter the details for the new animal in your livestock."})]}),e.jsx(xa,{onSubmit:X,onCancel:()=>d(!1)})]})]}),e.jsx(Eg,{animals:t}),C&&!T&&e.jsx(gt,{to:"/breeding-history",children:e.jsxs(U,{variant:"outline",className:"bg-pink-50 border-pink-200 text-pink-700 hover:bg-pink-100",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Breeding History"]})}),e.jsx(Ja,{data:r,config:Vx(),disabled:r.length===0})]})]})})}),e.jsx(H,{children:e.jsxs(kc,{open:f,onOpenChange:N,children:[e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(te,{className:"text-lg flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5 text-green-600"}),"Health Records Management"]}),e.jsxs(ke,{children:["Manage health records for all animals in your livestock",!f&&e.jsx("span",{className:"ml-2 text-xs text-blue-600 font-medium",children:"(Click to expand)"})]})]}),e.jsx(ng,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 transition-all duration-200 hover:bg-gray-100 rounded-md p-2",title:f?"Minimize section":"Expand section",children:f?e.jsx(ii,{className:"h-4 w-4"}):e.jsx(Sr,{className:"h-4 w-4"})})})]})}),e.jsx(og,{className:"overflow-hidden data-[state=open]:animate-accordion-down data-[state=closed]:animate-accordion-up",children:e.jsx(W,{children:e.jsx(Mg,{animals:t})})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?e.jsx(H,{className:"col-span-full",children:e.jsxs(W,{className:"text-center py-12",children:[e.jsx(ct,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No animals found"}),e.jsx("p",{className:"text-gray-400",children:"Try adjusting your filters or add a new animal."})]})}):K.data.map(L=>e.jsxs(H,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(te,{className:"text-lg",children:L.name}),e.jsxs(ke,{children:[L.breed," • ",L.type]})]}),e.jsx(xe,{className:A(L.status),children:q(L.status)})]})}),e.jsxs(W,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Gender:"}),e.jsx("div",{className:"font-medium capitalize",children:L.gender})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Weight:"}),e.jsx("div",{className:"font-medium",children:L.currentWeight?`${L.currentWeight} kg`:"N/A"})]}),L.purchasePrice&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Purchase:"}),e.jsx("div",{className:"font-medium",children:Z(L.purchasePrice)})]}),L.salePrice&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Sale:"}),e.jsx("div",{className:"font-medium",children:Z(L.salePrice)})]})]}),(()=>{const z=P(L);return z.offspringCount>0||z.isPregnant?e.jsxs("div",{className:"border-t pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(He,{className:"h-4 w-4 text-pink-600"}),e.jsx("span",{className:"text-sm font-medium text-pink-700",children:"Breeding Summary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[z.offspringCount>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Offspring:"}),e.jsxs("div",{className:"font-medium text-pink-700",children:[z.offspringCount," ",z.offspringCount===1?"kid":"kids"]})]}),z.totalBreedings>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:L.gender==="female"?"Births:":"Breedings:"}),e.jsxs("div",{className:"font-medium text-pink-700",children:[z.totalBreedings," time",z.totalBreedings!==1?"s":""]})]}),z.isPregnant&&e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ct,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{className:"text-xs font-medium text-red-600",children:"Pregnant"}),z.expectedDeliveryDate&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(Due: ",new Date(z.expectedDeliveryDate).toLocaleDateString(),")"]})]})}),z.lastBreedingDate&&!z.isPregnant&&e.jsxs("div",{className:"col-span-2",children:[e.jsxs("span",{className:"text-gray-500",children:["Last ",L.gender==="female"?"Birth":"Breeding",":"]}),e.jsx("div",{className:"font-medium text-gray-700 text-xs",children:z.lastBreedingDate.toLocaleDateString()})]})]})]}):null})(),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(U,{size:"sm",variant:"outline",onClick:()=>u(L),children:e.jsx(Da,{className:"h-4 w-4"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>h(L),children:e.jsx(Zt,{className:"h-4 w-4"})}),L.gender==="female"&&L.status==="active"&&e.jsx(Fg,{mother:L,allAnimals:t,onUpdateAnimals:async()=>{try{const[z,I,ne]=await Promise.all([Rt(),sa(),Fs()]);s(z),a(z),o(I),_(ne)}catch(z){console.error("Error refreshing animal data:",z)}}}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>F(L.id),children:e.jsx(Qt,{className:"h-4 w-4"})})]})]})]},L.id))}),r.length>0&&e.jsx(Lr,{currentPage:K.pagination.page,totalPages:K.totalPages,totalItems:K.pagination.total,pageSize:K.pagination.pageSize,onPageChange:K.goToPage,onPageSizeChange:K.changePageSize})]}),g&&e.jsx(Ie,{open:!0,onOpenChange:()=>h(null),children:e.jsxs(Te,{className:"max-w-2xl mx-4",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Edit Animal"}),e.jsxs(Oe,{children:["Update the details for ",g.name,"."]})]}),e.jsx(xa,{animal:g,onSubmit:E,onCancel:()=>h(null),isEditing:!0})]})}),y&&e.jsx(Ie,{open:!0,onOpenChange:()=>u(null),children:e.jsxs(Te,{className:"max-w-4xl mx-4",children:[e.jsx(Nc,{children:e.jsxs(Ee,{children:["View Animal - ",y.name]})}),e.jsx(xg,{animal:y,allAnimals:t,onEdit:()=>{h(y),u(null)},onClose:()=>u(null),onUpdate:async()=>{try{const[L,z,I]=await Promise.all([Rt(),sa(),Fs()]);s(L),a(L),o(z),_(I)}catch(L){console.error("Error refreshing animal data:",L)}}})]})})]})})}function Og(){const[t,s]=i.useState([]),[r,a]=i.useState([]),[n,o]=i.useState([]),[l,c]=i.useState(!0),[m,p]=i.useState(null),[x,d]=i.useState({search:"",motherId:"all",fatherId:"all",method:"all",status:"all",year:"all",dateFrom:"",dateTo:""}),[g,h]=i.useState(null),[y,u]=i.useState(!1),[f,N]=i.useState(!1),[C,D]=i.useState(null),[T,b]=i.useState(!1),{toast:j}=Ye(),{data:_,pagination:w,totalPages:P,goToPage:K,changePageSize:X}=_r(n,10);i.useEffect(()=>{E()},[]),i.useEffect(()=>{F()},[r,x]),i.useEffect(()=>{r.length>0&&A()},[r]);const E=async()=>{try{c(!0);const[v,O]=await Promise.all([Rt(),Fs()]);s(v),a(O)}catch(v){console.error("Error loading breeding data:",v),j({title:"Error",description:"Failed to load breeding data. Please try again.",variant:"destructive"})}finally{c(!1)}},F=()=>{let v=r;x.motherId&&x.motherId!=="all"&&(v=v.filter(O=>O.motherId===x.motherId)),x.fatherId&&x.fatherId!=="all"&&(v=v.filter(O=>O.fatherId===x.fatherId)),x.method&&x.method!=="all"&&(v=v.filter(O=>O.breedingMethod===x.method)),x.status&&x.status!=="all"&&(v=v.filter(O=>z(O).status===x.status)),x.dateFrom&&(v=v.filter(O=>new Date(O.actualDeliveryDate||O.breedingDate)>=new Date(x.dateFrom))),o(v)},A=()=>{const v=r.length,O=r.filter(Ce=>!Ce.totalKids||Ce.totalKids===0?!1:Ce.kidDetails&&Ce.kidDetails.length>0?Ce.kidDetails.some(Pe=>{const ht=Z(Pe);return(ht==null?void 0:ht.status)!=="dead"}):!0).length,re=r.reduce((Ce,Pe)=>Ce+(Pe.totalKids||0),0),Se=r.reduce((Ce,Pe)=>Ce+(Pe.maleKids||0),0),Ot=r.reduce((Ce,Pe)=>Ce+(Pe.femaleKids||0),0),ss=r.reduce((Ce,Pe)=>Pe.kidDetails?Ce+Pe.kidDetails.length:Ce+(Pe.totalKids||0),0),Xs=r.reduce((Ce,Pe)=>Pe.kidDetails?Ce+Pe.kidDetails.filter(ht=>{const Ds=Z(ht);return(Ds==null?void 0:Ds.status)==="dead"}).length:Ce,0),Kr=ss>0?Xs/ss*100:0,Ur={totalBreedings:v,successfulBreedings:O,totalOffspring:re,averageKidsPerBreeding:v>0?re/v:0,mortalityRate:Kr,activePregnancies:0,maleOffspringCount:Se,femaleOffspringCount:Ot};p(Ur)},q=v=>{if(!v)return"Unknown";const O=t.find(re=>re.id===v);return O?O.name:"Unknown"},Z=v=>t.find(O=>O.id===v),L=v=>new Date(v).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),z=v=>{if(v.actualDeliveryDate){if(v.kidDetails&&v.kidDetails.length>0){const O=v.kidDetails.filter(re=>{const Se=Z(re);return(Se==null?void 0:Se.status)!=="dead"});if(O.length===0)return{status:"failed",label:"Failed",color:"bg-red-100 text-red-800"};if(O.length<v.kidDetails.length)return{status:"partial",label:"Partial Success",color:"bg-orange-100 text-orange-800"}}return{status:"completed",label:"Delivered",color:"bg-green-100 text-green-800"}}if(v.expectedDeliveryDate){const O=new Date(v.expectedDeliveryDate);return new Date>O?{status:"overdue",label:"Overdue",color:"bg-red-100 text-red-800"}:{status:"pregnant",label:"Pregnant",color:"bg-blue-100 text-blue-800"}}return{status:"bred",label:"Bred",color:"bg-yellow-100 text-yellow-800"}},I=r.reduce((v,O)=>{const re=new Date(O.actualDeliveryDate||O.breedingDate),Se=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}`;return v[Se]||(v[Se]={month:Se,breedings:0,offspring:0}),v[Se].breedings+=1,v[Se].offspring+=O.totalKids||0,v},{}),ne=Object.values(I).sort((v,O)=>v.month.localeCompare(O.month)),S=[{name:"Male",value:(m==null?void 0:m.maleOffspringCount)||0,color:"#3B82F6"},{name:"Female",value:(m==null?void 0:m.femaleOffspringCount)||0,color:"#EC4899"}];[...new Set(r.map(v=>new Date(v.actualDeliveryDate||v.breedingDate).getFullYear()))].sort((v,O)=>O-v);const k={filename:"breeding-history",columns:[{header:"Date",key:"date"},{header:"Mother",key:"mother"},{header:"Father",key:"father"},{header:"Method",key:"method"},{header:"Total Kids",key:"totalKids"},{header:"Male Kids",key:"maleKids"},{header:"Female Kids",key:"femaleKids"},{header:"Status",key:"status"},{header:"Veterinarian",key:"veterinarian"},{header:"Complications",key:"complications"}]},M=n.map(v=>({date:L(v.actualDeliveryDate||v.breedingDate),mother:q(v.motherId),father:q(v.fatherId),method:v.breedingMethod||"Unknown",totalKids:v.totalKids||0,maleKids:v.maleKids||0,femaleKids:v.femaleKids||0,status:z(v).label,veterinarian:v.veterinarianName||"",complications:v.complications||""})),V=v=>{h(v),u(!0)},oe=v=>{D({...v}),N(!0)},ae=async()=>{if(C)try{await Qx(C.id,C),j({title:"Success",description:"Breeding record updated successfully."}),N(!1),D(null),await E()}catch(v){console.error("Error updating breeding record:",v),j({title:"Error",description:"Failed to update breeding record. Please try again.",variant:"destructive"})}};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-green-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading breeding history..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-2 sm:p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(gt,{to:"/animals",children:e.jsxs(U,{variant:"outline",size:"sm",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Back to Animals"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Breeding History & Analytics"}),e.jsx("p",{className:"text-slate-600",children:"Comprehensive breeding tracking and performance analysis"})]})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4"}),"Total Breedings"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:m.totalBreedings})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-green-800 flex items-center gap-2",children:[e.jsx(hu,{className:"h-4 w-4"}),"Successful"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-green-900",children:m.successfulBreedings})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-purple-800 flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"}),"Total Offspring"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:m.totalOffspring})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-indigo-800 flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Avg Kids/Breeding"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-indigo-900",children:m.averageKidsPerBreeding.toFixed(1)})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-pink-50 to-pink-100 border-pink-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-pink-800 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Male Offspring"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-pink-900",children:m.maleOffspringCount})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 border-cyan-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-cyan-800 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Female Offspring"]})}),e.jsx(W,{children:e.jsx("div",{className:"text-2xl font-bold text-cyan-900",children:m.femaleOffspringCount})})]}),e.jsxs(H,{className:`bg-gradient-to-br border ${m.mortalityRate>10?"from-red-50 to-red-100 border-red-200":"from-yellow-50 to-yellow-100 border-yellow-200"}`,children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:`text-sm font-medium flex items-center gap-2 ${m.mortalityRate>10?"text-red-800":"text-yellow-800"}`,children:[e.jsx(ia,{className:"h-4 w-4"}),"Mortality Rate"]})}),e.jsx(W,{children:e.jsxs("div",{className:`text-2xl font-bold ${m.mortalityRate>10?"text-red-900":"text-yellow-900"}`,children:[m.mortalityRate.toFixed(1),"%"]})})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[e.jsx(ee,{className:"pb-2",children:e.jsxs(te,{className:"text-sm font-medium text-orange-800 flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Success Rate"]})}),e.jsx(W,{children:e.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[m.totalBreedings>0?(m.successfulBreedings/m.totalBreedings*100).toFixed(1):0,"%"]})})]})]}),e.jsxs(Pr,{defaultValue:"records",className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(Ws,{className:"grid w-full grid-cols-3 max-w-md",children:[e.jsx(Ge,{value:"records",children:"Records"}),e.jsx(Ge,{value:"analytics",children:"Analytics"}),e.jsx(Ge,{value:"calendar",children:"Calendar"})]}),e.jsx(Ja,{data:M,config:k,disabled:n.length===0,className:"ml-4"})]}),e.jsx(We,{value:"records",children:e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsxs(te,{children:["Breeding Records (",n.length,")"]}),e.jsx(ke,{children:"Detailed breeding history and birth records"})]}),e.jsxs(W,{className:"space-y-4",children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ma,{children:[e.jsx(Ia,{children:e.jsxs(us,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Date"}),e.jsx(Q,{type:"date",placeholder:"Filter by date",value:x.dateFrom,onChange:v=>d(O=>({...O,dateFrom:v.target.value})),className:"h-8 text-xs"})]})}),e.jsx(Me,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Mother"}),e.jsxs(he,{value:x.motherId,onValueChange:v=>d(O=>({...O,motherId:v})),children:[e.jsx(de,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"All"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All"}),t.filter(v=>v.gender==="female").map(v=>e.jsx(R,{value:v.id,children:v.name},v.id))]})]})]})}),e.jsx(Me,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Father"}),e.jsxs(he,{value:x.fatherId,onValueChange:v=>d(O=>({...O,fatherId:v})),children:[e.jsx(de,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"All"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All"}),t.filter(v=>v.gender==="male").map(v=>e.jsx(R,{value:v.id,children:v.name},v.id))]})]})]})}),e.jsx(Me,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Method"}),e.jsxs(he,{value:x.method,onValueChange:v=>d(O=>({...O,method:v})),children:[e.jsx(de,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"All"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All"}),e.jsx(R,{value:"natural",children:"Natural"}),e.jsx(R,{value:"artificial_insemination",children:"AI"})]})]})]})}),e.jsx(Me,{children:"Offspring"}),e.jsx(Me,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:"Status"}),e.jsxs(he,{value:x.status,onValueChange:v=>d(O=>({...O,status:v})),children:[e.jsx(de,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"All"})}),e.jsxs(ue,{children:[e.jsx(R,{value:"all",children:"All"}),e.jsx(R,{value:"completed",children:"Delivered"}),e.jsx(R,{value:"failed",children:"Failed"}),e.jsx(R,{value:"partial",children:"Partial"}),e.jsx(R,{value:"pregnant",children:"Pregnant"}),e.jsx(R,{value:"bred",children:"Bred"})]})]})]})}),e.jsx(Me,{children:"Actions"})]})}),e.jsx(Fa,{children:_.map(v=>{const O=z(v);return e.jsxs(us,{children:[e.jsx(De,{children:L(v.actualDeliveryDate||v.breedingDate)}),e.jsx(De,{className:"font-medium",children:q(v.motherId)}),e.jsx(De,{children:q(v.fatherId)}),e.jsx(De,{children:e.jsx(xe,{variant:"outline",children:v.breedingMethod==="artificial_insemination"?"AI":"Natural"})}),e.jsx(De,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:v.totalKids||0}),(v.maleKids||0)>0&&e.jsxs(xe,{className:"bg-blue-100 text-blue-800",children:[v.maleKids,"♂"]}),(v.femaleKids||0)>0&&e.jsxs(xe,{className:"bg-pink-100 text-pink-800",children:[v.femaleKids,"♀"]})]})}),e.jsx(De,{children:e.jsx(xe,{className:O.color,children:O.label})}),e.jsx(De,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{size:"sm",variant:"outline",onClick:()=>V(v),title:"View Details",children:e.jsx(Da,{className:"h-4 w-4"})}),e.jsx(U,{size:"sm",variant:"outline",onClick:()=>oe(v),title:"Edit Record",children:e.jsx(Zt,{className:"h-4 w-4"})})]})})]},v.id)})})]})}),n.length>0&&e.jsx(Lr,{currentPage:w.page,totalPages:P,totalItems:w.total,pageSize:w.pageSize,onPageChange:K,onPageSizeChange:X,pageSizeOptions:[5,10,20,50]})]})]})}),e.jsx(We,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Monthly Breeding Trends"}),e.jsx(ke,{children:"Breedings and offspring over time"})]}),e.jsx(W,{children:e.jsx(is,{width:"100%",height:300,children:e.jsxs(Ed,{data:ne,children:[e.jsx(_o,{strokeDasharray:"3 3"}),e.jsx(Lo,{dataKey:"month"}),e.jsx(Bo,{}),e.jsx(ls,{}),e.jsx(bn,{type:"monotone",dataKey:"breedings",stroke:"#3B82F6",strokeWidth:2,name:"Breedings"}),e.jsx(bn,{type:"monotone",dataKey:"offspring",stroke:"#EC4899",strokeWidth:2,name:"Offspring"})]})})})]}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Offspring Gender Distribution"}),e.jsx(ke,{children:"Male vs Female offspring ratio"})]}),e.jsx(W,{children:e.jsx(is,{width:"100%",height:300,children:e.jsxs(dr,{children:[e.jsx(ur,{data:S,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:v,value:O})=>`${v}: ${O}`,children:S.map((v,O)=>e.jsx(hr,{fill:v.color},`cell-${O}`))}),e.jsx(ls,{})]})})})]}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Breeding Status Distribution"}),e.jsx(ke,{children:"Success, failure, and partial success rates"})]}),e.jsx(W,{children:e.jsx(is,{width:"100%",height:300,children:e.jsxs(dr,{children:[e.jsx(ur,{data:[{name:"Delivered",value:r.filter(v=>z(v).status==="completed").length,color:"#10B981"},{name:"Failed",value:r.filter(v=>z(v).status==="failed").length,color:"#EF4444"},{name:"Partial Success",value:r.filter(v=>z(v).status==="partial").length,color:"#F97316"},{name:"Pregnant",value:r.filter(v=>z(v).status==="pregnant").length,color:"#3B82F6"},{name:"Bred",value:r.filter(v=>z(v).status==="bred").length,color:"#EAB308"}].filter(v=>v.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:v,value:O})=>`${v}: ${O}`,children:r.map((v,O)=>e.jsx(hr,{fill:["#10B981","#EF4444","#F97316","#3B82F6","#EAB308"][O%5]},`cell-${O}`))}),e.jsx(ls,{})]})})})]}),e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Top Performing Mothers"}),e.jsx(ke,{children:"Mothers with most offspring"})]}),e.jsx(W,{children:e.jsx("div",{className:"space-y-3",children:t.filter(v=>v.gender==="female").map(v=>({...v,totalOffspring:r.filter(O=>O.motherId===v.id).reduce((O,re)=>O+(re.totalKids||0),0)})).filter(v=>v.totalOffspring>0).sort((v,O)=>O.totalOffspring-v.totalOffspring).slice(0,5).map(v=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600",children:v.breed})]}),e.jsxs(xe,{className:"bg-green-100 text-green-800",children:[v.totalOffspring," kids"]})]},v.id))})})]})]})}),e.jsx(We,{value:"calendar",children:e.jsxs(H,{children:[e.jsxs(ee,{children:[e.jsx(te,{children:"Breeding Calendar"}),e.jsx(ke,{children:"Timeline view of breeding events and expected deliveries"})]}),e.jsx(W,{children:e.jsx("div",{className:"space-y-4",children:n.sort((v,O)=>new Date(O.actualDeliveryDate||O.expectedDeliveryDate||O.breedingDate).getTime()-new Date(v.actualDeliveryDate||v.expectedDeliveryDate||v.breedingDate).getTime()).map(v=>{const O=z(v);return e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(At,{className:"h-6 w-6 text-gray-600 mb-1"}),e.jsx(xe,{className:O.color,variant:"secondary",children:O.label})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold",children:[q(v.motherId)," ×"," ",q(v.fatherId)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.breedingDate&&`Bred: ${L(v.breedingDate)}`,v.expectedDeliveryDate&&` • Expected: ${L(v.expectedDeliveryDate)}`,v.actualDeliveryDate&&` • Delivered: ${L(v.actualDeliveryDate)}`]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:[v.totalKids||0," kids"]}),e.jsxs("div",{className:"flex gap-1",children:[(v.maleKids||0)>0&&e.jsxs(xe,{className:"bg-blue-100 text-blue-800 text-xs",children:[v.maleKids,"♂"]}),(v.femaleKids||0)>0&&e.jsxs(xe,{className:"bg-pink-100 text-pink-800 text-xs",children:[v.femaleKids,"♀"]})]})]})]}),v.complications&&e.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["⚠️ Complications: ",v.complications]})]})]},v.id)})})})]})})]}),e.jsx(Ie,{open:y,onOpenChange:u,children:e.jsxs(Te,{className:"max-w-2xl",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Breeding Record Details"}),e.jsx(Oe,{children:"View detailed information about this breeding record"})]}),g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Mother"}),e.jsx("p",{className:"mt-1",children:q(g.motherId)})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Father"}),e.jsx("p",{className:"mt-1",children:q(g.fatherId)})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Breeding Date"}),e.jsx("p",{className:"mt-1",children:g.breedingDate?L(g.breedingDate):"Not recorded"})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Delivery Date"}),e.jsx("p",{className:"mt-1",children:g.actualDeliveryDate?L(g.actualDeliveryDate):"Not delivered"})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Method"}),e.jsx("p",{className:"mt-1",children:g.breedingMethod==="artificial_insemination"?"Artificial Insemination":"Natural"})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Total Kids"}),e.jsx("p",{className:"mt-1",children:g.totalKids||0})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Male Kids"}),e.jsx("p",{className:"mt-1",children:g.maleKids||0})]}),e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Female Kids"}),e.jsx("p",{className:"mt-1",children:g.femaleKids||0})]})]}),g.veterinarianName&&e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Veterinarian"}),e.jsx("p",{className:"mt-1",children:g.veterinarianName})]}),g.complications&&e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Complications"}),e.jsx("p",{className:"mt-1 text-red-600",children:g.complications})]}),g.notes&&e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Notes"}),e.jsx("p",{className:"mt-1",children:g.notes})]}),g.kidDetails&&g.kidDetails.length>0&&e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium",children:"Kid Details"}),e.jsx("div",{className:"mt-2 space-y-2",children:g.kidDetails.map((v,O)=>{const re=Z(v);return e.jsx("div",{className:"border rounded p-3 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",(re==null?void 0:re.name)||`Kid ${O+1} (${v})`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",(re==null?void 0:re.gender)||"Unknown"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current Weight:"})," ",re!=null&&re.currentWeight?`${re.currentWeight} kg`:"Not recorded"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",(re==null?void 0:re.status)||"Unknown"]}),(re==null?void 0:re.breed)&&e.jsxs("div",{children:[e.jsx("strong",{children:"Breed:"})," ",re.breed]}),(re==null?void 0:re.dateOfBirth)&&e.jsxs("div",{children:[e.jsx("strong",{children:"Date of Birth:"})," ",L(re.dateOfBirth)]})]})},O)})})]})]})]})}),e.jsx(Ie,{open:f,onOpenChange:N,children:e.jsxs(Te,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fe,{children:[e.jsx(Ee,{children:"Edit Breeding Record"}),e.jsx(Oe,{children:"Update the breeding record information"})]}),C&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{children:"Mother"}),e.jsxs(he,{value:C.motherId,onValueChange:v=>D(O=>O?{...O,motherId:v}:null),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsx(ue,{children:t.filter(v=>v.gender==="female").map(v=>e.jsxs(R,{value:v.id,children:[v.name," (",v.breed,")"]},v.id))})]})]}),e.jsxs("div",{children:[e.jsx($,{children:"Father"}),e.jsxs(he,{value:C.fatherId||"unknown",onValueChange:v=>D(O=>O?{...O,fatherId:v==="unknown"?void 0:v}:null),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"unknown",children:"Unknown/No Record"}),t.filter(v=>v.gender==="male").map(v=>e.jsxs(R,{value:v.id,children:[v.name," (",v.breed,")"]},v.id))]})]})]}),e.jsxs("div",{children:[e.jsx($,{children:"Breeding Date"}),e.jsx(Q,{type:"date",value:C.breedingDate,onChange:v=>D(O=>O?{...O,breedingDate:v.target.value}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Expected Delivery Date"}),e.jsx(Q,{type:"date",value:C.expectedDeliveryDate||"",onChange:v=>D(O=>O?{...O,expectedDeliveryDate:v.target.value||void 0}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Actual Delivery Date"}),e.jsx(Q,{type:"date",value:C.actualDeliveryDate||"",onChange:v=>D(O=>O?{...O,actualDeliveryDate:v.target.value||void 0}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Breeding Method"}),e.jsxs(he,{value:C.breedingMethod||"natural",onValueChange:v=>D(O=>O?{...O,breedingMethod:v}:null),children:[e.jsx(de,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(R,{value:"natural",children:"Natural"}),e.jsx(R,{value:"artificial_insemination",children:"Artificial Insemination"})]})]})]}),e.jsxs("div",{children:[e.jsx($,{children:"Total Kids"}),e.jsx(Q,{type:"number",min:"0",value:C.totalKids||"",onChange:v=>D(O=>O?{...O,totalKids:v.target.value?parseInt(v.target.value):void 0}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Male Kids"}),e.jsx(Q,{type:"number",min:"0",value:C.maleKids||"",onChange:v=>D(O=>O?{...O,maleKids:v.target.value?parseInt(v.target.value):void 0}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Female Kids"}),e.jsx(Q,{type:"number",min:"0",value:C.femaleKids||"",onChange:v=>D(O=>O?{...O,femaleKids:v.target.value?parseInt(v.target.value):void 0}:null)})]}),e.jsxs("div",{children:[e.jsx($,{children:"Veterinarian"}),e.jsx(Q,{value:C.veterinarianName||"",onChange:v=>D(O=>O?{...O,veterinarianName:v.target.value||void 0}:null),placeholder:"Veterinarian name"})]})]}),e.jsxs("div",{children:[e.jsx($,{children:"Complications"}),e.jsx(we,{value:C.complications||"",onChange:v=>D(O=>O?{...O,complications:v.target.value||void 0}:null),placeholder:"Any complications during breeding or delivery",rows:3})]}),e.jsxs("div",{children:[e.jsx($,{children:"Notes"}),e.jsx(we,{value:C.notes||"",onChange:v=>D(O=>O?{...O,notes:v.target.value||void 0}:null),placeholder:"Additional notes",rows:3})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(U,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(U,{onClick:ae,children:"Update Record"})]})]})]})})]})})}function _g(){return e.jsx(Og,{})}const Lg=()=>{const t=Ad();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("h1",{className:"text-6xl sm:text-8xl font-bold mb-4 text-gray-800",children:"404"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-6",children:"Oops! Page not found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),e.jsx("a",{href:"/",className:"inline-block bg-blue-500 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Return to Home"})]})})},Bg=new Em,$g="/farm",zg=()=>e.jsx(Am,{client:Bg,children:e.jsxs(nm,{children:[e.jsx(ih,{}),e.jsx(zh,{}),e.jsx(Rd,{basename:$g,children:e.jsxs(Md,{children:[e.jsx(Bt,{path:"/",element:e.jsx(eg,{})}),e.jsx(Bt,{path:"/expense-tracker",element:e.jsx(Kx,{})}),e.jsx(Bt,{path:"/work-tracker",element:e.jsx(tg,{})}),e.jsx(Bt,{path:"/animals",element:e.jsx(Zn,{})}),e.jsx(Bt,{path:"/animal-tracker",element:e.jsx(Zn,{})}),e.jsx(Bt,{path:"/breeding-history",element:e.jsx(_g,{})}),e.jsx(Bt,{path:"*",element:e.jsx(Lg,{})})]})})]})});ch.createRoot(document.getElementById("root")).render(e.jsx(zg,{}));
